!function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=4)}([function(t,e,n){!function(t){"use strict";var e="1.6.0",n=Object.freeze;function u(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(e in r){t[e]=r[e]}}return t}Object.freeze=function(t){return t};var o=Object.create||function(){function e(){}return function(t){e.prototype=t;return new e}}();function s(t,e){var n=Array.prototype.slice;if(t.bind){return t.bind.apply(t,n.call(arguments,1))}var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var i=0;function c(t){t._leaflet_id=t._leaflet_id||++i;return t._leaflet_id}function r(t,e,n){var i,r,o,a;a=function(){i=false;if(r){o.apply(n,r);r=false}};o=function(){if(i){r=arguments}else{t.apply(n,arguments);setTimeout(a,e);i=true}};return o}function a(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function h(){return false}function f(t,e){var n=Math.pow(10,e===undefined?6:e);return Math.round(t*n)/n}function l(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return l(t).split(/\s+/)}function p(t,e){if(!t.hasOwnProperty("options")){t.options=t.options?o(t.options):{}}for(var n in e){t.options[n]=e[n]}return t.options}function _(t,e,n){var i=[];for(var r in t){i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]))}return(!e||e.indexOf("?")===-1?"?":"&")+i.join("&")}var m=/\{ *([\w_-]+) *\}/g;function v(t,i){return t.replace(m,function(t,e){var n=i[e];if(n===undefined){throw new Error("No value provided for variable "+t)}else if(typeof n==="function"){n=n(i)}return n})}var g=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function y(t,e){for(var n=0;n<t.length;n++){if(t[n]===e){return n}}return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function M(t){var e=+new Date,n=Math.max(0,16-(e-w));w=e+n;return window.setTimeout(t,n)}var T=window.requestAnimationFrame||x("RequestAnimationFrame")||M,P=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function k(t,e,n){if(n&&T===M){t.call(e)}else{return T.call(window,s(t,e))}}function E(t){if(t){P.call(window,t)}}var S=(Object.freeze||Object)({freeze:n,extend:u,create:o,bind:s,lastId:i,stamp:c,throttle:r,wrapNum:a,falseFn:h,formatNum:f,trim:l,splitWords:d,setOptions:p,getParamString:_,template:v,isArray:g,indexOf:y,emptyImageUrl:b,requestFn:T,cancelFn:P,requestAnimFrame:k,cancelAnimFrame:E});function C(){}function z(t){if(typeof L==="undefined"||!L||!L.Mixin){return}t=g(t)?t:[t];for(var e=0;e<t.length;e++){if(t[e]===L.Mixin.Events){console.warn("Deprecated include of L.Mixin.Events: "+"this property will be removed in future releases, "+"please inherit from L.Evented instead.",(new Error).stack)}}}C.extend=function(t){var e=function(){if(this.initialize){this.initialize.apply(this,arguments)}this.callInitHooks()};var n=e.__super__=this.prototype;var i=o(n);i.constructor=e;e.prototype=i;for(var r in this){if(this.hasOwnProperty(r)&&r!=="prototype"&&r!=="__super__"){e[r]=this[r]}}if(t.statics){u(e,t.statics);delete t.statics}if(t.includes){z(t.includes);u.apply(null,[i].concat(t.includes));delete t.includes}if(i.options){t.options=u(o(i.options),t.options)}u(i,t);i._initHooks=[];i.callInitHooks=function(){if(this._initHooksCalled){return}if(n.callInitHooks){n.callInitHooks.call(this)}this._initHooksCalled=true;for(var t=0,e=i._initHooks.length;t<e;t++){i._initHooks[t].call(this)}};return e},C.include=function(t){u(this.prototype,t);return this},C.mergeOptions=function(t){u(this.prototype.options,t);return this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1);var n=typeof t==="function"?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(n);return this};var A={on:function(t,e,n){if(typeof t==="object"){for(var i in t){this._on(i,t[i],e)}}else{t=d(t);for(var r=0,o=t.length;r<o;r++){this._on(t[r],e,n)}}return this},off:function(t,e,n){if(!t){delete this._events}else if(typeof t==="object"){for(var i in t){this._off(i,t[i],e)}}else{t=d(t);for(var r=0,o=t.length;r<o;r++){this._off(t[r],e,n)}}return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];if(!i){i=[];this._events[t]=i}if(n===this){n=undefined}var r={fn:e,ctx:n},o=i;for(var a=0,s=o.length;a<s;a++){if(o[a].fn===e&&o[a].ctx===n){return}}o.push(r)},_off:function(t,e,n){var i,r,o;if(!this._events){return}i=this._events[t];if(!i){return}if(!e){for(r=0,o=i.length;r<o;r++){i[r].fn=h}delete this._events[t];return}if(n===this){n=undefined}if(i){for(r=0,o=i.length;r<o;r++){var a=i[r];if(a.ctx!==n){continue}if(a.fn===e){a.fn=h;if(this._firingCount){this._events[t]=i=i.slice()}i.splice(r,1);return}}}},fire:function(t,e,n){if(!this.listens(t,n)){return this}var i=u({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var o=0,a=r.length;o<a;o++){var s=r[o];s.fn.call(s.ctx||this,i)}this._firingCount--}}if(n){this._propagateEvent(i)}return this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length){return true}if(e){for(var i in this._eventParents){if(this._eventParents[i].listens(t,e)){return true}}}return false},once:function(t,e,n){if(typeof t==="object"){for(var i in t){this.once(i,t[i],e)}return this}var r=s(function(){this.off(t,e,n).off(t,r,n)},this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){this._eventParents=this._eventParents||{};this._eventParents[c(t)]=t;return this},removeEventParent:function(t){if(this._eventParents){delete this._eventParents[c(t)]}return this},_propagateEvent:function(t){for(var e in this._eventParents){this._eventParents[e].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),true)}}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var N=C.extend(A);function I(t,e,n){this.x=n?Math.round(t):t;this.y=n?Math.round(e):e}var D=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function B(t,e,n){if(t instanceof I){return t}if(g(t)){return new I(t[0],t[1])}if(t===undefined||t===null){return t}if(typeof t==="object"&&"x"in t&&"y"in t){return new I(t.x,t.y)}return new I(t,e,n)}function O(t,e){if(!t){return}var n=e?[t,e]:t;for(var i=0,r=n.length;i<r;i++){this.extend(n[i])}}function R(t,e){if(!t||t instanceof O){return t}return new O(t,e)}function Z(t,e){if(!t){return}var n=e?[t,e]:t;for(var i=0,r=n.length;i<r;i++){this.extend(n[i])}}function j(t,e){if(t instanceof Z){return t}return new Z(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e)){throw new Error("Invalid LatLng object: ("+t+", "+e+")")}this.lat=+t;this.lng=+e;if(n!==undefined){this.alt=+n}}function U(t,e,n){if(t instanceof F){return t}if(g(t)&&typeof t[0]!=="object"){if(t.length===3){return new F(t[0],t[1],t[2])}if(t.length===2){return new F(t[0],t[1])}return null}if(t===undefined||t===null){return t}if(typeof t==="object"&&"lat"in t){return new F(t.lat,"lng"in t?t.lng:t.lon,t.alt)}if(e===undefined){return null}return new F(t,e,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(B(t))},_add:function(t){this.x+=t.x;this.y+=t.y;return this},subtract:function(t){return this.clone()._subtract(B(t))},_subtract:function(t){this.x-=t.x;this.y-=t.y;return this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){this.x/=t;this.y/=t;return this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){this.x*=t;this.y*=t;return this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=D(this.x);this.y=D(this.y);return this},distanceTo:function(t){t=B(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){t=B(t);return t.x===this.x&&t.y===this.y},contains:function(t){t=B(t);return Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}},O.prototype={extend:function(t){t=B(t);if(!this.min&&!this.max){this.min=t.clone();this.max=t.clone()}else{this.min.x=Math.min(t.x,this.min.x);this.max.x=Math.max(t.x,this.max.x);this.min.y=Math.min(t.y,this.min.y);this.max.y=Math.max(t.y,this.max.y)}return this},getCenter:function(t){return new I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new I(this.min.x,this.max.y)},getTopRight:function(){return new I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;if(typeof t[0]==="number"||t instanceof I){t=B(t)}else{t=R(t)}if(t instanceof O){e=t.min;n=t.max}else{e=n=t}return e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=R(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return o&&a},overlaps:function(t){t=R(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,a=r.y>e.y&&i.y<n.y;return o&&a},isValid:function(){return!!(this.min&&this.max)}},Z.prototype={extend:function(t){var e=this._southWest,n=this._northEast,i,r;if(t instanceof F){i=t;r=t}else if(t instanceof Z){i=t._southWest;r=t._northEast;if(!i||!r){return this}}else{return t?this.extend(U(t)||j(t)):this}if(!e&&!n){this._southWest=new F(i.lat,i.lng);this._northEast=new F(r.lat,r.lng)}else{e.lat=Math.min(i.lat,e.lat);e.lng=Math.min(i.lng,e.lng);n.lat=Math.max(r.lat,n.lat);n.lng=Math.max(r.lng,n.lng)}return this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new Z(new F(e.lat-i,e.lng-r),new F(n.lat+i,n.lng+r))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){if(typeof t[0]==="number"||t instanceof F||"lat"in t){t=U(t)}else{t=j(t)}var e=this._southWest,n=this._northEast,i,r;if(t instanceof Z){i=t.getSouthWest();r=t.getNorthEast()}else{i=r=t}return i.lat>=e.lat&&r.lat<=n.lat&&i.lng>=e.lng&&r.lng<=n.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return o&&a},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,a=r.lng>e.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){if(!t){return false}t=j(t);return this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)},isValid:function(){return!!(this._southWest&&this._northEast)}},F.prototype={equals:function(t,e){if(!t){return false}t=U(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===undefined?1e-9:e)},toString:function(t){return"LatLng("+f(this.lat,t)+", "+f(this.lng,t)+")"},distanceTo:function(t){return q.distance(this,U(t))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var H={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite){return null}var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),r=this.transformation.transform(e.max,n);return new O(i,r)},infinite:false,wrapLatLng:function(t){var e=this.wrapLng?a(t.lng,this.wrapLng,true):t.lng,n=this.wrapLat?a(t.lat,this.wrapLat,true):t.lat,i=t.alt;return new F(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(i===0&&r===0){return t}var o=t.getSouthWest(),a=t.getNorthEast(),s=new F(o.lat-i,o.lng-r),u=new F(a.lat-i,a.lng-r);return new Z(s,u)}},q=u({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(i)*Math.cos(r)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),G=6378137,W={R:G,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new I(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=G*Math.PI;return new O([-t,-t],[t,t])}()};function Y(t,e,n,i){if(g(t)){this._a=t[0];this._b=t[1];this._c=t[2];this._d=t[3];return}this._a=t;this._b=e;this._c=n;this._d=i}function V(t,e,n,i){return new Y(t,e,n,i)}Y.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){e=e||1;t.x=e*(this._a*t.x+this._b);t.y=e*(this._c*t.y+this._d);return t},untransform:function(t,e){e=e||1;return new I((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var X=u({},q,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return V(t,.5,-t,.5)}()}),J=u({},X,{code:"EPSG:900913"});function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t,e){var n="",i,r,o,a,s,u;for(i=0,o=t.length;i<o;i++){s=t[i];for(r=0,a=s.length;r<a;r++){u=s[r];n+=(r?"L":"M")+u.x+" "+u.y}n+=e?Ct?"z":"x":""}return n||"M0 0"}var Q=document.documentElement.style,tt="ActiveXObject"in window,et=tt&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),it=At("webkit"),rt=At("android"),ot=At("android 2")||At("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=rt&&At("Google")&&at<537&&!("AudioNode"in window),ut=!!window.opera,ct=At("chrome"),ht=At("gecko")&&!it&&!ut&&!tt,ft=!ct&&At("safari"),lt=At("phantom"),dt="OTransition"in Q,pt=navigator.platform.indexOf("Win")===0,_t=tt&&"transition"in Q,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ot,vt="MozPerspective"in Q,gt=!window.L_DISABLE_3D&&(_t||mt||vt)&&!dt&&!lt,yt=typeof orientation!=="undefined"||At("mobile"),bt=yt&&it,xt=yt&&mt,wt=!window.PointerEvent&&window.MSPointerEvent,Mt=!it&&!!(window.PointerEvent||wt),Tt=!window.L_NO_TOUCH&&(Mt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Pt=yt&&ut,Lt=yt&&ht,kt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Et=function(){var t=false;try{var e=Object.defineProperty({},"passive",{get:function(){t=true}});window.addEventListener("testPassiveEventSupport",h,e);window.removeEventListener("testPassiveEventSupport",h,e)}catch(t){}return t},St=function(){return!!document.createElement("canvas").getContext}(),Ct=!!(document.createElementNS&&K("svg").createSVGRect),zt=!Ct&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;e.style.behavior="url(#default#VML)";return e&&typeof e.adj==="object"}catch(t){return false}}();function At(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Nt=(Object.freeze||Object)({ie:tt,ielt9:et,edge:nt,webkit:it,android:rt,android23:ot,androidStock:st,opera:ut,chrome:ct,gecko:ht,safari:ft,phantom:lt,opera12:dt,win:pt,ie3d:_t,webkit3d:mt,gecko3d:vt,any3d:gt,mobile:yt,mobileWebkit:bt,mobileWebkit3d:xt,msPointer:wt,pointer:Mt,touch:Tt,mobileOpera:Pt,mobileGecko:Lt,retina:kt,passiveEvents:Et,canvas:St,svg:Ct,vml:zt}),It=wt?"MSPointerDown":"pointerdown",Dt=wt?"MSPointerMove":"pointermove",Bt=wt?"MSPointerUp":"pointerup",Ot=wt?"MSPointerCancel":"pointercancel",Rt=["INPUT","SELECT","OPTION"],Zt={},jt=false,Ft=0;function Ut(t,e,n,i){if(e==="touchstart"){qt(t,n,i)}else if(e==="touchmove"){Xt(t,n,i)}else if(e==="touchend"){Jt(t,n,i)}return this}function Ht(t,e,n){var i=t["_leaflet_"+e+n];if(e==="touchstart"){t.removeEventListener(It,i,false)}else if(e==="touchmove"){t.removeEventListener(Dt,i,false)}else if(e==="touchend"){t.removeEventListener(Bt,i,false);t.removeEventListener(Ot,i,false)}return this}function qt(t,e,n){var i=s(function(t){if(t.pointerType!=="mouse"&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(Rt.indexOf(t.target.tagName)<0){qe(t)}else{return}}Vt(t,e)});t["_leaflet_touchstart"+n]=i;t.addEventListener(It,i,false);if(!jt){document.documentElement.addEventListener(It,Gt,true);document.documentElement.addEventListener(Dt,Wt,true);document.documentElement.addEventListener(Bt,Yt,true);document.documentElement.addEventListener(Ot,Yt,true);jt=true}}function Gt(t){Zt[t.pointerId]=t;Ft++}function Wt(t){if(Zt[t.pointerId]){Zt[t.pointerId]=t}}function Yt(t){delete Zt[t.pointerId];Ft--}function Vt(t,e){t.touches=[];for(var n in Zt){t.touches.push(Zt[n])}t.changedTouches=[t];e(t)}function Xt(t,e,n){var i=function(t){if((t.pointerType===t.MSPOINTER_TYPE_MOUSE||t.pointerType==="mouse")&&t.buttons===0){return}Vt(t,e)};t["_leaflet_touchmove"+n]=i;t.addEventListener(Dt,i,false)}function Jt(t,e,n){var i=function(t){Vt(t,e)};t["_leaflet_touchend"+n]=i;t.addEventListener(Bt,i,false);t.addEventListener(Ot,i,false)}var Kt=wt?"MSPointerDown":Mt?"pointerdown":"touchstart",$t=wt?"MSPointerUp":Mt?"pointerup":"touchend",Qt="_leaflet_";function te(t,r,e){var o,a,s=false,u=250;function n(t){var e;if(Mt){if(!nt||t.pointerType==="mouse"){return}e=Ft}else{e=t.touches.length}if(e>1){return}var n=Date.now(),i=n-(o||n);a=t.touches?t.touches[0]:t;s=i>0&&i<=u;o=n}function i(t){if(s&&!a.cancelBubble){if(Mt){if(!nt||t.pointerType==="mouse"){return}var e={},n,i;for(i in a){n=a[i];e[i]=n&&n.bind?n.bind(a):n}a=e}a.type="dblclick";a.button=0;r(a);o=null}}t[Qt+Kt+e]=n;t[Qt+$t+e]=i;t[Qt+"dblclick"+e]=r;t.addEventListener(Kt,n,Et?{passive:false}:false);t.addEventListener($t,i,Et?{passive:false}:false);t.addEventListener("dblclick",r,false);return this}function ee(t,e){var n=t[Qt+Kt+e],i=t[Qt+$t+e],r=t[Qt+"dblclick"+e];t.removeEventListener(Kt,n,Et?{passive:false}:false);t.removeEventListener($t,i,Et?{passive:false}:false);if(!nt){t.removeEventListener("dblclick",r,false)}return this}var ne=Te(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ie=Te(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),re=ie==="webkitTransition"||ie==="OTransition"?ie+"End":"transitionend",oe,ae,se,ue,ce;function he(t){return typeof t==="string"?document.getElementById(t):t}function fe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||n==="auto")&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return n==="auto"?null:n}function le(t,e,n){var i=document.createElement(t);i.className=e||"";if(n){n.appendChild(i)}return i}function de(t){var e=t.parentNode;if(e){e.removeChild(t)}}function pe(t){while(t.firstChild){t.removeChild(t.firstChild)}}function _e(t){var e=t.parentNode;if(e&&e.lastChild!==t){e.appendChild(t)}}function me(t){var e=t.parentNode;if(e&&e.firstChild!==t){e.insertBefore(t,e.firstChild)}}function ve(t,e){if(t.classList!==undefined){return t.classList.contains(e)}var n=xe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ge(t,e){if(t.classList!==undefined){var n=d(e);for(var i=0,r=n.length;i<r;i++){t.classList.add(n[i])}}else if(!ve(t,e)){var o=xe(t);be(t,(o?o+" ":"")+e)}}function ye(t,e){if(t.classList!==undefined){t.classList.remove(e)}else{be(t,l((" "+xe(t)+" ").replace(" "+e+" "," ")))}}function be(t,e){if(t.className.baseVal===undefined){t.className=e}else{t.className.baseVal=e}}function xe(t){if(t.correspondingElement){t=t.correspondingElement}return t.className.baseVal===undefined?t.className:t.className.baseVal}function we(t,e){if("opacity"in t.style){t.style.opacity=e}else if("filter"in t.style){Me(t,e)}}function Me(t,e){var n=false,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(e===1){return}}e=Math.round(e*100);if(n){n.Enabled=e!==100;n.Opacity=e}else{t.style.filter+=" progid:"+i+"(opacity="+e+")"}}function Te(t){var e=document.documentElement.style;for(var n=0;n<t.length;n++){if(t[n]in e){return t[n]}}return false}function Pe(t,e,n){var i=e||new I(0,0);t.style[ne]=(_t?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Le(t,e){t._leaflet_pos=e;if(gt){Pe(t,e)}else{t.style.left=e.x+"px";t.style.top=e.y+"px"}}function ke(t){return t._leaflet_pos||new I(0,0)}if("onselectstart"in document){oe=function(){Be(window,"selectstart",qe)};ae=function(){Re(window,"selectstart",qe)}}else{var Ee=Te(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oe=function(){if(Ee){var t=document.documentElement.style;se=t[Ee];t[Ee]="none"}};ae=function(){if(Ee){document.documentElement.style[Ee]=se;se=undefined}}}function Se(){Be(window,"dragstart",qe)}function Ce(){Re(window,"dragstart",qe)}function ze(t){while(t.tabIndex===-1){t=t.parentNode}if(!t.style){return}Ae();ue=t;ce=t.style.outline;t.style.outline="none";Be(window,"keydown",Ae)}function Ae(){if(!ue){return}ue.style.outline=ce;ue=undefined;ce=undefined;Re(window,"keydown",Ae)}function Ne(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ie(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var De=(Object.freeze||Object)({TRANSFORM:ne,TRANSITION:ie,TRANSITION_END:re,get:he,getStyle:fe,create:le,remove:de,empty:pe,toFront:_e,toBack:me,hasClass:ve,addClass:ge,removeClass:ye,setClass:be,getClass:xe,setOpacity:we,testProp:Te,setTransform:Pe,setPosition:Le,getPosition:ke,disableTextSelection:oe,enableTextSelection:ae,disableImageDrag:Se,enableImageDrag:Ce,preventOutline:ze,restoreOutline:Ae,getSizedParentNode:Ne,getScale:Ie});function Be(t,e,n,i){if(typeof e==="object"){for(var r in e){Ze(t,r,e[r],n)}}else{e=d(e);for(var o=0,a=e.length;o<a;o++){Ze(t,e[o],n,i)}}return this}var Oe="_leaflet_events";function Re(t,e,n,i){if(typeof e==="object"){for(var r in e){je(t,r,e[r],n)}}else if(e){e=d(e);for(var o=0,a=e.length;o<a;o++){je(t,e[o],n,i)}}else{for(var s in t[Oe]){je(t,s,t[Oe][s])}delete t[Oe]}return this}function Ze(e,t,n,i){var r=t+c(n)+(i?"_"+c(i):"");if(e[Oe]&&e[Oe][r]){return this}var o=function(t){return n.call(i||e,t||window.event)};var a=o;if(Mt&&t.indexOf("touch")===0){Ut(e,t,o,r)}else if(Tt&&t==="dblclick"&&te&&!(Mt&&ct)){te(e,o,r)}else if("addEventListener"in e){if(t==="mousewheel"){e.addEventListener("onwheel"in e?"wheel":"mousewheel",o,Et?{passive:false}:false)}else if(t==="mouseenter"||t==="mouseleave"){o=function(t){t=t||window.event;if(Qe(e,t)){a(t)}};e.addEventListener(t==="mouseenter"?"mouseover":"mouseout",o,false)}else{if(t==="click"&&rt){o=function(t){tn(t,a)}}e.addEventListener(t,o,false)}}else if("attachEvent"in e){e.attachEvent("on"+t,o)}e[Oe]=e[Oe]||{};e[Oe][r]=o}function je(t,e,n,i){var r=e+c(n)+(i?"_"+c(i):""),o=t[Oe]&&t[Oe][r];if(!o){return this}if(Mt&&e.indexOf("touch")===0){Ht(t,e,r)}else if(Tt&&e==="dblclick"&&ee&&!(Mt&&ct)){ee(t,r)}else if("removeEventListener"in t){if(e==="mousewheel"){t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,Et?{passive:false}:false)}else{t.removeEventListener(e==="mouseenter"?"mouseover":e==="mouseleave"?"mouseout":e,o,false)}}else if("detachEvent"in t){t.detachEvent("on"+e,o)}t[Oe][r]=null}function Fe(t){if(t.stopPropagation){t.stopPropagation()}else if(t.originalEvent){t.originalEvent._stopped=true}else{t.cancelBubble=true}$e(t);return this}function Ue(t){Ze(t,"mousewheel",Fe);return this}function He(t){Be(t,"mousedown touchstart dblclick",Fe);Ze(t,"click",Ke);return this}function qe(t){if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}return this}function Ge(t){qe(t);Fe(t);return this}function We(t,e){if(!e){return new I(t.clientX,t.clientY)}var n=Ie(e),i=n.boundingClientRect;return new I((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ye=pt&&ct?2*window.devicePixelRatio:ht?window.devicePixelRatio:1;function Ve(t){return nt?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ye:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}var Xe={},Je;function Ke(t){Xe[t.type]=true}function $e(t){var e=Xe[t.type];Xe[t.type]=false;return e}function Qe(t,e){var n=e.relatedTarget;if(!n){return true}try{while(n&&n!==t){n=n.parentNode}}catch(t){return false}return n!==t}function tn(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Je&&n-Je;if(i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated){Ge(t);return}Je=n;e(t)}var en=(Object.freeze||Object)({on:Be,off:Re,stopPropagation:Fe,disableScrollPropagation:Ue,disableClickPropagation:He,preventDefault:qe,stop:Ge,getMousePosition:We,getWheelDelta:Ve,fakeStop:Ke,skipped:$e,isExternalTarget:Qe,addListener:Be,removeListener:Re}),nn=N.extend({run:function(t,e,n,i){this.stop();this._el=t;this._inProgress=true;this._duration=n||.25;this._easeOutPower=1/Math.max(i||.5,.2);this._startPos=ke(t);this._offset=e.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){if(!this._inProgress){return}this._step(true);this._complete()},_animate:function(){this._animId=k(this._animate,this);this._step()},_step:function(t){var e=+new Date-this._startTime,n=this._duration*1e3;if(e<n){this._runFrame(this._easeOut(e/n),t)}else{this._runFrame(1);this._complete()}},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));if(e){n._round()}Le(this._el,n);this.fire("step")},_complete:function(){E(this._animId);this._inProgress=false;this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),rn=N.extend({options:{crs:X,center:undefined,zoom:undefined,minZoom:undefined,maxZoom:undefined,layers:[],maxBounds:undefined,renderer:undefined,zoomAnimation:true,zoomAnimationThreshold:4,fadeAnimation:true,markerZoomAnimation:true,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:true},initialize:function(t,e){e=p(this,e);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=true;this._initContainer(t);this._initLayout();this._onResize=s(this._onResize,this);this._initEvents();if(e.maxBounds){this.setMaxBounds(e.maxBounds)}if(e.zoom!==undefined){this._zoom=this._limitZoom(e.zoom)}if(e.center&&e.zoom!==undefined){this.setView(U(e.center),e.zoom,{reset:true})}this.callInitHooks();this._zoomAnimated=ie&&gt&&!Pt&&this.options.zoomAnimation;if(this._zoomAnimated){this._createAnimProxy();Be(this._proxy,re,this._catchTransitionEnd,this)}this._addLayers(this.options.layers)},setView:function(t,e,n){e=e===undefined?this._zoom:this._limitZoom(e);t=this._limitCenter(U(t),e,this.options.maxBounds);n=n||{};this._stop();if(this._loaded&&!n.reset&&n!==true){if(n.animate!==undefined){n.zoom=u({animate:n.animate},n.zoom);n.pan=u({animate:n.animate,duration:n.duration},n.pan)}var i=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(i){clearTimeout(this._sizeTimer);return this}}this._resetView(t,e);return this},setZoom:function(t,e){if(!this._loaded){this._zoom=t;return this}return this.setView(this.getCenter(),t,{zoom:e})},zoomIn:function(t,e){t=t||(gt?this.options.zoomDelta:1);return this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){t=t||(gt?this.options.zoomDelta:1);return this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof I?t:this.latLngToContainerPoint(t),a=o.subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{};t=t.getBounds?t.getBounds():j(t);var n=B(e.paddingTopLeft||e.padding||[0,0]),i=B(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,false,n.add(i));r=typeof e.maxZoom==="number"?Math.min(e.maxZoom,r):r;if(r===Infinity){return{center:t.getCenter(),zoom:r}}var o=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),s=this.project(t.getNorthEast(),r),u=this.unproject(a.add(s).divideBy(2).add(o),r);return{center:u,zoom:r}},fitBounds:function(t,e){t=j(t);if(!t.isValid()){throw new Error("Bounds are not valid.")}var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){t=B(t).round();e=e||{};if(!t.x&&!t.y){return this.fire("moveend")}if(e.animate!==true&&!this.getSize().contains(t)){this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom());return this}if(!this._panAnim){this._panAnim=new nn;this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!e.noMoveStart){this.fire("movestart")}if(e.animate!==false){ge(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else{this._rawPanBy(t);this.fire("move").fire("moveend")}return this},flyTo:function(n,i,t){t=t||{};if(t.animate===false||!gt){return this.setView(n,i,t)}this._stop();var r=this.project(this.getCenter()),o=this.project(n),e=this.getSize(),a=this._zoom;n=U(n);i=i===undefined?a:i;var u=Math.max(e.x,e.y),c=u*this.getZoomScale(a,i),h=o.distanceTo(r)||1,s=1.42,f=s*s;function l(t){var e=t?-1:1,n=t?c:u,i=c*c-u*u+e*f*f*h*h,r=2*n*f*h,o=i/r,a=Math.sqrt(o*o+1)-o;var s=a<1e-9?-18:Math.log(a);return s}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}function _(t){return d(t)/p(t)}var m=l(0);function v(t){return u*(p(m)/p(m+s*t))}function g(t){return u*(p(m)*_(m+s*t)-d(m))/f}function y(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),x=(l(1)-m)/s,w=t.duration?1e3*t.duration:1e3*x*.8;function M(){var t=(Date.now()-b)/w,e=y(t)*x;if(t<=1){this._flyToFrame=k(M,this);this._move(this.unproject(r.add(o.subtract(r).multiplyBy(g(e)/h)),a),this.getScaleZoom(u/v(e),a),{flyTo:true})}else{this._move(n,i)._moveEnd(true)}}this._moveStart(true,t.noMoveStart);M.call(this);return this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){t=j(t);if(!t.isValid()){this.options.maxBounds=null;return this.off("moveend",this._panInsideMaxBounds)}else if(this.options.maxBounds){this.off("moveend",this._panInsideMaxBounds)}this.options.maxBounds=t;if(this._loaded){this._panInsideMaxBounds()}return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){var e=this.options.minZoom;this.options.minZoom=t;if(this._loaded&&e!==t){this.fire("zoomlevelschange");if(this.getZoom()<this.options.minZoom){return this.setZoom(t)}}return this},setMaxZoom:function(t){var e=this.options.maxZoom;this.options.maxZoom=t;if(this._loaded&&e!==t){this.fire("zoomlevelschange");if(this.getZoom()>this.options.maxZoom){return this.setZoom(t)}}return this},panInsideBounds:function(t,e){this._enforcingBounds=true;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(t));if(!n.equals(i)){this.panTo(i,e)}this._enforcingBounds=false;return this},panInside:function(t,e){e=e||{};var n=B(e.paddingTopLeft||e.padding||[0,0]),i=B(e.paddingBottomRight||e.padding||[0,0]),r=this.getCenter(),o=this.project(r),a=this.project(t),s=this.getPixelBounds(),u=s.getSize().divideBy(2),c=R([s.min.add(n),s.max.subtract(i)]);if(!c.contains(a)){this._enforcingBounds=true;var h=o.subtract(a),f=B(a.x+h.x,a.y+h.y);if(a.x<c.min.x||a.x>c.max.x){f.x=o.x-h.x;if(h.x>0){f.x+=u.x-n.x}else{f.x-=u.x-i.x}}if(a.y<c.min.y||a.y>c.max.y){f.y=o.y-h.y;if(h.y>0){f.y+=u.y-n.y}else{f.y-=u.y-i.y}}this.panTo(this.unproject(f),e);this._enforcingBounds=false}return this},invalidateSize:function(t){if(!this._loaded){return this}t=u({animate:false,pan:true},t===true?{animate:true}:t);var e=this.getSize();this._sizeChanged=true;this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),o=i.subtract(r);if(!o.x&&!o.y){return this}if(t.animate&&t.pan){this.panBy(o)}else{if(t.pan){this._rawPanBy(o)}this.fire("move");if(t.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)}else{this.fire("moveend")}}return this.fire("resize",{oldSize:e,newSize:n})},stop:function(){this.setZoom(this._limitZoom(this._zoom));if(!this.options.zoomSnap){this.fire("viewreset")}return this._stop()},locate:function(t){t=this._locateOptions=u({timeout:1e4,watch:false},t);if(!("geolocation"in navigator)){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var e=s(this._handleGeolocationResponse,this),n=s(this._handleGeolocationError,this);if(t.watch){this._locationWatchId=navigator.geolocation.watchPosition(e,n,t)}else{navigator.geolocation.getCurrentPosition(e,n,t)}return this},stopLocate:function(){if(navigator.geolocation&&navigator.geolocation.clearWatch){navigator.geolocation.clearWatch(this._locationWatchId)}if(this._locateOptions){this._locateOptions.setView=false}return this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");if(this._locateOptions.setView&&!this._loaded){this.fitWorld()}this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new F(e,n),r=i.toBounds(t.coords.accuracy*2),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:i,bounds:r,timestamp:t.timestamp};for(var u in t.coords){if(typeof t.coords[u]==="number"){s[u]=t.coords[u]}}this.fire("locationfound",s)},addHandler:function(t,e){if(!e){return this}var n=this[t]=new e(this);this._handlers.push(n);if(this.options[t]){n.enable()}return this},remove:function(){this._initEvents(true);if(this._containerId!==this._container._leaflet_id){throw new Error("Map container is being reused by another instance")}try{delete this._container._leaflet_id;delete this._containerId}catch(t){this._container._leaflet_id=undefined;this._containerId=undefined}if(this._locationWatchId!==undefined){this.stopLocate()}this._stop();de(this._mapPane);if(this._clearControlPos){this._clearControlPos()}if(this._resizeRequest){E(this._resizeRequest);this._resizeRequest=null}this._clearHandlers();if(this._loaded){this.fire("unload")}var t;for(t in this._layers){this._layers[t].remove()}for(t in this._panes){de(this._panes[t])}this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=le("div",n,e||this._mapPane);if(t){this._panes[t]=i}return i},getCenter:function(){this._checkIfLoaded();if(this._lastCenter&&!this._moved()){return this._lastCenter}return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new Z(e,n)},getMinZoom:function(){return this.options.minZoom===undefined?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===undefined?this._layersMaxZoom===undefined?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t);n=B(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),c=R(this.project(s,i),this.project(a,i)).getSize(),h=gt?this.options.zoomSnap:1,f=u.x/c.x,l=u.y/c.y,d=e?Math.max(f,l):Math.min(f,l);i=this.getScaleZoom(d,i);if(h){i=Math.round(i/(h/100))*(h/100);i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h}return Math.max(r,Math.min(o,i))},getSize:function(){if(!this._size||this._sizeChanged){this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0);this._sizeChanged=false}return this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new O(n,n.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===undefined?this.getZoom():t)},getPane:function(t){return typeof t==="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;e=e===undefined?this._zoom:e;return n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===undefined?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?Infinity:i},project:function(t,e){e=e===undefined?this._zoom:e;return this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){e=e===undefined?this._zoom:e;return this.options.crs.pointToLatLng(B(t),e)},layerPointToLatLng:function(t){var e=B(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(U(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return B(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return B(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(B(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return We(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=he(t);if(!e){throw new Error("Map container not found.")}else if(e._leaflet_id){throw new Error("Map container is already initialized.")}Be(e,"scroll",this._onScroll,this);this._containerId=c(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt;ge(t,"leaflet-container"+(Tt?" leaflet-touch":"")+(kt?" leaflet-retina":"")+(et?" leaflet-oldie":"")+(ft?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=fe(t,"position");if(e!=="absolute"&&e!=="relative"&&e!=="fixed"){t.style.position="relative"}this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var t=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);Le(this._mapPane,new I(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");if(!this.options.markerZoomAnimation){ge(t.markerPane,"leaflet-zoom-hide");ge(t.shadowPane,"leaflet-zoom-hide")}},_resetView:function(t,e){Le(this._mapPane,new I(0,0));var n=!this._loaded;this._loaded=true;e=this._limitZoom(e);this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,false)._move(t,e)._moveEnd(i);this.fire("viewreset");if(n){this.fire("load")}},_moveStart:function(t,e){if(t){this.fire("zoomstart")}if(!e){this.fire("movestart")}return this},_move:function(t,e,n){if(e===undefined){e=this._zoom}var i=this._zoom!==e;this._zoom=e;this._lastCenter=t;this._pixelOrigin=this._getNewPixelOrigin(t);if(i||n&&n.pinch){this.fire("zoom",n)}return this.fire("move",n)},_moveEnd:function(t){if(t){this.fire("zoomend")}return this.fire("moveend")},_stop:function(){E(this._flyToFrame);if(this._panAnim){this._panAnim.stop()}return this},_rawPanBy:function(t){Le(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){if(!this._enforcingBounds){this.panInsideBounds(this.options.maxBounds)}},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(t){this._targets={};this._targets[c(this._container)]=this;var e=t?Re:Be;e(this._container,"click dblclick mousedown mouseup "+"mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this);if(this.options.trackResize){e(window,"resize",this._onResize,this)}if(gt&&this.options.transform3DLimit){(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)}},_onResize:function(){E(this._resizeRequest);this._resizeRequest=k(function(){this.invalidateSize({debounceMoveend:true})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();if(Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit){this._resetView(this.getCenter(),this.getZoom())}},_findEventTargets:function(t,e){var n=[],i,r=e==="mouseout"||e==="mouseover",o=t.target||t.srcElement,a=false;while(o){i=this._targets[c(o)];if(i&&(e==="click"||e==="preclick")&&!t._simulated&&this._draggableMoved(i)){a=true;break}if(i&&i.listens(e,true)){if(r&&!Qe(o,t)){break}n.push(i);if(r){break}}if(o===this._container){break}o=o.parentNode}if(!n.length&&!a&&!r&&Qe(o,t)){n=[this]}return n},_handleDOMEvent:function(t){if(!this._loaded||$e(t)){return}var e=t.type;if(e==="mousedown"||e==="keypress"||e==="keyup"||e==="keydown"){ze(t.target||t.srcElement)}this._fireDOMEvent(t,e)},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if(t.type==="click"){var i=u({},t);i.type="preclick";this._fireDOMEvent(i,i.type,n)}if(t._stopped){return}n=(n||[]).concat(this._findEventTargets(t,e));if(!n.length){return}var r=n[0];if(e==="contextmenu"&&r.listens(e,true)){qe(t)}var o={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var a=r.getLatLng&&(!r._radius||r._radius<=10);o.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t);o.layerPoint=this.containerPointToLayerPoint(o.containerPoint);o.latlng=a?r.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(var s=0;s<n.length;s++){n[s].fire(e,o,true);if(o.originalEvent._stopped||n[s].options.bubblingMouseEvents===false&&y(this._mouseEvents,e)!==-1){return}}},_draggableMoved:function(t){t=t.dragging&&t.dragging.enabled()?t:this;return t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++){this._handlers[t].disable()}},whenReady:function(t,e){if(this._loaded){t.call(e||this,{target:this})}else{this.on("load",t,e)}return this},_getMapPanePos:function(){return ke(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==undefined?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return R([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n){return t}var i=this.project(t,e),r=this.getSize().divideBy(2),o=new O(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,e);if(a.round().equals([0,0])){return t}return this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e){return t}var n=this.getPixelBounds(),i=new O(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=R(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max),a=this._rebound(r.x,-o.x),s=this._rebound(r.y,-o.y);return new I(a,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=gt?this.options.zoomSnap:1;if(i){t=Math.round(t/i)*i}return Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();if((e&&e.animate)!==true&&!this.getSize().contains(n)){return false}this.panBy(n,e);return true},_createAnimProxy:function(){var t=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t);this.on("zoomanim",function(t){var e=ne,n=this._proxy.style[e];Pe(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1));if(n===this._proxy.style[e]&&this._animatingZoom){this._onZoomTransitionEnd()}},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){de(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Pe(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){if(this._animatingZoom&&t.propertyName.indexOf("transform")>=0){this._onZoomTransitionEnd()}},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom){return true}n=n||{};if(!this._zoomAnimated||n.animate===false||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold){return false}var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);if(n.animate!==true&&!this.getSize().contains(r)){return false}k(function(){this._moveStart(true,false)._animateZoom(t,e,true)},this);return true},_animateZoom:function(t,e,n,i){if(!this._mapPane){return}if(n){this._animatingZoom=true;this._animateToCenter=t;this._animateToZoom=e;ge(this._mapPane,"leaflet-zoom-anim")}this.fire("zoomanim",{center:t,zoom:e,noUpdate:i});setTimeout(s(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){if(!this._animatingZoom){return}if(this._mapPane){ye(this._mapPane,"leaflet-zoom-anim")}this._animatingZoom=false;this._move(this._animateToCenter,this._animateToZoom);k(function(){this._moveEnd(true)},this)}});function on(t,e){return new rn(t,e)}var an=C.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;if(e){e.removeControl(this)}this.options.position=t;if(e){e.addControl(this)}return this},getContainer:function(){return this._container},addTo:function(t){this.remove();this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];ge(e,"leaflet-control");if(n.indexOf("bottom")!==-1){i.insertBefore(e,i.firstChild)}else{i.appendChild(e)}this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map){return this}de(this._container);if(this.onRemove){this.onRemove(this._map)}this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(t){if(this._map&&t&&t.screenX>0&&t.screenY>0){this._map.getContainer().focus()}}}),sn=function(t){return new an(t)};rn.include({addControl:function(t){t.addTo(this);return this},removeControl:function(t){t.remove();return this},_initControlPos:function(){var i=this._controlCorners={},r="leaflet-",o=this._controlContainer=le("div",r+"control-container",this._container);function t(t,e){var n=r+t+" "+r+e;i[t+e]=le("div",n,o)}t("top","left");t("top","right");t("bottom","left");t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners){de(this._controlCorners[t])}de(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var un=an.extend({options:{collapsed:true,position:"topright",autoZIndex:true,hideSingleBase:false,sortLayers:false,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){p(this,n);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=false;for(var i in t){this._addLayer(t[i],i)}for(i in e){this._addLayer(e[i],i,true)}},onAdd:function(t){this._initLayout();this._update();this._map=t;t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++){this._layers[e].layer.on("add remove",this._onLayerChange,this)}return this._container},addTo:function(t){an.prototype.addTo.call(this,t);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++){this._layers[t].layer.off("add remove",this._onLayerChange,this)}},addBaseLayer:function(t,e){this._addLayer(t,e);return this._map?this._update():this},addOverlay:function(t,e){this._addLayer(t,e,true);return this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(c(t));if(e){this._layers.splice(this._layers.indexOf(e),1)}return this._map?this._update():this},expand:function(){ge(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);if(t<this._section.clientHeight){ge(this._section,"leaflet-control-layers-scrollbar");this._section.style.height=t+"px"}else{ye(this._section,"leaflet-control-layers-scrollbar")}this._checkDisabledLayers();return this},collapse:function(){ye(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=le("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",true);He(e);Ue(e);var i=this._section=le("section",t+"-list");if(n){this._map.on("click",this.collapse,this);if(!rt){Be(e,{mouseenter:this.expand,mouseleave:this.collapse},this)}}var r=this._layersLink=le("a",t+"-toggle",e);r.href="#";r.title="Layers";if(Tt){Be(r,"click",Ge);Be(r,"click",this.expand,this)}else{Be(r,"focus",this.expand,this)}if(!n){this.expand()}this._baseLayersList=le("div",t+"-base",i);this._separator=le("div",t+"-separator",i);this._overlaysList=le("div",t+"-overlays",i);e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++){if(this._layers[e]&&c(this._layers[e].layer)===t){return this._layers[e]}}},_addLayer:function(t,e,n){if(this._map){t.on("add remove",this._onLayerChange,this)}this._layers.push({layer:t,name:e,overlay:n});if(this.options.sortLayers){this._layers.sort(s(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this))}if(this.options.autoZIndex&&t.setZIndex){this._lastZIndex++;t.setZIndex(this._lastZIndex)}this._expandIfNotCollapsed()},_update:function(){if(!this._container){return this}pe(this._baseLayersList);pe(this._overlaysList);this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++){i=this._layers[n];this._addItem(i);e=e||i.overlay;t=t||!i.overlay;r+=!i.overlay?1:0}if(this.options.hideSingleBase){t=t&&r>1;this._baseLayersList.style.display=t?"":"none"}this._separator.style.display=e&&t?"":"none";return this},_onLayerChange:function(t){if(!this._handlingClick){this._update()}var e=this._getLayer(c(t.target));var n=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;if(n){this._map.fire(n,e)}},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>";var i=document.createElement("div");i.innerHTML=n;return i.firstChild},_addItem:function(t){var e=document.createElement("label"),n=this._map.hasLayer(t.layer),i;if(t.overlay){i=document.createElement("input");i.type="checkbox";i.className="leaflet-control-layers-selector";i.defaultChecked=n}else{i=this._createRadioElement("leaflet-base-layers_"+c(this),n)}this._layerControlInputs.push(i);i.layerId=c(t.layer);Be(i,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("div");e.appendChild(o);o.appendChild(i);o.appendChild(r);var a=t.overlay?this._overlaysList:this._baseLayersList;a.appendChild(e);this._checkDisabledLayers();return e},_onInputClick:function(){var t=this._layerControlInputs,e,n;var i=[],r=[];this._handlingClick=true;for(var o=t.length-1;o>=0;o--){e=t[o];n=this._getLayer(e.layerId).layer;if(e.checked){i.push(n)}else if(!e.checked){r.push(n)}}for(o=0;o<r.length;o++){if(this._map.hasLayer(r[o])){this._map.removeLayer(r[o])}}for(o=0;o<i.length;o++){if(!this._map.hasLayer(i[o])){this._map.addLayer(i[o])}}this._handlingClick=false;this._refocusOnMap()},_checkDisabledLayers:function(){var t=this._layerControlInputs,e,n,i=this._map.getZoom();for(var r=t.length-1;r>=0;r--){e=t[r];n=this._getLayer(e.layerId).layer;e.disabled=n.options.minZoom!==undefined&&i<n.options.minZoom||n.options.maxZoom!==undefined&&i>n.options.maxZoom}},_expandIfNotCollapsed:function(){if(this._map&&!this.options.collapsed){this.expand()}return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),cn=function(t,e,n){return new un(t,e,n)},hn=an.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=le("div",e+" leaflet-bar"),i=this.options;this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn);this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut);this._updateDisabled();t.on("zoomend zoomlevelschange",this._updateDisabled,this);return n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=true;this._updateDisabled();return this},enable:function(){this._disabled=false;this._updateDisabled();return this},_zoomIn:function(t){if(!this._disabled&&this._map._zoom<this._map.getMaxZoom()){this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))}},_zoomOut:function(t){if(!this._disabled&&this._map._zoom>this._map.getMinZoom()){this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))}},_createButton:function(t,e,n,i,r){var o=le("a",n,i);o.innerHTML=t;o.href="#";o.title=e;o.setAttribute("role","button");o.setAttribute("aria-label",e);He(o);Be(o,"click",Ge);Be(o,"click",r,this);Be(o,"click",this._refocusOnMap,this);return o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ye(this._zoomInButton,e);ye(this._zoomOutButton,e);if(this._disabled||t._zoom===t.getMinZoom()){ge(this._zoomOutButton,e)}if(this._disabled||t._zoom===t.getMaxZoom()){ge(this._zoomInButton,e)}}});rn.mergeOptions({zoomControl:true}),rn.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new hn;this.addControl(this.zoomControl)}});var fn=function(t){return new hn(t)},ln=an.extend({options:{position:"bottomleft",maxWidth:100,metric:true,imperial:true},onAdd:function(t){var e="leaflet-control-scale",n=le("div",e),i=this.options;this._addScales(i,e+"-line",n);t.on(i.updateWhenIdle?"moveend":"move",this._update,this);t.whenReady(this._update,this);return n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){if(t.metric){this._mScale=le("div",e,n)}if(t.imperial){this._iScale=le("div",e,n)}},_update:function(){var t=this._map,e=t.getSize().y/2;var n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){if(this.options.metric&&t){this._updateMetric(t)}if(this.options.imperial&&t){this._updateImperial(t)}},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e=t*3.2808399,n,i,r;if(e>5280){n=e/5280;i=this._getRoundNum(n);this._updateScale(this._iScale,i+" mi",i/n)}else{r=this._getRoundNum(e);this._updateScale(this._iScale,r+" ft",r/e)}},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px";t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1;return e*n}}),dn=function(t){return new ln(t)},pn=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t);this._attributions={}},onAdd:function(t){t.attributionControl=this;this._container=le("div","leaflet-control-attribution");He(this._container);for(var e in t._layers){if(t._layers[e].getAttribution){this.addAttribution(t._layers[e].getAttribution())}}this._update();return this._container},setPrefix:function(t){this.options.prefix=t;this._update();return this},addAttribution:function(t){if(!t){return this}if(!this._attributions[t]){this._attributions[t]=0}this._attributions[t]++;this._update();return this},removeAttribution:function(t){if(!t){return this}if(this._attributions[t]){this._attributions[t]--;this._update()}return this},_update:function(){if(!this._map){return}var t=[];for(var e in this._attributions){if(this._attributions[e]){t.push(e)}}var n=[];if(this.options.prefix){n.push(this.options.prefix)}if(t.length){n.push(t.join(", "))}this._container.innerHTML=n.join(" | ")}});rn.mergeOptions({attributionControl:true}),rn.addInitHook(function(){if(this.options.attributionControl){(new pn).addTo(this)}});var _n=function(t){return new pn(t)};an.Layers=un,an.Zoom=hn,an.Scale=ln,an.Attribution=pn,sn.layers=cn,sn.zoom=fn,sn.scale=dn,sn.attribution=_n;var mn=C.extend({initialize:function(t){this._map=t},enable:function(){if(this._enabled){return this}this._enabled=true;this.addHooks();return this},disable:function(){if(!this._enabled){return this}this._enabled=false;this.removeHooks();return this},enabled:function(){return!!this._enabled}});mn.addTo=function(t,e){t.addHandler(e,this);return this};var vn={Events:A},gn=Tt?"touchstart mousedown":"mousedown",yn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},bn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},xn=N.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){p(this,i);this._element=t;this._dragStartTarget=e||t;this._preventOutline=n},enable:function(){if(this._enabled){return}Be(this._dragStartTarget,gn,this._onDown,this);this._enabled=true},disable:function(){if(!this._enabled){return}if(xn._dragging===this){this.finishDrag()}Re(this._dragStartTarget,gn,this._onDown,this);this._enabled=false;this._moved=false},_onDown:function(t){if(t._simulated||!this._enabled){return}this._moved=false;if(ve(this._element,"leaflet-zoom-anim")){return}if(xn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches){return}xn._dragging=this;if(this._preventOutline){ze(this._element)}Se();oe();if(this._moving){return}this.fire("down");var e=t.touches?t.touches[0]:t,n=Ne(this._element);this._startPoint=new I(e.clientX,e.clientY);this._parentScale=Ie(n);Be(document,bn[t.type],this._onMove,this);Be(document,yn[t.type],this._onUp,this)},_onMove:function(t){if(t._simulated||!this._enabled){return}if(t.touches&&t.touches.length>1){this._moved=true;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,n=new I(e.clientX,e.clientY)._subtract(this._startPoint);if(!n.x&&!n.y){return}if(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance){return}n.x/=this._parentScale.x;n.y/=this._parentScale.y;qe(t);if(!this._moved){this.fire("dragstart");this._moved=true;this._startPos=ke(this._element).subtract(n);ge(document.body,"leaflet-dragging");this._lastTarget=t.target||t.srcElement;if(window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance){this._lastTarget=this._lastTarget.correspondingUseElement}ge(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(n);this._moving=true;E(this._animRequest);this._lastEvent=t;this._animRequest=k(this._updatePosition,this,true)},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t);Le(this._element,this._newPos);this.fire("drag",t)},_onUp:function(t){if(t._simulated||!this._enabled){return}this.finishDrag()},finishDrag:function(){ye(document.body,"leaflet-dragging");if(this._lastTarget){ye(this._lastTarget,"leaflet-drag-target");this._lastTarget=null}for(var t in bn){Re(document,bn[t],this._onMove,this);Re(document,yn[t],this._onUp,this)}Ce();ae();if(this._moved&&this._moving){E(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=false;xn._dragging=false}}),wn;function Mn(t,e){if(!e||!t.length){return t.slice()}var n=e*e;t=En(t,n);t=Ln(t,n);return t}function Tn(t,e,n){return Math.sqrt(Nn(t,e,n,true))}function Pn(t,e,n){return Nn(t,e,n)}function Ln(t,e){var n=t.length,i=typeof Uint8Array!==undefined+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1;kn(t,r,e,0,n-1);var o,a=[];for(o=0;o<n;o++){if(r[o]){a.push(t[o])}}return a}function kn(t,e,n,i,r){var o=0,a,s,u;for(s=i+1;s<=r-1;s++){u=Nn(t[s],t[i],t[r],true);if(u>o){a=s;o=u}}if(o>n){e[a]=1;kn(t,e,n,i,a);kn(t,e,n,a,r)}}function En(t,e){var n=[t[0]];for(var i=1,r=0,o=t.length;i<o;i++){if(An(t[i],t[r])>e){n.push(t[i]);r=i}}if(r<o-1){n.push(t[o-1])}return n}function Sn(t,e,n,i,r){var o=i?wn:zn(t,n),a=zn(e,n),s,u,c;wn=a;while(true){if(!(o|a)){return[t,e]}if(o&a){return false}s=o||a;u=Cn(t,e,s,n,r);c=zn(u,n);if(s===o){t=u;o=c}else{e=u;a=c}}}function Cn(t,e,n,i,r){var o=e.x-t.x,a=e.y-t.y,s=i.min,u=i.max,c,h;if(n&8){c=t.x+o*(u.y-t.y)/a;h=u.y}else if(n&4){c=t.x+o*(s.y-t.y)/a;h=s.y}else if(n&2){c=u.x;h=t.y+a*(u.x-t.x)/o}else if(n&1){c=s.x;h=t.y+a*(s.x-t.x)/o}return new I(c,h,r)}function zn(t,e){var n=0;if(t.x<e.min.x){n|=1}else if(t.x>e.max.x){n|=2}if(t.y<e.min.y){n|=4}else if(t.y>e.max.y){n|=8}return n}function An(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Nn(t,e,n,i){var r=e.x,o=e.y,a=n.x-r,s=n.y-o,u=a*a+s*s,c;if(u>0){c=((t.x-r)*a+(t.y-o)*s)/u;if(c>1){r=n.x;o=n.y}else if(c>0){r+=a*c;o+=s*c}}a=t.x-r;s=t.y-o;return i?a*a+s*s:new I(r,o)}function In(t){return!g(t[0])||typeof t[0][0]!=="object"&&typeof t[0][0]!=="undefined"}function Dn(t){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return In(t)}var Bn=(Object.freeze||Object)({simplify:Mn,pointToSegmentDistance:Tn,closestPointOnSegment:Pn,clipSegment:Sn,_getEdgeIntersection:Cn,_getBitCode:zn,_sqClosestPointOnSegment:Nn,isFlat:In,_flat:Dn});function On(t,e,n){var i,r=[1,4,2,8],o,a,s,u,c,h,f,l;for(o=0,h=t.length;o<h;o++){t[o]._code=zn(t[o],e)}for(s=0;s<4;s++){f=r[s];i=[];for(o=0,h=t.length,a=h-1;o<h;a=o++){u=t[o];c=t[a];if(!(u._code&f)){if(c._code&f){l=Cn(c,u,f,e,n);l._code=zn(l,e);i.push(l)}i.push(u)}else if(!(c._code&f)){l=Cn(c,u,f,e,n);l._code=zn(l,e);i.push(l)}}t=i}return t}var Rn=(Object.freeze||Object)({clipPolygon:On}),Zn={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new O([-180,-90],[180,90])},jn={R:6378137,R_MINOR:6356752.314245179,bounds:new O([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i);var s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);i=-n*Math.log(Math.max(s,1e-10));return new I(t.lng*e*n,i)},unproject:function(t){var e=180/Math.PI,n=this.R,i=this.R_MINOR/n,r=Math.sqrt(1-i*i),o=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(o);for(var s=0,u=.1,c;s<15&&Math.abs(u)>1e-7;s++){c=r*Math.sin(a);c=Math.pow((1-c)/(1+c),r/2);u=Math.PI/2-2*Math.atan(o*c)-a;a+=u}return new F(a*e,t.x*e/n)}},Fn=(Object.freeze||Object)({LonLat:Zn,Mercator:jn,SphericalMercator:W}),Un=u({},q,{code:"EPSG:3395",projection:jn,transformation:function(){var t=.5/(Math.PI*jn.R);return V(t,.5,-t,.5)}()}),Hn=u({},q,{code:"EPSG:4326",projection:Zn,transformation:V(1/180,1,-1/180,.5)}),qn=u({},H,{projection:Zn,transformation:V(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:true});H.Earth=q,H.EPSG3395=Un,H.EPSG3857=X,H.EPSG900913=J,H.EPSG4326=Hn,H.Simple=qn;var Gn=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:true},addTo:function(t){t.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){if(t){t.removeLayer(this)}return this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){this._map._targets[c(t)]=this;return this},removeInteractiveTarget:function(t){delete this._map._targets[c(t)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(!e.hasLayer(this)){return}this._map=e;this._zoomAnimated=e._zoomAnimated;if(this.getEvents){var n=this.getEvents();e.on(n,this);this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e);if(this.getAttribution&&e.attributionControl){e.attributionControl.addAttribution(this.getAttribution())}this.fire("add");e.fire("layeradd",{layer:this})}});rn.include({addLayer:function(t){if(!t._layerAdd){throw new Error("The provided object is not a Layer.")}var e=c(t);if(this._layers[e]){return this}this._layers[e]=t;t._mapToAdd=this;if(t.beforeAdd){t.beforeAdd(this)}this.whenReady(t._layerAdd,t);return this},removeLayer:function(t){var e=c(t);if(!this._layers[e]){return this}if(this._loaded){t.onRemove(this)}if(t.getAttribution&&this.attributionControl){this.attributionControl.removeAttribution(t.getAttribution())}delete this._layers[e];if(this._loaded){this.fire("layerremove",{layer:t});t.fire("remove")}t._map=t._mapToAdd=null;return this},hasLayer:function(t){return!!t&&c(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers){t.call(e,this._layers[n])}return this},_addLayers:function(t){t=t?g(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++){this.addLayer(t[e])}},_addZoomLimit:function(t){if(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom)){this._zoomBoundLayers[c(t)]=t;this._updateZoomLevels()}},_removeZoomLimit:function(t){var e=c(t);if(this._zoomBoundLayers[e]){delete this._zoomBoundLayers[e];this._updateZoomLevels()}},_updateZoomLevels:function(){var t=Infinity,e=-Infinity,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=r.minZoom===undefined?t:Math.min(t,r.minZoom);e=r.maxZoom===undefined?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-Infinity?undefined:e;this._layersMinZoom=t===Infinity?undefined:t;if(n!==this._getZoomSpan()){this.fire("zoomlevelschange")}if(this.options.maxZoom===undefined&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom){this.setZoom(this._layersMaxZoom)}if(this.options.minZoom===undefined&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom){this.setZoom(this._layersMinZoom)}}});var Wn=Gn.extend({initialize:function(t,e){p(this,e);this._layers={};var n,i;if(t){for(n=0,i=t.length;n<i;n++){this.addLayer(t[n])}}},addLayer:function(t){var e=this.getLayerId(t);this._layers[e]=t;if(this._map){this._map.addLayer(t)}return this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);if(this._map&&this._layers[e]){this._map.removeLayer(this._layers[e])}delete this._layers[e];return this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),n,i;for(n in this._layers){i=this._layers[n];if(i[t]){i[t].apply(i,e)}}return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers){t.call(e,this._layers[n])}return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];this.eachLayer(t.push,t);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return c(t)}}),Yn=function(t,e){return new Wn(t,e)},Vn=Wn.extend({addLayer:function(t){if(this.hasLayer(t)){return this}t.addEventParent(this);Wn.prototype.addLayer.call(this,t);return this.fire("layeradd",{layer:t})},removeLayer:function(t){if(!this.hasLayer(t)){return this}if(t in this._layers){t=this._layers[t]}t.removeEventParent(this);Wn.prototype.removeLayer.call(this,t);return this.fire("layerremove",{layer:t})},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Z;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Xn=function(t){return new Vn(t)},Jn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(t==="icon"){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var i=this._createImg(n,e&&e.tagName==="IMG"?e:null);this._setIconStyles(i,t);return i},_setIconStyles:function(t,e){var n=this.options;var i=n[e+"Size"];if(typeof i==="number"){i=[i,i]}var r=B(i),o=B(e==="shadow"&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,true));t.className="leaflet-marker-"+e+" "+(n.className||"");if(o){t.style.marginLeft=-o.x+"px";t.style.marginTop=-o.y+"px"}if(r){t.style.width=r.x+"px";t.style.height=r.y+"px"}},_createImg:function(t,e){e=e||document.createElement("img");e.src=t;return e},_getIconUrl:function(t){return kt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Kn(t){return new Jn(t)}var $n=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){if(!$n.imagePath){$n.imagePath=this._detectIconPath()}return(this.options.imagePath||$n.imagePath)+Jn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=le("div","leaflet-default-icon-path",document.body);var e=fe(t,"background-image")||fe(t,"backgroundImage");document.body.removeChild(t);if(e===null||e.indexOf("url")!==0){e=""}else{e=e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}return e}}),Qn=mn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;if(!this._draggable){this._draggable=new xn(t,t,true)}this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();ge(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();if(this._marker._icon){ye(this._marker._icon,"leaflet-marker-draggable")}},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=ke(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin();var u=R(a.min._subtract(s).add(r),a.max._subtract(s).subtract(r));if(!u.contains(o)){var c=B((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(i);n.panBy(c,{animate:false});this._draggable._newPos._add(c);this._draggable._startPos._add(c);Le(e._icon,this._draggable._newPos);this._onDrag(t);this._panRequest=k(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){if(this._marker.options.autoPan){E(this._panRequest);this._panRequest=k(this._adjustPan.bind(this,t))}},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ke(e._icon),r=e._map.layerPointToLatLng(i);if(n){Le(n,i)}e._latlng=r;t.latlng=r;t.oldLatLng=this._oldLatLng;e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){E(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",t)}}),ti=Gn.extend({options:{icon:new $n,interactive:true,keyboard:true,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:false,draggable:false,autoPan:false,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e);this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation;if(this._zoomAnimated){t.on("zoomanim",this._animateZoom,this)}this._initIcon();this.update()},onRemove:function(t){if(this.dragging&&this.dragging.enabled()){this.options.draggable=true;this.dragging.removeHooks()}delete this.dragging;if(this._zoomAnimated){t.off("zoomanim",this._animateZoom,this)}this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;this._latlng=U(t);this.update();return this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){this.options.zIndexOffset=t;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){this.options.icon=t;if(this._map){this._initIcon();this.update()}if(this._popup){this.bindPopup(this._popup,this._popup.options)}return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");var n=t.icon.createIcon(this._icon),i=false;if(n!==this._icon){if(this._icon){this._removeIcon()}i=true;if(t.title){n.title=t.title}if(n.tagName==="IMG"){n.alt=t.alt||""}}ge(n,e);if(t.keyboard){n.tabIndex="0"}this._icon=n;if(t.riseOnHover){this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex})}var r=t.icon.createShadow(this._shadow),o=false;if(r!==this._shadow){this._removeShadow();o=true}if(r){ge(r,e);r.alt=""}this._shadow=r;if(t.opacity<1){this._updateOpacity()}if(i){this.getPane().appendChild(this._icon)}this._initInteraction();if(r&&o){this.getPane(t.shadowPane).appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex})}de(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){de(this._shadow)}this._shadow=null},_setPos:function(t){if(this._icon){Le(this._icon,t)}if(this._shadow){Le(this._shadow,t)}this._zIndex=t.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(t){if(this._icon){this._icon.style.zIndex=this._zIndex+t}},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(!this.options.interactive){return}ge(this._icon,"leaflet-interactive");this.addInteractiveTarget(this._icon);if(Qn){var t=this.options.draggable;if(this.dragging){t=this.dragging.enabled();this.dragging.disable()}this.dragging=new Qn(this);if(t){this.dragging.enable()}}},setOpacity:function(t){this.options.opacity=t;if(this._map){this._updateOpacity()}return this},_updateOpacity:function(){var t=this.options.opacity;if(this._icon){we(this._icon,t)}if(this._shadow){we(this._shadow,t)}},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ei(t,e){return new ti(t,e)}var ni=Gn.extend({options:{stroke:true,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:false,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:true,bubblingMouseEvents:true},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){if(this._map){this._renderer._updatePath(this)}return this},setStyle:function(t){p(this,t);if(this._renderer){this._renderer._updateStyle(this);if(this.options.stroke&&t&&t.hasOwnProperty("weight")){this._updateBounds()}}return this},bringToFront:function(){if(this._renderer){this._renderer._bringToFront(this)}return this},bringToBack:function(){if(this._renderer){this._renderer._bringToBack(this)}return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ii=ni.extend({options:{fill:true,radius:10},initialize:function(t,e){p(this,e);this._latlng=U(t);this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;this._latlng=U(t);this.redraw();return this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){this.options.radius=this._radius=t;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;ni.prototype.setStyle.call(this,t);this.setRadius(e);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new O(this._point.subtract(i),this._point.add(i))},_update:function(){if(this._map){this._updatePath()}},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ri(t,e){return new ii(t,e)}var oi=ii.extend({initialize:function(t,e,n){if(typeof e==="number"){e=u({},n,{radius:e})}p(this,e);this._latlng=U(t);if(isNaN(this.options.radius)){throw new Error("Circle radius cannot be NaN")}this._mRadius=this.options.radius},setRadius:function(t){this._mRadius=t;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ni.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===q.distance){var r=Math.PI/180,o=this._mRadius/q.R/r,a=n.project([e+o,t]),s=n.project([e-o,t]),u=a.add(s).divideBy(2),c=n.unproject(u).lat,h=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(c*r))/(Math.cos(e*r)*Math.cos(c*r)))/r;if(isNaN(h)||h===0){h=o/Math.cos(Math.PI/180*e)}this._point=u.subtract(n.getPixelOrigin());this._radius=isNaN(h)?0:u.x-n.project([c,t-h]).x;this._radiusY=u.y-a.y}else{var f=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng);this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}});function ai(t,e,n){return new oi(t,e,n)}var si=ni.extend({options:{smoothFactor:1,noClip:false},initialize:function(t,e){p(this,e);this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){this._setLatLngs(t);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){var e=Infinity,n=null,i=Nn,r,o;for(var a=0,s=this._parts.length;a<s;a++){var u=this._parts[a];for(var c=1,h=u.length;c<h;c++){r=u[c-1];o=u[c];var f=i(t,r,o,true);if(f<e){e=f;n=i(t,r,o)}}}if(n){n.distance=Math.sqrt(e)}return n},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var t,e,n,i,r,o,a,s=this._rings[0],u=s.length;if(!u){return null}for(t=0,e=0;t<u-1;t++){e+=s[t].distanceTo(s[t+1])/2}if(e===0){return this._map.layerPointToLatLng(s[0])}for(t=0,i=0;t<u-1;t++){r=s[t];o=s[t+1];n=r.distanceTo(o);i+=n;if(i>e){a=(i-e)/n;return this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(t,e){e=e||this._defaultShape();t=U(t);e.push(t);this._bounds.extend(t);return this.redraw()},_setLatLngs:function(t){this._bounds=new Z;this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return In(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){var e=[],n=In(t);for(var i=0,r=t.length;i<r;i++){if(n){e[i]=U(t[i]);this._bounds.extend(e[i])}else{e[i]=this._convertLatLngs(t[i])}}return e},_project:function(){var t=new O;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,t);if(this._bounds.isValid()&&t.isValid()){this._rawPxBounds=t;this._updateBounds()}},_updateBounds:function(){var t=this._clickTolerance(),e=new I(t,t);this._pxBounds=new O([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i=t[0]instanceof F,r=t.length,o,a;if(i){a=[];for(o=0;o<r;o++){a[o]=this._map.latLngToLayerPoint(t[o]);n.extend(a[o])}e.push(a)}else{for(o=0;o<r;o++){this._projectLatlngs(t[o],e,n)}}},_clipPoints:function(){var t=this._renderer._bounds;this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(t)){return}if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,n,i,r,o,a,s,u;for(n=0,r=0,o=this._rings.length;n<o;n++){u=this._rings[n];for(i=0,a=u.length;i<a-1;i++){s=Sn(u[i],u[i+1],t,i,true);if(!s){continue}e[r]=e[r]||[];e[r].push(s[0]);if(s[1]!==u[i+1]||i===a-2){e[r].push(s[1]);r++}}}},_simplifyPoints:function(){var t=this._parts,e=this.options.smoothFactor;for(var n=0,i=t.length;n<i;n++){t[n]=Mn(t[n],e)}},_update:function(){if(!this._map){return}this._clipPoints();this._simplifyPoints();this._updatePath()},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t)){return false}for(n=0,o=this._parts.length;n<o;n++){s=this._parts[n];for(i=0,a=s.length,r=a-1;i<a;r=i++){if(!e&&i===0){continue}if(Tn(t,s[r],s[i])<=u){return true}}}return false}});function ui(t,e){return new si(t,e)}si._flat=Dn;var ci=si.extend({options:{fill:true},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var t,e,n,i,r,o,a,s,u,c=this._rings[0],h=c.length;if(!h){return null}o=a=s=0;for(t=0,e=h-1;t<h;e=t++){n=c[t];i=c[e];r=n.y*i.x-i.y*n.x;a+=(n.x+i.x)*r;s+=(n.y+i.y)*r;o+=r*3}if(o===0){u=c[0]}else{u=[a/o,s/o]}return this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=si.prototype._convertLatLngs.call(this,t),n=e.length;if(n>=2&&e[0]instanceof F&&e[0].equals(e[n-1])){e.pop()}return e},_setLatLngs:function(t){si.prototype._setLatLngs.call(this,t);if(In(this._latlngs)){this._latlngs=[this._latlngs]}},_defaultShape:function(){return In(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new I(e,e);t=new O(t.min.subtract(n),t.max.add(n));this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(t)){return}if(this.options.noClip){this._parts=this._rings;return}for(var i=0,r=this._rings.length,o;i<r;i++){o=On(this._rings[i],t,true);if(o.length){this._parts.push(o)}}},_updatePath:function(){this._renderer._updatePoly(this,true)},_containsPoint:function(t){var e=false,n,i,r,o,a,s,u,c;if(!this._pxBounds||!this._pxBounds.contains(t)){return false}for(o=0,u=this._parts.length;o<u;o++){n=this._parts[o];for(a=0,c=n.length,s=c-1;a<c;s=a++){i=n[a];r=n[s];if(i.y>t.y!==r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x){e=!e}}}return e||si.prototype._containsPoint.call(this,t,true)}});function hi(t,e){return new ci(t,e)}var fi=Vn.extend({initialize:function(t,e){p(this,e);this._layers={};if(t){this.addData(t)}},addData:function(t){var e=g(t)?t:t.features,n,i,r;if(e){for(n=0,i=e.length;n<i;n++){r=e[n];if(r.geometries||r.geometry||r.features||r.coordinates){this.addData(r)}}return this}var o=this.options;if(o.filter&&!o.filter(t)){return this}var a=li(t,o);if(!a){return this}a.feature=yi(t);a.defaultOptions=a.options;this.resetStyle(a);if(o.onEachFeature){o.onEachFeature(t,a)}return this.addLayer(a)},resetStyle:function(t){if(t===undefined){return this.eachLayer(this.resetStyle,this)}t.options=u({},t.defaultOptions);this._setLayerStyle(t,this.options.style);return this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){if(t.setStyle){if(typeof e==="function"){e=e(t.feature)}t.setStyle(e)}}});function li(t,e){var n=t.type==="Feature"?t.geometry:t,i=n?n.coordinates:null,r=[],o=e&&e.pointToLayer,a=e&&e.coordsToLatLng||pi,s,u,c,h;if(!i&&!n){return null}switch(n.type){case"Point":s=a(i);return di(o,t,s,e);case"MultiPoint":for(c=0,h=i.length;c<h;c++){s=a(i[c]);r.push(di(o,t,s,e))}return new Vn(r);case"LineString":case"MultiLineString":u=_i(i,n.type==="LineString"?0:1,a);return new si(u,e);case"Polygon":case"MultiPolygon":u=_i(i,n.type==="Polygon"?1:2,a);return new ci(u,e);case"GeometryCollection":for(c=0,h=n.geometries.length;c<h;c++){var f=li({geometry:n.geometries[c],type:"Feature",properties:t.properties},e);if(f){r.push(f)}}return new Vn(r);default:throw new Error("Invalid GeoJSON object.")}}function di(t,e,n,i){return t?t(e,n):new ti(n,i&&i.markersInheritOptions&&i)}function pi(t){return new F(t[1],t[0],t[2])}function _i(t,e,n){var i=[];for(var r=0,o=t.length,a;r<o;r++){a=e?_i(t[r],e-1,n):(n||pi)(t[r]);i.push(a)}return i}function mi(t,e){e=typeof e==="number"?e:6;return t.alt!==undefined?[f(t.lng,e),f(t.lat,e),f(t.alt,e)]:[f(t.lng,e),f(t.lat,e)]}function vi(t,e,n,i){var r=[];for(var o=0,a=t.length;o<a;o++){r.push(e?vi(t[o],e-1,n,i):mi(t[o],i))}if(!e&&n){r.push(r[0])}return r}function gi(t,e){return t.feature?u({},t.feature,{geometry:e}):yi(e)}function yi(t){if(t.type==="Feature"||t.type==="FeatureCollection"){return t}return{type:"Feature",properties:{},geometry:t}}var bi={toGeoJSON:function(t){return gi(this,{type:"Point",coordinates:mi(this.getLatLng(),t)})}};function xi(t,e){return new fi(t,e)}ti.include(bi),oi.include(bi),ii.include(bi),si.include({toGeoJSON:function(t){var e=!In(this._latlngs);var n=vi(this._latlngs,e?1:0,false,t);return gi(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),ci.include({toGeoJSON:function(t){var e=!In(this._latlngs),n=e&&!In(this._latlngs[0]);var i=vi(this._latlngs,n?2:e?1:0,true,t);if(!e){i=[i]}return gi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Wn.include({toMultiPoint:function(e){var n=[];this.eachLayer(function(t){n.push(t.toGeoJSON(e).geometry.coordinates)});return gi(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(i){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint"){return this.toMultiPoint(i)}var r=t==="GeometryCollection",o=[];this.eachLayer(function(t){if(t.toGeoJSON){var e=t.toGeoJSON(i);if(r){o.push(e.geometry)}else{var n=yi(e);if(n.type==="FeatureCollection"){o.push.apply(o,n.features)}else{o.push(n)}}}});if(r){return gi(this,{geometries:o,type:"GeometryCollection"})}return{type:"FeatureCollection",features:o}}});var wi=xi,Mi=Gn.extend({options:{opacity:1,alt:"",interactive:false,crossOrigin:false,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t;this._bounds=j(e);p(this,n)},onAdd:function(){if(!this._image){this._initImage();if(this.options.opacity<1){this._updateOpacity()}}if(this.options.interactive){ge(this._image,"leaflet-interactive");this.addInteractiveTarget(this._image)}this.getPane().appendChild(this._image);this._reset()},onRemove:function(){de(this._image);if(this.options.interactive){this.removeInteractiveTarget(this._image)}},setOpacity:function(t){this.options.opacity=t;if(this._image){this._updateOpacity()}return this},setStyle:function(t){if(t.opacity){this.setOpacity(t.opacity)}return this},bringToFront:function(){if(this._map){_e(this._image)}return this},bringToBack:function(){if(this._map){me(this._image)}return this},setUrl:function(t){this._url=t;if(this._image){this._image.src=t}return this},setBounds:function(t){this._bounds=j(t);if(this._map){this._reset()}return this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},setZIndex:function(t){this.options.zIndex=t;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG";var e=this._image=t?this._url:le("img");ge(e,"leaflet-image-layer");if(this._zoomAnimated){ge(e,"leaflet-zoom-animated")}if(this.options.className){ge(e,this.options.className)}e.onselectstart=h;e.onmousemove=h;e.onload=s(this.fire,this,"load");e.onerror=s(this._overlayOnError,this,"error");if(this.options.crossOrigin||this.options.crossOrigin===""){e.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}if(this.options.zIndex){this._updateZIndex()}if(t){this._url=e.src;return}e.src=this._url;e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Pe(this._image,n,e)},_reset:function(){var t=this._image,e=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Le(t,e.min);t.style.width=n.x+"px";t.style.height=n.y+"px"},_updateOpacity:function(){we(this._image,this.options.opacity)},_updateZIndex:function(){if(this._image&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._image.style.zIndex=this.options.zIndex}},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;if(t&&this._url!==t){this._url=t;this._image.src=t}}}),Ti=function(t,e,n){return new Mi(t,e,n)},Pi=Mi.extend({options:{autoplay:true,loop:true,keepAspectRatio:true},_initImage:function(){var t=this._url.tagName==="VIDEO";var e=this._image=t?this._url:le("video");ge(e,"leaflet-image-layer");if(this._zoomAnimated){ge(e,"leaflet-zoom-animated")}if(this.options.className){ge(e,this.options.className)}e.onselectstart=h;e.onmousemove=h;e.onloadeddata=s(this.fire,this,"load");if(t){var n=e.getElementsByTagName("source");var i=[];for(var r=0;r<n.length;r++){i.push(n[r].src)}this._url=n.length>0?i:[e.src];return}if(!g(this._url)){this._url=[this._url]}if(!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")){e.style["objectFit"]="fill"}e.autoplay=!!this.options.autoplay;e.loop=!!this.options.loop;for(var o=0;o<this._url.length;o++){var a=le("source");a.src=this._url[o];e.appendChild(a)}}});function Li(t,e,n){return new Pi(t,e,n)}var ki=Mi.extend({_initImage:function(){var t=this._image=this._url;ge(t,"leaflet-image-layer");if(this._zoomAnimated){ge(t,"leaflet-zoom-animated")}if(this.options.className){ge(t,this.options.className)}t.onselectstart=h;t.onmousemove=h}});function Ei(t,e,n){return new ki(t,e,n)}var Si=Gn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t);this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated;if(!this._container){this._initLayout()}if(t._fadeAnimated){we(this._container,0)}clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();if(t._fadeAnimated){we(this._container,1)}this.bringToFront()},onRemove:function(t){if(t._fadeAnimated){we(this._container,0);this._removeTimeout=setTimeout(s(de,undefined,this._container),200)}else{de(this._container)}},getLatLng:function(){return this._latlng},setLatLng:function(t){this._latlng=U(t);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(t){this._content=t;this.update();return this},getElement:function(){return this._container},update:function(){if(!this._map){return}this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){if(this._map){_e(this._container)}return this},bringToBack:function(){if(this._map){me(this._container)}return this},_prepareOpen:function(t,e,n){if(!(e instanceof Gn)){n=e;e=t}if(e instanceof Vn){for(var i in t._layers){e=t._layers[i];break}}if(!n){if(e.getCenter){n=e.getCenter()}else if(e.getLatLng){n=e.getLatLng()}else{throw new Error("Unable to get source layer LatLng.")}}this._source=e;this.update();return n},_updateContent:function(){if(!this._content){return}var t=this._contentNode;var e=typeof this._content==="function"?this._content(this._source||this):this._content;if(typeof e==="string"){t.innerHTML=e}else{while(t.hasChildNodes()){t.removeChild(t.firstChild)}t.appendChild(e)}this.fire("contentupdate")},_updatePosition:function(){if(!this._map){return}var t=this._map.latLngToLayerPoint(this._latlng),e=B(this.options.offset),n=this._getAnchor();if(this._zoomAnimated){Le(this._container,t.add(n))}else{e=e.add(t).add(n)}var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px";this._container.style.left=r+"px"},_getAnchor:function(){return[0,0]}}),Ci=Si.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:true,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:false,closeButton:true,autoClose:true,closeOnEscapeKey:true,className:""},openOn:function(t){t.openPopup(this);return this},onAdd:function(t){Si.prototype.onAdd.call(this,t);t.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this},true);if(!(this._source instanceof ni)){this._source.on("preclick",Fe)}}},onRemove:function(t){Si.prototype.onRemove.call(this,t);t.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this},true);if(!(this._source instanceof ni)){this._source.off("preclick",Fe)}}},getEvents:function(){var t=Si.prototype.getEvents.call(this);if(this.options.closeOnClick!==undefined?this.options.closeOnClick:this._map.options.closePopupOnClick){t.preclick=this._close}if(this.options.keepInView){t.moveend=this._adjustPan}return t},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var t="leaflet-popup",e=this._container=le("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");var n=this._wrapper=le("div",t+"-content-wrapper",e);this._contentNode=le("div",t+"-content",n);He(n);Ue(this._contentNode);Be(n,"contextmenu",Fe);this._tipContainer=le("div",t+"-tip-container",e);this._tip=le("div",t+"-tip",this._tipContainer);if(this.options.closeButton){var i=this._closeButton=le("a",t+"-close-button",e);i.href="#close";i.innerHTML="&#215;";Be(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="";e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth);n=Math.max(n,this.options.minWidth);e.width=n+1+"px";e.whiteSpace="";e.height="";var i=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";if(r&&i>r){e.height=r+"px";ge(t,o)}else{ye(t,o)}this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Le(this._container,e.add(n))},_adjustPan:function(){if(!this.options.autoPan){return}if(this._map._panAnim){this._map._panAnim.stop()}var t=this._map,e=parseInt(fe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new I(this._containerLeft,-n-this._containerBottom);r._add(ke(this._container));var o=t.layerPointToContainerPoint(r),a=B(this.options.autoPanPadding),s=B(this.options.autoPanPaddingTopLeft||a),u=B(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),h=0,f=0;if(o.x+i+u.x>c.x){h=o.x+i-c.x+u.x}if(o.x-h-s.x<0){h=o.x-s.x}if(o.y+n+u.y>c.y){f=o.y+n-c.y+u.y}if(o.y-f-s.y<0){f=o.y-s.y}if(h||f){t.fire("autopanstart").panBy([h,f])}},_onCloseButtonClick:function(t){this._close();Ge(t)},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zi=function(t,e){return new Ci(t,e)};rn.mergeOptions({closePopupOnClick:true}),rn.include({openPopup:function(t,e,n){if(!(t instanceof Ci)){t=new Ci(n).setContent(t)}if(e){t.setLatLng(e)}if(this.hasLayer(t)){return this}if(this._popup&&this._popup.options.autoClose){this.closePopup()}this._popup=t;return this.addLayer(t)},closePopup:function(t){if(!t||t===this._popup){t=this._popup;this._popup=null}if(t){this.removeLayer(t)}return this}}),Gn.include({bindPopup:function(t,e){if(t instanceof Ci){p(t,e);this._popup=t;t._source=this}else{if(!this._popup||e){this._popup=new Ci(e,this)}this._popup.setContent(t)}if(!this._popupHandlersAdded){this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=false;this._popup=null}return this},openPopup:function(t,e){if(this._popup&&this._map){e=this._popup._prepareOpen(this,t,e);this._map.openPopup(this._popup,e)}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},togglePopup:function(t){if(this._popup){if(this._popup._map){this.closePopup()}else{this.openPopup(t)}}return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():false},setPopupContent:function(t){if(this._popup){this._popup.setContent(t)}return this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(!this._popup){return}if(!this._map){return}Ge(t);if(e instanceof ni){this.openPopup(t.layer||t.target,t.latlng);return}if(this._map.hasLayer(this._popup)&&this._popup._source===e){this.closePopup()}else{this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){if(t.originalEvent.keyCode===13){this._openPopup(t)}}});var Ai=Si.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:false,sticky:false,interactive:false,opacity:.9},onAdd:function(t){Si.prototype.onAdd.call(this,t);this.setOpacity(this.options.opacity);t.fire("tooltipopen",{tooltip:this});if(this._source){this._source.fire("tooltipopen",{tooltip:this},true)}},onRemove:function(t){Si.prototype.onRemove.call(this,t);t.fire("tooltipclose",{tooltip:this});if(this._source){this._source.fire("tooltipclose",{tooltip:this},true)}},getEvents:function(){var t=Si.prototype.getEvents.call(this);if(Tt&&!this.options.permanent){t.preclick=this._close}return t},_close:function(){if(this._map){this._map.closeTooltip(this)}},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=B(this.options.offset),c=this._getAnchor();if(o==="top"){t=t.add(B(-a/2+u.x,-s+u.y+c.y,true))}else if(o==="bottom"){t=t.subtract(B(a/2-u.x,-u.y,true))}else if(o==="center"){t=t.subtract(B(a/2+u.x,s/2-c.y+u.y,true))}else if(o==="right"||o==="auto"&&r.x<i.x){o="right";t=t.add(B(u.x+c.x,c.y-s/2+u.y,true))}else{o="left";t=t.subtract(B(a+c.x-u.x,s/2-c.y-u.y,true))}ye(n,"leaflet-tooltip-right");ye(n,"leaflet-tooltip-left");ye(n,"leaflet-tooltip-top");ye(n,"leaflet-tooltip-bottom");ge(n,"leaflet-tooltip-"+o);Le(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t;if(this._container){we(this._container,t)}},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ni=function(t,e){return new Ai(t,e)};rn.include({openTooltip:function(t,e,n){if(!(t instanceof Ai)){t=new Ai(n).setContent(t)}if(e){t.setLatLng(e)}if(this.hasLayer(t)){return this}return this.addLayer(t)},closeTooltip:function(t){if(t){this.removeLayer(t)}return this}}),Gn.include({bindTooltip:function(t,e){if(t instanceof Ai){p(t,e);this._tooltip=t;t._source=this}else{if(!this._tooltip||e){this._tooltip=new Ai(e,this)}this._tooltip.setContent(t)}this._initTooltipInteractions();if(this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)){this.openTooltip()}return this},unbindTooltip:function(){if(this._tooltip){this._initTooltipInteractions(true);this.closeTooltip();this._tooltip=null}return this},_initTooltipInteractions:function(t){if(!t&&this._tooltipHandlersAdded){return}var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};if(!this._tooltip.options.permanent){n.mouseover=this._openTooltip;n.mouseout=this.closeTooltip;if(this._tooltip.options.sticky){n.mousemove=this._moveTooltip}if(Tt){n.click=this._openTooltip}}else{n.add=this._openTooltip}this[e](n);this._tooltipHandlersAdded=!t},openTooltip:function(t,e){if(this._tooltip&&this._map){e=this._tooltip._prepareOpen(this,t,e);this._map.openTooltip(this._tooltip,e);if(this._tooltip.options.interactive&&this._tooltip._container){ge(this._tooltip._container,"leaflet-clickable");this.addInteractiveTarget(this._tooltip._container)}}return this},closeTooltip:function(){if(this._tooltip){this._tooltip._close();if(this._tooltip.options.interactive&&this._tooltip._container){ye(this._tooltip._container,"leaflet-clickable");this.removeInteractiveTarget(this._tooltip._container)}}return this},toggleTooltip:function(t){if(this._tooltip){if(this._tooltip._map){this.closeTooltip()}else{this.openTooltip(t)}}return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){if(this._tooltip){this._tooltip.setContent(t)}return this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;if(!this._tooltip||!this._map){return}this.openTooltip(e,this._tooltip.options.sticky?t.latlng:undefined)},_moveTooltip:function(t){var e=t.latlng,n,i;if(this._tooltip.options.sticky&&t.originalEvent){n=this._map.mouseEventToContainerPoint(t.originalEvent);i=this._map.containerPointToLayerPoint(n);e=this._map.layerPointToLatLng(i)}this._tooltip.setLatLng(e)}});var Ii=Jn.extend({options:{iconSize:[12,12],html:false,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),n=this.options;if(n.html instanceof Element){pe(e);e.appendChild(n.html)}else{e.innerHTML=n.html!==false?n.html:""}if(n.bgPos){var i=B(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}this._setIconStyles(e,"icon");return e},createShadow:function(){return null}});function Di(t){return new Ii(t)}Jn.Default=$n;var Bi=Gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt,updateWhenZooming:true,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:undefined,maxNativeZoom:undefined,minNativeZoom:undefined,noWrap:false,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles();de(this._container);t._removeZoomLimit(this);this._container=null;this._tileZoom=undefined},bringToFront:function(){if(this._map){_e(this._container);this._setAutoZIndex(Math.max)}return this},bringToBack:function(){if(this._map){me(this._container);this._setAutoZIndex(Math.min)}return this},getContainer:function(){return this._container},setOpacity:function(t){this.options.opacity=t;this._updateOpacity();return this},setZIndex:function(t){this.options.zIndex=t;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){if(!this._onMove){this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)}t.move=this._onMove}if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){if(this._container&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(t){var e=this.getPane().children,n=-t(-Infinity,Infinity);for(var i=0,r=e.length,o;i<r;i++){o=e[i].style.zIndex;if(e[i]!==this._container&&o){n=t(n,+o)}}if(isFinite(n)){this.options.zIndex=n+t(-1,1);this._updateZIndex()}},_updateOpacity:function(){if(!this._map){return}if(et){return}we(this._container,this.options.opacity);var t=+new Date,e=false,n=false;for(var i in this._tiles){var r=this._tiles[i];if(!r.current||!r.loaded){continue}var o=Math.min(1,(t-r.loaded)/200);we(r.el,o);if(o<1){e=true}else{if(r.active){n=true}else{this._onOpaqueTile(r)}r.active=true}}if(n&&!this._noPrune){this._pruneTiles()}if(e){E(this._fadeFrame);this._fadeFrame=k(this._updateOpacity,this)}},_onOpaqueTile:h,_initContainer:function(){if(this._container){return}this._container=le("div","leaflet-layer "+(this.options.className||""));this._updateZIndex();if(this.options.opacity<1){this._updateOpacity()}this.getPane().appendChild(this._container)},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===undefined){return undefined}for(var n in this._levels){if(this._levels[n].el.children.length||n===t){this._levels[n].el.style.zIndex=e-Math.abs(t-n);this._onUpdateLevel(n)}else{de(this._levels[n].el);this._removeTilesAtZoom(n);this._onRemoveLevel(n);delete this._levels[n]}}var i=this._levels[t],r=this._map;if(!i){i=this._levels[t]={};i.el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container);i.el.style.zIndex=e;i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round();i.zoom=t;this._setZoomTransform(i,r.getCenter(),r.getZoom());h(i.el.offsetWidth);this._onCreateLevel(i)}this._level=i;return i},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(!this._map){return}var t,e;var n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles){e=this._tiles[t];e.retain=e.current}for(t in this._tiles){e=this._tiles[t];if(e.current&&!e.active){var i=e.coords;if(!this._retainParent(i.x,i.y,i.z,i.z-5)){this._retainChildren(i.x,i.y,i.z,i.z+2)}}}for(t in this._tiles){if(!this._tiles[t].retain){this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles){if(this._tiles[e].coords.z!==t){continue}this._removeTile(e)}},_removeAllTiles:function(){for(var t in this._tiles){this._removeTile(t)}},_invalidateAll:function(){for(var t in this._levels){de(this._levels[t].el);this._onRemoveLevel(t);delete this._levels[t]}this._removeAllTiles();this._tileZoom=undefined},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new I(+r,+o);s.z=+a;var u=this._tileCoordsToKey(s),c=this._tiles[u];if(c&&c.active){c.retain=true;return true}else if(c&&c.loaded){c.retain=true}if(a>i){return this._retainParent(r,o,a,i)}return false},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++){for(var o=2*e;o<2*e+2;o++){var a=new I(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];if(u&&u.active){u.retain=true;continue}else if(u&&u.loaded){u.retain=true}if(n+1<i){this._retainChildren(r,o,n+1,i)}}}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,true,t.noUpdate)},_clampZoom:function(t){var e=this.options;if(undefined!==e.minNativeZoom&&t<e.minNativeZoom){return e.minNativeZoom}if(undefined!==e.maxNativeZoom&&e.maxNativeZoom<t){return e.maxNativeZoom}return t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));if(this.options.maxZoom!==undefined&&r>this.options.maxZoom||this.options.minZoom!==undefined&&r<this.options.minZoom){r=undefined}var o=this.options.updateWhenZooming&&r!==this._tileZoom;if(!i||o){this._tileZoom=r;if(this._abortLoading){this._abortLoading()}this._updateLevels();this._resetGrid();if(r!==undefined){this._update(t)}if(!n){this._pruneTiles()}this._noPrune=!!n}this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels){this._setZoomTransform(this._levels[n],t,e)}},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();if(gt){Pe(t.el,r,i)}else{Le(t.el,r)}},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom;var r=this._map.getPixelWorldBounds(this._tileZoom);if(r){this._globalTileRange=this._pxBoundsToTileRange(r)}this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)];this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){if(!this._map||this._map._animatingZoom){return}this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(i*2);return new O(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(!e){return}var n=this._clampZoom(e.getZoom());if(t===undefined){t=e.getCenter()}if(this._tileZoom===undefined){return}var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,u=new O(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y))){throw new Error("Attempted to load an infinite number of tiles")}for(var c in this._tiles){var h=this._tiles[c].coords;if(h.z!==this._tileZoom||!u.contains(new I(h.x,h.y))){this._tiles[c].current=false}}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var f=r.min.y;f<=r.max.y;f++){for(var l=r.min.x;l<=r.max.x;l++){var d=new I(l,f);d.z=this._tileZoom;if(!this._isValidTile(d)){continue}var p=this._tiles[this._tileCoordsToKey(d)];if(p){p.current=true}else{a.push(d)}}}a.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)});if(a.length!==0){if(!this._loading){this._loading=true;this.fire("loading")}var _=document.createDocumentFragment();for(l=0;l<a.length;l++){this._addTile(a[l],_)}this._level.el.appendChild(_)}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y)){return false}}if(!this.options.bounds){return true}var i=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),a=e.unproject(r,t.z);return[o,a]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new Z(e[0],e[1]);if(!this.options.noWrap){n=this._map.wrapLatLngBounds(n)}return n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new I(+e[0],+e[1]);n.z=+e[2];return n},_removeTile:function(t){var e=this._tiles[t];if(!e){return}de(e.el);delete this._tiles[t];this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)})},_initTile:function(t){ge(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px";t.style.height=e.y+"px";t.onselectstart=h;t.onmousemove=h;if(et&&this.options.opacity<1){we(t,this.options.opacity)}if(rt&&!ot){t.style.WebkitBackfaceVisibility="hidden"}},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t);var r=this.createTile(this._wrapCoords(t),s(this._tileReady,this,t));this._initTile(r);if(this.createTile.length<2){k(s(this._tileReady,this,t,null,r))}Le(r,n);this._tiles[i]={el:r,coords:t,current:true};e.appendChild(r);this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){if(e){this.fire("tileerror",{error:e,tile:n,coords:t})}var i=this._tileCoordsToKey(t);n=this._tiles[i];if(!n){return}n.loaded=+new Date;if(this._map._fadeAnimated){we(n.el,0);E(this._fadeFrame);this._fadeFrame=k(this._updateOpacity,this)}else{n.active=true;this._pruneTiles()}if(!e){ge(n.el,"leaflet-tile-loaded");this.fire("tileload",{tile:n.el,coords:t})}if(this._noTilesToLoad()){this._loading=false;this.fire("load");if(et||!this._map._fadeAnimated){k(this._pruneTiles,this)}else{setTimeout(s(this._pruneTiles,this),250)}}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new I(this._wrapX?a(t.x,this._wrapX):t.x,this._wrapY?a(t.y,this._wrapY):t.y);e.z=t.z;return e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new O(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles){if(!this._tiles[t].loaded){return false}}return true}});function Oi(t){return new Bi(t)}var Ri=Bi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:false,zoomReverse:false,detectRetina:false,crossOrigin:false},initialize:function(t,e){this._url=t;e=p(this,e);if(e.detectRetina&&kt&&e.maxZoom>0){e.tileSize=Math.floor(e.tileSize/2);if(!e.zoomReverse){e.zoomOffset++;e.maxZoom--}else{e.zoomOffset--;e.minZoom++}e.minZoom=Math.max(0,e.minZoom)}if(typeof e.subdomains==="string"){e.subdomains=e.subdomains.split("")}if(!rt){this.on("tileunload",this._onTileRemove)}},setUrl:function(t,e){if(this._url===t&&e===undefined){e=true}this._url=t;if(!e){this.redraw()}return this},createTile:function(t,e){var n=document.createElement("img");Be(n,"load",s(this._tileOnLoad,this,e,n));Be(n,"error",s(this._tileOnError,this,e,n));if(this.options.crossOrigin||this.options.crossOrigin===""){n.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}n.alt="";n.setAttribute("role","presentation");n.src=this.getTileUrl(t);return n},getTileUrl:function(t){var e={r:kt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;if(this.options.tms){e["y"]=n}e["-y"]=n}return v(this._url,u(e,this.options))},_tileOnLoad:function(t,e){if(et){setTimeout(s(t,this,null,e),0)}else{t(null,e)}},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;if(i&&e.getAttribute("src")!==i){e.src=i}t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;if(n){t=e-t}return t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles){if(this._tiles[t].coords.z!==this._tileZoom){e=this._tiles[t].el;e.onload=h;e.onerror=h;if(!e.complete){e.src=b;de(e);delete this._tiles[t]}}}},_removeTile:function(t){var e=this._tiles[t];if(!e){return}if(!st){e.el.setAttribute("src",b)}return Bi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(!this._map||n&&n.getAttribute("src")===b){return}return Bi.prototype._tileReady.call(this,t,e,n)}});function Zi(t,e){return new Ri(t,e)}var ji=Ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:false,version:"1.1.1"},options:{crs:null,uppercase:false},initialize:function(t,e){this._url=t;var n=u({},this.defaultWmsParams);for(var i in e){if(!(i in this.options)){n[i]=e[i]}}e=p(this,e);var r=e.detectRetina&&kt?2:1;var o=this.getTileSize();n.width=o.x*r;n.height=o.y*r;this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code;Ri.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=R(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,a=(this._wmsVersion>=1.3&&this._crs===Hn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),s=Ri.prototype.getTileUrl.call(this,t);return s+_(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){u(this.wmsParams,t);if(!e){this.redraw()}return this}});function Fi(t,e){return new ji(t,e)}Ri.WMS=ji,Zi.wms=Fi;var Ui=Gn.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t);c(this);this._layers=this._layers||{}},onAdd:function(){if(!this._container){this._initContainer();if(this._zoomAnimated){ge(this._container,"leaflet-zoom-animated")}}this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};if(this._zoomAnimated){t.zoomanim=this._onAnimZoom}return t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=ke(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(o),u=r.multiplyBy(-n).add(i).add(r).subtract(s);if(gt){Pe(this._container,u,n)}else{Le(this._container,u)}},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var t in this._layers){this._layers[t]._reset()}},_onZoomEnd:function(){for(var t in this._layers){this._layers[t]._project()}},_updatePaths:function(){for(var t in this._layers){this._layers[t]._update()}},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new O(n,n.add(e.multiplyBy(1+t*2)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),Hi=Ui.extend({getEvents:function(){var t=Ui.prototype.getEvents.call(this);t.viewprereset=this._onViewPreReset;return t},_onViewPreReset:function(){this._postponeUpdatePaths=true},onAdd:function(){Ui.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Be(t,"mousemove",this._onMouseMove,this);Be(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this);Be(t,"mouseout",this._handleMouseOut,this);this._ctx=t.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest);delete this._ctx;de(this._container);Re(this._container);delete this._container},_updatePaths:function(){if(this._postponeUpdatePaths){return}var t;this._redrawBounds=null;for(var e in this._layers){t=this._layers[e];t._update()}this._redraw()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}Ui.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=kt?2:1;Le(e,t.min);e.width=i*n.x;e.height=i*n.y;e.style.width=n.x+"px";e.style.height=n.y+"px";if(kt){this._ctx.scale(2,2)}this._ctx.translate(-t.min.x,-t.min.y);this.fire("update")},_reset:function(){Ui.prototype._reset.call(this);if(this._postponeUpdatePaths){this._postponeUpdatePaths=false;this._updatePaths()}},_initPath:function(t){this._updateDashArray(t);this._layers[c(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};if(this._drawLast){this._drawLast.next=e}this._drawLast=e;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order;var n=e.next;var i=e.prev;if(n){n.prev=i}else{this._drawLast=i}if(i){i.next=n}else{this._drawFirst=n}delete t._order;delete this._layers[c(t)];this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t);t._project();t._update();this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t);this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray==="string"){var e=t.options.dashArray.split(/[, ]+/),n=[],i,r;for(r=0;r<e.length;r++){i=Number(e[r]);if(isNaN(i)){return}n.push(i)}t.options._dashArray=n}else{t.options._dashArray=t.options.dashArray}},_requestRedraw:function(t){if(!this._map){return}this._extendRedrawBounds(t);this._redrawRequest=this._redrawRequest||k(this._redraw,this)},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O;this._redrawBounds.extend(t._pxBounds.min.subtract([e,e]));this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null;if(this._redrawBounds){this._redrawBounds.min._floor();this._redrawBounds.max._ceil()}this._clear();this._draw();this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else{this._ctx.clearRect(0,0,this._container.width,this._container.height)}},_draw:function(){var t,e=this._redrawBounds;this._ctx.save();if(e){var n=e.getSize();this._ctx.beginPath();this._ctx.rect(e.min.x,e.min.y,n.x,n.y);this._ctx.clip()}this._drawing=true;for(var i=this._drawFirst;i;i=i.next){t=i.layer;if(!e||t._pxBounds&&t._pxBounds.intersects(e)){t._updatePath()}}this._drawing=false;this._ctx.restore()},_updatePoly:function(t,e){if(!this._drawing){return}var n,i,r,o,a=t._parts,s=a.length,u=this._ctx;if(!s){return}u.beginPath();for(n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++){o=a[n][i];u[i?"lineTo":"moveTo"](o.x,o.y)}if(e){u.closePath()}}this._fillStroke(u,t)},_updateCircle:function(t){if(!this._drawing||t._empty()){return}var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;if(r!==1){n.save();n.scale(1,r)}n.beginPath();n.arc(e.x,e.y/r,i,0,Math.PI*2,false);if(r!==1){n.restore()}this._fillStroke(n,t)},_fillStroke:function(t,e){var n=e.options;if(n.fill){t.globalAlpha=n.fillOpacity;t.fillStyle=n.fillColor||n.color;t.fill(n.fillRule||"evenodd")}if(n.stroke&&n.weight!==0){if(t.setLineDash){t.setLineDash(e.options&&e.options._dashArray||[])}t.globalAlpha=n.opacity;t.lineWidth=n.weight;t.strokeStyle=n.color;t.lineCap=n.lineCap;t.lineJoin=n.lineJoin;t.stroke()}},_onClick:function(t){var e=this._map.mouseEventToLayerPoint(t),n,i;for(var r=this._drawFirst;r;r=r.next){n=r.layer;if(n.options.interactive&&n._containsPoint(e)&&!this._map._draggableMoved(n)){i=n}}if(i){Ke(t);this._fireEvent([i],t)}},_onMouseMove:function(t){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom){return}var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)},_handleMouseOut:function(t){var e=this._hoveredLayer;if(e){ye(this._container,"leaflet-interactive");this._fireEvent([e],t,"mouseout");this._hoveredLayer=null;this._mouseHoverThrottled=false}},_handleMouseHover:function(t,e){if(this._mouseHoverThrottled){return}var n,i;for(var r=this._drawFirst;r;r=r.next){n=r.layer;if(n.options.interactive&&n._containsPoint(e)){i=n}}if(i!==this._hoveredLayer){this._handleMouseOut(t);if(i){ge(this._container,"leaflet-interactive");this._fireEvent([i],t,"mouseover");this._hoveredLayer=i}}if(this._hoveredLayer){this._fireEvent([this._hoveredLayer],t)}this._mouseHoverThrottled=true;setTimeout(L.bind(function(){this._mouseHoverThrottled=false},this),32)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(!e){return}var n=e.next;var i=e.prev;if(n){n.prev=i}else{return}if(i){i.next=n}else if(n){this._drawFirst=n}e.prev=this._drawLast;this._drawLast.next=e;e.next=null;this._drawLast=e;this._requestRedraw(t)},_bringToBack:function(t){var e=t._order;if(!e){return}var n=e.next;var i=e.prev;if(i){i.next=n}else{return}if(n){n.prev=i}else if(i){this._drawLast=i}e.prev=null;e.next=this._drawFirst;this._drawFirst.prev=e;this._drawFirst=e;this._requestRedraw(t)}});function qi(t){return St?new Hi(t):null}var Gi=function(){try{document.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Wi={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){if(this._map._animatingZoom){return}Ui.prototype._update.call(this);this.fire("update")},_initPath:function(t){var e=t._container=Gi("shape");ge(e,"leaflet-vml-shape "+(this.options.className||""));e.coordsize="1 1";t._path=Gi("path");e.appendChild(t._path);this._updateStyle(t);this._layers[c(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e);if(t.options.interactive){t.addInteractiveTarget(e)}},_removePath:function(t){var e=t._container;de(e);t.removeInteractiveTarget(e);delete this._layers[c(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke;r.filled=!!i.fill;if(i.stroke){if(!e){e=t._stroke=Gi("stroke")}r.appendChild(e);e.weight=i.weight+"px";e.color=i.color;e.opacity=i.opacity;if(i.dashArray){e.dashStyle=g(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," ")}else{e.dashStyle=""}e.endcap=i.lineCap.replace("butt","flat");e.joinstyle=i.lineJoin}else if(e){r.removeChild(e);t._stroke=null}if(i.fill){if(!n){n=t._fill=Gi("fill")}r.appendChild(n);n.color=i.fillColor||i.color;n.opacity=i.fillOpacity}else if(n){r.removeChild(n);t._fill=null}},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){_e(t._container)},_bringToBack:function(t){me(t._container)}},Yi=zt?Gi:K,Vi=Ui.extend({getEvents:function(){var t=Ui.prototype.getEvents.call(this);t.zoomstart=this._onZoomStart;return t},_initContainer:function(){this._container=Yi("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=Yi("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){de(this._container);Re(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}Ui.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;if(!this._svgSize||!this._svgSize.equals(e)){this._svgSize=e;n.setAttribute("width",e.x);n.setAttribute("height",e.y)}Le(n,t.min);n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "));this.fire("update")},_initPath:function(t){var e=t._path=Yi("path");if(t.options.className){ge(e,t.options.className)}if(t.options.interactive){ge(e,"leaflet-interactive")}this._updateStyle(t);this._layers[c(t)]=t},_addPath:function(t){if(!this._rootGroup){this._initContainer()}this._rootGroup.appendChild(t._path);t.addInteractiveTarget(t._path)},_removePath:function(t){de(t._path);t.removeInteractiveTarget(t._path);delete this._layers[c(t)]},_updatePath:function(t){t._project();t._update()},_updateStyle:function(t){var e=t._path,n=t.options;if(!e){return}if(n.stroke){e.setAttribute("stroke",n.color);e.setAttribute("stroke-opacity",n.opacity);e.setAttribute("stroke-width",n.weight);e.setAttribute("stroke-linecap",n.lineCap);e.setAttribute("stroke-linejoin",n.lineJoin);if(n.dashArray){e.setAttribute("stroke-dasharray",n.dashArray)}else{e.removeAttribute("stroke-dasharray")}if(n.dashOffset){e.setAttribute("stroke-dashoffset",n.dashOffset)}else{e.removeAttribute("stroke-dashoffset")}}else{e.setAttribute("stroke","none")}if(n.fill){e.setAttribute("fill",n.fillColor||n.color);e.setAttribute("fill-opacity",n.fillOpacity);e.setAttribute("fill-rule",n.fillRule||"evenodd")}else{e.setAttribute("fill","none")}},_updatePoly:function(t,e){this._setPath(t,$(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,r="a"+n+","+i+" 0 1,0 ";var o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+n*2+",0 "+r+-n*2+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){_e(t._path)},_bringToBack:function(t){me(t._path)}});if(zt){Vi.include(Wi)}function Xi(t){return Ct||zt?new Vi(t):null}rn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;if(!e){e=this._renderer=this._createRenderer()}if(!this.hasLayer(e)){this.addLayer(e)}return e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===undefined){return false}var e=this._paneRenderers[t];if(e===undefined){e=this._createRenderer({pane:t});this._paneRenderers[t]=e}return e},_createRenderer:function(t){return this.options.preferCanvas&&qi(t)||Xi(t)}});var Ji=ci.extend({initialize:function(t,e){ci.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){t=j(t);return[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Ki(t,e){return new Ji(t,e)}Vi.create=Yi,Vi.pointsToPath=$,fi.geometryToLayer=li,fi.coordsToLatLng=pi,fi.coordsToLatLngs=_i,fi.latLngToCoords=mi,fi.latLngsToCoords=vi,fi.getFeature=gi,fi.asFeature=yi,rn.mergeOptions({boxZoom:true});var $i=mn.extend({initialize:function(t){this._map=t;this._container=t._container;this._pane=t._panes.overlayPane;this._resetStateTimeout=0;t.on("unload",this._destroy,this)},addHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){de(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=false},_clearDeferredResetState:function(){if(this._resetStateTimeout!==0){clearTimeout(this._resetStateTimeout);this._resetStateTimeout=0}},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1){return false}this._clearDeferredResetState();this._resetState();oe();Se();this._startPoint=this._map.mouseEventToContainerPoint(t);Be(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){if(!this._moved){this._moved=true;this._box=le("div","leaflet-zoom-box",this._container);ge(this._container,"leaflet-crosshair");this._map.fire("boxzoomstart")}this._point=this._map.mouseEventToContainerPoint(t);var e=new O(this._point,this._startPoint),n=e.getSize();Le(this._box,e.min);this._box.style.width=n.x+"px";this._box.style.height=n.y+"px"},_finish:function(){if(this._moved){de(this._box);ye(this._container,"leaflet-crosshair")}ae();Ce();Re(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(t.which!==1&&t.button!==1){return}this._finish();if(!this._moved){return}this._clearDeferredResetState();this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var e=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})},_onKeyDown:function(t){if(t.keyCode===27){this._finish()}}});rn.addInitHook("addHandler","boxZoom",$i),rn.mergeOptions({doubleClickZoom:true});var Qi=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;if(e.options.doubleClickZoom==="center"){e.setZoom(r)}else{e.setZoomAround(t.containerPoint,r)}}});rn.addInitHook("addHandler","doubleClickZoom",Qi),rn.mergeOptions({dragging:true,inertia:!ot,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:false,maxBoundsViscosity:0});var tr=mn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new xn(t._mapPane,t._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(t.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);t.on("zoomend",this._onZoomEnd,this);t.whenReady(this._onZoomEnd,this)}}ge(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab");ye(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;t._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else{this._offsetLimit=null}t.fire("movestart").fire("dragstart");if(t.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n);this._times.push(e);this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){while(this._positions.length>1&&t-this._times[0]>50){this._positions.shift();this._times.shift()}},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!this._viscosity||!this._offsetLimit){return}var t=this._draggable._newPos.subtract(this._draggable._startPos);var e=this._offsetLimit;if(t.x<e.min.x){t.x=this._viscousLimit(t.x,e.min.x)}if(t.y<e.min.y){t.y=this._viscousLimit(t.y,e.min.y)}if(t.x>e.max.x){t.x=this._viscousLimit(t.x,e.max.x)}if(t.y>e.max.y){t.y=this._viscousLimit(t.y,e.max.y)}this._draggable._newPos=this._draggable._startPos.add(t)},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;e.fire("dragend",t);if(i){e.fire("moveend")}else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),u=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,u),h=s.multiplyBy(c/u),f=c/(n.inertiaDeceleration*a),l=h.multiplyBy(-f/2).round();if(!l.x&&!l.y){e.fire("moveend")}else{l=e._limitOffset(l,e.options.maxBounds);k(function(){e.panBy(l,{duration:f,easeLinearity:a,noMoveStart:true,animate:true})})}}}});rn.addInitHook("addHandler","dragging",tr),rn.mergeOptions({keyboard:true,keyboardPanDelta:80});var er=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t;this._setPanDelta(t.options.keyboardPanDelta);this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;if(t.tabIndex<=0){t.tabIndex="0"}Be(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();Re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(this._focused){return}var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus();window.scrollTo(i,n)},_onFocus:function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},n=this.keyCodes,i,r;for(i=0,r=n.left.length;i<r;i++){e[n.left[i]]=[-1*t,0]}for(i=0,r=n.right.length;i<r;i++){e[n.right[i]]=[t,0]}for(i=0,r=n.down.length;i<r;i++){e[n.down[i]]=[0,t]}for(i=0,r=n.up.length;i<r;i++){e[n.up[i]]=[0,-1*t]}},_setZoomDelta:function(t){var e=this._zoomKeys={},n=this.keyCodes,i,r;for(i=0,r=n.zoomIn.length;i<r;i++){e[n.zoomIn[i]]=t}for(i=0,r=n.zoomOut.length;i<r;i++){e[n.zoomOut[i]]=-t}},_addHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(t.altKey||t.ctrlKey||t.metaKey){return}var e=t.keyCode,n=this._map,i;if(e in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress){i=this._panKeys[e];if(t.shiftKey){i=B(i).multiplyBy(3)}n.panBy(i);if(n.options.maxBounds){n.panInsideBounds(n.options.maxBounds)}}}else if(e in this._zoomKeys){n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e])}else if(e===27&&n._popup&&n._popup.options.closeOnEscapeKey){n.closePopup()}else{return}Ge(t)}});rn.addInitHook("addHandler","keyboard",er),rn.mergeOptions({scrollWheelZoom:true,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nr=mn.extend({addHooks:function(){Be(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){Re(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ve(t);var n=this._map.options.wheelDebounceTime;this._delta+=e;this._lastMousePos=this._map.mouseEventToContainerPoint(t);if(!this._startTime){this._startTime=+new Date}var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(s(this._performZoom,this),i);Ge(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(this._map.options.wheelPxPerZoomLevel*4),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0;this._startTime=null;if(!a){return}if(t.options.scrollWheelZoom==="center"){t.setZoom(e+a)}else{t.setZoomAround(this._lastMousePos,e+a)}}});rn.addInitHook("addHandler","scrollWheelZoom",nr),rn.mergeOptions({tap:true,tapTolerance:15});var ir=mn.extend({addHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(!t.touches){return}qe(t);this._fireClick=true;if(t.touches.length>1){this._fireClick=false;clearTimeout(this._holdTimeout);return}var e=t.touches[0],n=e.target;this._startPos=this._newPos=new I(e.clientX,e.clientY);if(n.tagName&&n.tagName.toLowerCase()==="a"){ge(n,"leaflet-active")}this._holdTimeout=setTimeout(s(function(){if(this._isTapValid()){this._fireClick=false;this._onUp();this._simulateEvent("contextmenu",e)}},this),1e3);this._simulateEvent("mousedown",e);Be(document,{touchmove:this._onMove,touchend:this._onUp},this)},_onUp:function(t){clearTimeout(this._holdTimeout);Re(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;if(n&&n.tagName&&n.tagName.toLowerCase()==="a"){ye(n,"leaflet-active")}this._simulateEvent("mouseup",e);if(this._isTapValid()){this._simulateEvent("click",e)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new I(e.clientX,e.clientY);this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=true;e.target._simulatedClick=true;n.initMouseEvent(t,true,true,window,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);e.target.dispatchEvent(n)}});if(Tt&&!Mt){rn.addInitHook("addHandler","tap",ir)}rn.mergeOptions({touchZoom:Tt&&!ot,bounceAtZoomLimits:true});var rr=mn.extend({addHooks:function(){ge(this._map._container,"leaflet-touch-zoom");Be(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom");Re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming){return}var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2);this._startLatLng=e.containerPointToLatLng(this._centerPoint);if(e.options.touchZoom!=="center"){this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))}this._startDist=n.distanceTo(i);this._startZoom=e.getZoom();this._moved=false;this._zooming=true;e._stop();Be(document,"touchmove",this._onTouchMove,this);Be(document,"touchend",this._onTouchEnd,this);qe(t)},_onTouchMove:function(t){if(!t.touches||t.touches.length!==2||!this._zooming){return}var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;this._zoom=e.getScaleZoom(r,this._startZoom);if(!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)){this._zoom=e._limitZoom(this._zoom)}if(e.options.touchZoom==="center"){this._center=this._startLatLng;if(r===1){return}}else{var o=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(r===1&&o.x===0&&o.y===0){return}this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}if(!this._moved){e._moveStart(true,false);this._moved=true}E(this._animRequest);var a=s(e._move,e,this._center,this._zoom,{pinch:true,round:false});this._animRequest=k(a,this,true);qe(t)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=false;return}this._zooming=false;E(this._animRequest);Re(document,"touchmove",this._onTouchMove);Re(document,"touchend",this._onTouchEnd);if(this._map.options.zoomAnimation){this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),true,this._map.options.zoomSnap)}else{this._map._resetView(this._center,this._map._limitZoom(this._zoom))}}});rn.addInitHook("addHandler","touchZoom",rr),rn.BoxZoom=$i,rn.DoubleClickZoom=Qi,rn.Drag=tr,rn.Keyboard=er,rn.ScrollWheelZoom=nr,rn.Tap=ir,rn.TouchZoom=rr,Object.freeze=n,t.version=e,t.Control=an,t.control=sn,t.Browser=Nt,t.Evented=N,t.Mixin=vn,t.Util=S,t.Class=C,t.Handler=mn,t.extend=u,t.bind=s,t.stamp=c,t.setOptions=p,t.DomEvent=en,t.DomUtil=De,t.PosAnimation=nn,t.Draggable=xn,t.LineUtil=Bn,t.PolyUtil=Rn,t.Point=I,t.point=B,t.Bounds=O,t.bounds=R,t.Transformation=Y,t.transformation=V,t.Projection=Fn,t.LatLng=F,t.latLng=U,t.LatLngBounds=Z,t.latLngBounds=j,t.CRS=H,t.GeoJSON=fi,t.geoJSON=xi,t.geoJson=wi,t.Layer=Gn,t.LayerGroup=Wn,t.layerGroup=Yn,t.FeatureGroup=Vn,t.featureGroup=Xn,t.ImageOverlay=Mi,t.imageOverlay=Ti,t.VideoOverlay=Pi,t.videoOverlay=Li,t.SVGOverlay=ki,t.svgOverlay=Ei,t.DivOverlay=Si,t.Popup=Ci,t.popup=zi,t.Tooltip=Ai,t.tooltip=Ni,t.Icon=Jn,t.icon=Kn,t.DivIcon=Ii,t.divIcon=Di,t.Marker=ti,t.marker=ei,t.TileLayer=Ri,t.tileLayer=Zi,t.GridLayer=Bi,t.gridLayer=Oi,t.SVG=Vi,t.svg=Xi,t.Renderer=Ui,t.Canvas=Hi,t.canvas=qi,t.Path=ni,t.CircleMarker=ii,t.circleMarker=ri,t.Circle=oi,t.circle=ai,t.Polyline=si,t.polyline=ui,t.Polygon=ci,t.polygon=hi,t.Rectangle=Ji,t.rectangle=Ki,t.Map=rn,t.map=on;var or=window.L;t.noConflict=function(){window.L=or;return this},window.L=t}(e)},function(t,e,n){!function(H){"use strict";function s(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function T(o){var n;return 1===o.length&&(n=o,o=function(t,e){return s(n(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)>0?i=r:n=r+1}return n}}}var t=T(s),_=t.right,e=t.left;function h(t,e){return[t,e]}function c(t){return null===t?NaN:+t}function i(t,e){var n,i,r=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<r;)isNaN(n=c(t[a]))||(u+=(i=n-s)*(n-(s+=i/++o)));else for(;++a<r;)isNaN(n=c(e(t[a],a,t)))||(u+=(i=n-s)*(n-(s+=i/++o)));if(o>1)return u/(o-1)}function r(t,e){var n=i(t,e);return n?Math.sqrt(n):n}function u(t,e){var n,i,r,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(i=r=n;++a<o;)null!=(n=t[a])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=r=n;++a<o;)null!=(n=e(t[a],a,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]}var n=Array.prototype,o=n.slice,a=n.map;function f(t){return function(){return t}}function m(t){return t}function P(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}var l=Math.sqrt(50),d=Math.sqrt(10),p=Math.sqrt(2);function v(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=g(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return i&&o.reverse(),o}function g(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=l?10:o>=d?5:o>=p?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=l?10:o>=d?5:o>=p?2:1)}function L(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=l?r*=10:o>=d?r*=5:o>=p&&(r*=2),e<t?-r:r}function y(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function b(t,e,n){if(null==n&&(n=c),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(r-o)}}function x(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i}function k(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--a]=i[e];return n}function w(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i}function M(t){if(!(r=t.length))return[];for(var e=-1,n=w(t,E),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i}function E(t){return t.length}var S=Array.prototype.slice;function C(t){return t}var z=1,A=2,N=3,I=4,D=1e-6;function B(t){return"translate("+(t+.5)+",0)"}function O(t){return"translate(0,"+(t+.5)+")"}function R(){return!this.__axis}function Z(_,m){var v=[],g=null,y=null,b=6,x=6,w=3,M=_===z||_===I?-1:1,T=_===I||_===A?"x":"y",P=_===z||_===N?B:O;function e(t){var e=null==g?m.ticks?m.ticks.apply(m,v):m.domain():g,n=null==y?m.tickFormat?m.tickFormat.apply(m,v):C:y,i=Math.max(b,0)+w,r=m.range(),o=+r[0]+.5,a=+r[r.length-1]+.5,s=(m.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(m.copy()),u=t.selection?t.selection():t,c=u.selectAll(".domain").data([null]),h=u.selectAll(".tick").data(e,m).order(),f=h.exit(),l=h.enter().append("g").attr("class","tick"),d=h.select("line"),p=h.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),h=h.merge(l),d=d.merge(l.append("line").attr("stroke","currentColor").attr(T+"2",M*b)),p=p.merge(l.append("text").attr("fill","currentColor").attr(T,M*i).attr("dy",_===z?"0em":_===N?"0.71em":"0.32em")),t!==u&&(c=c.transition(t),h=h.transition(t),d=d.transition(t),p=p.transition(t),f=f.transition(t).attr("opacity",D).attr("transform",function(t){return isFinite(t=s(t))?P(t):this.getAttribute("transform")}),l.attr("opacity",D).attr("transform",function(t){var e=this.parentNode.__axis;return P(e&&isFinite(e=e(t))?e:s(t))})),f.remove(),c.attr("d",_===I||_==A?x?"M"+M*x+","+o+"H0.5V"+a+"H"+M*x:"M0.5,"+o+"V"+a:x?"M"+o+","+M*x+"V0.5H"+a+"V"+M*x:"M"+o+",0.5H"+a),h.attr("opacity",1).attr("transform",function(t){return P(s(t))}),d.attr(T+"2",M*b),p.attr(T,M*i).text(n),u.filter(R).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",_===A?"start":_===I?"end":"middle"),u.each(function(){this.__axis=s})}return e.scale=function(t){return arguments.length?(m=t,e):m},e.ticks=function(){return v=S.call(arguments),e},e.tickArguments=function(t){return arguments.length?(v=null==t?[]:S.call(t),e):v.slice()},e.tickValues=function(t){return arguments.length?(g=null==t?null:S.call(t),e):g&&g.slice()},e.tickFormat=function(t){return arguments.length?(y=t,e):y},e.tickSize=function(t){return arguments.length?(b=x=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(x=+t,e):x},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}var j={value:function(){}};function q(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new F(i)}function F(t){this._=t}function U(t,i){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function G(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function W(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=j,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}F.prototype=q.prototype={constructor:F,on:function(t,e){var n,i=this._,r=U(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=W(i[n],t.name,e);else if(null==e)for(n in i)i[n]=W(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=G(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new F(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Y="http://www.w3.org/1999/xhtml",V={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),V.hasOwnProperty(e)?{space:V[e],local:t}:t}function J(t){var e=X(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Y&&t.documentElement.namespaceURI===Y?t.createElement(n):t.createElementNS(e,n)}})(e)}function K(){}function $(t){return null==t?K:function(){return this.querySelector(t)}}function Q(){return[]}function tt(t){return null==t?Q:function(){return this.querySelectorAll(t)}}function et(t){return function(){return this.matches(t)}}function nt(t){return new Array(t.length)}function it(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}it.prototype={constructor:it,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var rt="$";function ot(t,e,n,i,r,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new it(t,o[s]);for(;s<u;++s)(a=e[s])&&(r[s]=a)}function at(t,e,n,i,r,o,a){var s,u,c,h={},f=e.length,l=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=rt+a.call(u,u.__data__,s,e),c in h?r[s]=u:h[c]=u);for(s=0;s<l;++s)(u=h[c=rt+a.call(t,o[s],s,o)])?(i[s]=u,u.__data__=o[s],h[c]=null):n[s]=new it(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&h[d[s]]===u&&(r[s]=u)}function st(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ut(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ct(t,e){return t.style.getPropertyValue(e)||ut(t).getComputedStyle(t,null).getPropertyValue(e)}function ht(t){return t.trim().split(/^|\s+/)}function ft(t){return t.classList||new lt(t)}function lt(t){this._node=t,this._names=ht(t.getAttribute("class")||"")}function dt(t,e){for(var n=ft(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function pt(t,e){for(var n=ft(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function _t(){this.textContent=""}function mt(){this.innerHTML=""}function vt(){this.nextSibling&&this.parentNode.appendChild(this)}function gt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yt(){return null}function bt(){var t=this.parentNode;t&&t.removeChild(this)}function xt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function wt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}lt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Mt={};function Tt(n,t,e){return n=Pt(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function Pt(n,i,r){return function(t){var e=H.event;H.event=t;try{n.call(this,this.__data__,i,r)}finally{H.event=e}}}function Lt(o){return function(){var t=this.__on;if(t){for(var e,n=0,i=-1,r=t.length;n<r;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function kt(u,c,h){var f=Mt.hasOwnProperty(u.type)?Tt:Pt;return function(t,e,n){var i,r=this.__on,o=f(c,e,n);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===u.type&&i.name===u.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=o,i.capture=h),void(i.value=c);this.addEventListener(u.type,o,h),i={type:u.type,name:u.name,value:c,listener:o,capture:h},r?r.push(i):this.__on=[i]}}function Et(t,e,n,i){var r=H.event;t.sourceEvent=H.event,H.event=t;try{return e.apply(n,i)}finally{H.event=r}}function St(t,e,n){var i=ut(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}(H.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(Mt={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ct=[null];function zt(t,e){this._groups=t,this._parents=e}function At(){return new zt([[document.documentElement]],Ct)}function Nt(t){return"string"==typeof t?new zt([[document.querySelector(t)]],[document.documentElement]):new zt([[t]],Ct)}zt.prototype=At.prototype={constructor:zt,select:function(t){"function"!=typeof t&&(t=$(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],u=s.length,c=i[r]=new Array(u),h=0;h<u;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),c[h]=a);return new zt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=tt(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new zt(i,r)},filter:function(t){"function"!=typeof t&&(t=et(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new zt(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n=e?at:ot,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var h=i[c],f=r[c],l=f.length,d=t.call(h,h&&h.__data__,c,i),p=d.length,_=s[c]=new Array(p),m=a[c]=new Array(p);n(h,f,_,m,u[c]=new Array(l),d,e);for(var v,g,y=0,b=0;y<p;++y)if(v=_[y]){for(y>=b&&(b=y+1);!(g=m[b])&&++b<p;);v._next=g||null}}return(a=new zt(a,i))._enter=s,a._exit=u,a},enter:function(){return new zt(this._enter||this._groups.map(nt),this._parents)},exit:function(){return new zt(this._exit||this._groups.map(nt),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,c=e[s],h=n[s],f=c.length,l=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||h[d])&&(l[d]=u);for(;s<i;++s)a[s]=e[s];return new zt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=st);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a,s=e[o],u=s.length,c=r[o]=new Array(u),h=0;h<u;++h)(a=s[h])&&(c[h]=a);c.sort(t)}return new zt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=X(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,i){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):ct(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=ht(t+"");if(arguments.length<2){for(var i=ft(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?dt:pt)(this,t)}}:e?function(t){return function(){dt(this,t)}}:function(t){return function(){pt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?_t:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?mt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(vt)},lower:function(){return this.each(gt)},append:function(t){var e="function"==typeof t?t:J(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:J(t),i=null==e?yt:"function"==typeof e?e:$(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(bt)},clone:function(t){return this.select(t?wt:xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?kt:Lt,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,h=s.length;c<h;++c)for(i=0,u=s[c];i<a;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return St(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return St(this,t,e)}})(t,e))}};var It=0;function Dt(){return new Bt}function Bt(){this._="@"+(++It).toString(36)}function Ot(){for(var t,e=H.event;t=e.sourceEvent;)e=t;return e}function Rt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function Zt(t){var e=Ot();return e.changedTouches&&(e=e.changedTouches[0]),Rt(t,e)}function jt(t,e,n){arguments.length<3&&(n=e,e=Ot().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return Rt(t,i);return null}function Ft(){H.event.stopImmediatePropagation()}function Ut(){H.event.preventDefault(),H.event.stopImmediatePropagation()}function Ht(t){var e=t.document.documentElement,n=Nt(t).on("dragstart.drag",Ut,!0);"onselectstart"in e?n.on("selectstart.drag",Ut,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function qt(t,e){var n=t.document.documentElement,i=Nt(t).on("dragstart.drag",null);e&&(i.on("click.drag",Ut,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Gt(t){return function(){return t}}function Wt(t,e,n,i,r,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function Yt(){return!H.event.ctrlKey&&!H.event.button}function Vt(){return this.parentNode}function Xt(t){return null==t?{x:H.event.x,y:H.event.y}:t}function Jt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $t(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Qt(){}Bt.prototype=Dt.prototype={constructor:Bt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Wt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var te="\\s*([+-]?\\d+)\\s*",ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ne="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ie=/^#([0-9a-f]{3,8})$/,re=new RegExp("^rgb\\("+[te,te,te]+"\\)$"),oe=new RegExp("^rgb\\("+[ne,ne,ne]+"\\)$"),ae=new RegExp("^rgba\\("+[te,te,te,ee]+"\\)$"),se=new RegExp("^rgba\\("+[ne,ne,ne,ee]+"\\)$"),ue=new RegExp("^hsl\\("+[ee,ne,ne]+"\\)$"),ce=new RegExp("^hsla\\("+[ee,ne,ne,ee]+"\\)$"),he={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fe(){return this.rgb().formatHex()}function le(){return this.rgb().formatRgb()}function de(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?pe(e):3===n?new ge(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new ge(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new ge(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=re.exec(t))?new ge(e[1],e[2],e[3],1):(e=oe.exec(t))?new ge(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ae.exec(t))?_e(e[1],e[2],e[3],e[4]):(e=se.exec(t))?_e(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ue.exec(t))?we(e[1],e[2]/100,e[3]/100,1):(e=ce.exec(t))?we(e[1],e[2]/100,e[3]/100,e[4]):he.hasOwnProperty(t)?pe(he[t]):"transparent"===t?new ge(NaN,NaN,NaN,0):null}function pe(t){return new ge(t>>16&255,t>>8&255,255&t,1)}function _e(t,e,n,i){return i<=0&&(t=e=n=NaN),new ge(t,e,n,i)}function me(t){return t instanceof Qt||(t=de(t)),t?new ge((t=t.rgb()).r,t.g,t.b,t.opacity):new ge}function ve(t,e,n,i){return 1===arguments.length?me(t):new ge(t,e,n,null==i?1:i)}function ge(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function ye(){return"#"+xe(this.r)+xe(this.g)+xe(this.b)}function be(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function xe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function we(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pe(t,e,n,i)}function Me(t){if(t instanceof Pe)return new Pe(t.h,t.s,t.l,t.opacity);if(t instanceof Qt||(t=de(t)),!t)return new Pe;if(t instanceof Pe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=u<.5?o+r:2-o-r,a*=60):s=u>0&&u<1?0:a,new Pe(a,s,u,t.opacity)}function Te(t,e,n,i){return 1===arguments.length?Me(t):new Pe(t,e,n,null==i?1:i)}function Pe(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Le(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Kt(Qt,de,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:fe,formatHex:fe,formatHsl:function(){return Me(this).formatHsl()},formatRgb:le,toString:le}),Kt(ge,ve,$t(Qt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ye,formatHex:ye,formatRgb:be,toString:be})),Kt(Pe,Te,$t(Qt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Pe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Pe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ge(Le(t>=240?t-240:t+120,r,i),Le(t,r,i),Le(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ke=Math.PI/180,Ee=180/Math.PI,Se=.96422,Ce=1,ze=.82521,Ae=4/29,Ne=6/29,Ie=3*Ne*Ne,De=Ne*Ne*Ne;function Be(t){if(t instanceof Re)return new Re(t.l,t.a,t.b,t.opacity);if(t instanceof Ge)return We(t);t instanceof ge||(t=me(t));var e,n,i=Ue(t.r),r=Ue(t.g),o=Ue(t.b),a=Ze((.2225045*i+.7168786*r+.0606169*o)/Ce);return i===r&&r===o?e=n=a:(e=Ze((.4360747*i+.3850649*r+.1430804*o)/Se),n=Ze((.0139322*i+.0971045*r+.7141733*o)/ze)),new Re(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Oe(t,e,n,i){return 1===arguments.length?Be(t):new Re(t,e,n,null==i?1:i)}function Re(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Ze(t){return t>De?Math.pow(t,1/3):t/Ie+Ae}function je(t){return t>Ne?t*t*t:Ie*(t-Ae)}function Fe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ue(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function He(t){if(t instanceof Ge)return new Ge(t.h,t.c,t.l,t.opacity);if(t instanceof Re||(t=Be(t)),0===t.a&&0===t.b)return new Ge(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ee;return new Ge(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function qe(t,e,n,i){return 1===arguments.length?He(t):new Ge(t,e,n,null==i?1:i)}function Ge(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function We(t){if(isNaN(t.h))return new Re(t.l,0,0,t.opacity);var e=t.h*ke;return new Re(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Kt(Re,Oe,$t(Qt,{brighter:function(t){return new Re(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Re(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new ge(Fe(3.1338561*(e=Se*je(e))-1.6168667*(t=Ce*je(t))-.4906146*(n=ze*je(n))),Fe(-.9787684*e+1.9161415*t+.033454*n),Fe(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Kt(Ge,qe,$t(Qt,{brighter:function(t){return new Ge(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ge(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return We(this).rgb()}}));var Ye=-.14861,Ve=1.78277,Xe=-.29227,Je=-.90649,Ke=1.97294,$e=Ke*Je,Qe=Ke*Ve,tn=Ve*Xe-Je*Ye;function en(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof nn)return new nn(t.h,t.s,t.l,t.opacity);t instanceof ge||(t=me(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(tn*i+$e*e-Qe*n)/(tn+$e-Qe),o=i-r,a=(Ke*(n-r)-Xe*o)/Je,s=Math.sqrt(a*a+o*o)/(Ke*r*(1-r)),u=s?Math.atan2(a,o)*Ee-120:NaN;return new nn(u<0?u+360:u,s,r,t.opacity)}(t):new nn(t,e,n,null==i?1:i)}function nn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function rn(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}function on(a){var s=a.length-1;return function(t){var e=t<=0?t=0:t>=1?(t=1,s-1):Math.floor(t*s),n=a[e],i=a[e+1],r=e>0?a[e-1]:2*n-i,o=e<s-1?a[e+2]:2*i-n;return rn((t-e/s)*s,r,n,i,o)}}function an(a){var s=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=a[(e+s-1)%s],i=a[e%s],r=a[(e+1)%s],o=a[(e+2)%s];return rn((t-e/s)*s,n,i,r,o)}}function sn(t){return function(){return t}}function un(e,n){return function(t){return e+t*n}}function cn(t,e){var n=e-t;return n?un(t,n>180||n<-180?n-360*Math.round(n/360):n):sn(isNaN(t)?e:t)}function hn(n){return 1==(n=+n)?fn:function(t,e){return e-t?function(e,n,i){return e=Math.pow(e,i),n=Math.pow(n,i)-e,i=1/i,function(t){return Math.pow(e+t*n,i)}}(t,e,n):sn(isNaN(t)?e:t)}}function fn(t,e){var n=e-t;return n?un(t,n):sn(isNaN(t)?e:t)}Kt(nn,en,$t(Qt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new nn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ke,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new ge(255*(e+n*(Ye*i+Ve*r)),255*(e+n*(Xe*i+Je*r)),255*(e+n*(Ke*i)),this.opacity)}}));var ln=function t(e){var a=hn(e);function n(e,t){var n=a((e=ve(e)).r,(t=ve(t)).r),i=a(e.g,t.g),r=a(e.b,t.b),o=fn(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=r(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function dn(s){return function(t){var e,n,i=t.length,r=new Array(i),o=new Array(i),a=new Array(i);for(e=0;e<i;++e)n=ve(t[e]),r[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return r=s(r),o=s(o),a=s(a),n.opacity=1,function(t){return n.r=r(t),n.g=o(t),n.b=a(t),n+""}}}var pn=dn(on),_n=dn(an);function mn(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=Mn(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function vn(e,n){var i=new Date;return n-=e=+e,function(t){return i.setTime(e+n*t),i}}function gn(e,n){return n-=e=+e,function(t){return e+n*t}}function yn(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Mn(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xn=new RegExp(bn.source,"g");function wn(t,i){var e,n,r,o=bn.lastIndex=xn.lastIndex=0,a=-1,s=[],u=[];for(t+="",i+="";(e=bn.exec(t))&&(n=xn.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:gn(e,n)})),o=xn.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(t){return function(){return t}}(i):(i=u.length,function(t){for(var e,n=0;n<i;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}function Mn(t,e){var n,i=typeof e;return null==e||"boolean"===i?sn(e):("number"===i?gn:"string"===i?(n=de(e))?(e=n,ln):wn:e instanceof de?ln:e instanceof Date?vn:Array.isArray(e)?mn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?yn:gn)(t,e)}function Tn(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}}var Pn,Ln,kn,En,Sn=180/Math.PI,Cn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zn(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Sn,skewX:Math.atan(u)*Sn,scaleX:a,scaleY:s}}function An(n,s,u,a){function c(t){return t.length?t.pop()+" ":""}return function(t,e){var r=[],o=[];return t=n(t),e=n(e),function(t,e,n,i,r,o){if(t!==n||e!==i){var a=r.push("translate(",null,s,null,u);o.push({i:a-4,x:gn(t,n)},{i:a-2,x:gn(e,i)})}else(n||i)&&r.push("translate("+n+s+i+u)}(t.translateX,t.translateY,e.translateX,e.translateY,r,o),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(c(n)+"rotate(",null,a)-2,x:gn(t,e)})):e&&n.push(c(n)+"rotate("+e+a)}(t.rotate,e.rotate,r,o),function(t,e,n,i){t!==e?i.push({i:n.push(c(n)+"skewX(",null,a)-2,x:gn(t,e)}):e&&n.push(c(n)+"skewX("+e+a)}(t.skewX,e.skewX,r,o),function(t,e,n,i,r,o){if(t!==n||e!==i){var a=r.push(c(r)+"scale(",null,",",null,")");o.push({i:a-4,x:gn(t,n)},{i:a-2,x:gn(e,i)})}else 1===n&&1===i||r.push(c(r)+"scale("+n+","+i+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,r,o),t=e=null,function(t){for(var e,n=-1,i=o.length;++n<i;)r[(e=o[n]).i]=e.x(t);return r.join("")}}}var Nn=An(function(t){return"none"===t?Cn:(Pn||(Pn=document.createElement("DIV"),Ln=document.documentElement,kn=document.defaultView),Pn.style.transform=t,t=kn.getComputedStyle(Ln.appendChild(Pn),null).getPropertyValue("transform"),Ln.removeChild(Pn),zn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),In=An(function(t){return null==t?Cn:(En||(En=document.createElementNS("http://www.w3.org/2000/svg","g")),En.setAttribute("transform",t),(t=En.transform.baseVal.consolidate())?zn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Cn)},", ",")",")"),Dn=Math.SQRT2,Bn=2,On=4,Rn=1e-12;function Zn(t){return((t=Math.exp(t))+1/t)/2}function jn(t,e){var n,r,o=t[0],a=t[1],s=t[2],i=e[0],u=e[1],c=e[2],h=i-o,f=u-a,l=h*h+f*f;if(l<Rn)r=Math.log(c/s)/Dn,n=function(t){return[o+t*h,a+t*f,s*Math.exp(Dn*t*r)]};else{var d=Math.sqrt(l),p=(c*c-s*s+On*l)/(2*s*Bn*d),_=(c*c-s*s-On*l)/(2*c*Bn*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(_*_+1)-_);r=(v-m)/Dn,n=function(t){var e=t*r,n=Zn(m),i=s/(Bn*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Dn*e+m)-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[o+i*h,a+i*f,s*n/Zn(Dn*e+m)]}}return n.duration=1e3*r,n}function Fn(a){return function(e,t){var n=a((e=Te(e)).h,(t=Te(t)).h),i=fn(e.s,t.s),r=fn(e.l,t.l),o=fn(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(t),e.opacity=o(t),e+""}}}var Un=Fn(cn),Hn=Fn(fn);function qn(a){return function(e,t){var n=a((e=qe(e)).h,(t=qe(t)).h),i=fn(e.c,t.c),r=fn(e.l,t.l),o=fn(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=i(t),e.l=r(t),e.opacity=o(t),e+""}}}var Gn=qn(cn),Wn=qn(fn);function Yn(s){return function t(a){function e(e,t){var n=s((e=en(e)).h,(t=en(t)).h),i=fn(e.s,t.s),r=fn(e.l,t.l),o=fn(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}var Vn=Yn(cn),Xn=Yn(fn),Jn,Kn,$n=0,Qn=0,ti=0,ei=1e3,ni=0,ii=0,ri=0,oi="object"==typeof performance&&performance.now?performance:Date,ai="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function si(){return ii||(ai(ui),ii=oi.now()+ri)}function ui(){ii=0}function ci(){this._call=this._time=this._next=null}function hi(t,e,n){var i=new ci;return i.restart(t,e,n),i}function fi(){si(),++$n;for(var t,e=Jn;e;)(t=ii-e._time)>=0&&e._call.call(null,t),e=e._next;--$n}function li(){ii=(ni=oi.now())+ri,$n=Qn=0;try{fi()}finally{$n=0,function(){var t,e,n=Jn,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Jn=e);Kn=t,pi(i)}(),ii=0}}function di(){var t=oi.now(),e=t-ni;e>ei&&(ri-=e,ni=t)}function pi(t){$n||(Qn&&(Qn=clearTimeout(Qn)),t-ii>24?(t<1/0&&(Qn=setTimeout(li,t-oi.now()-ri)),ti&&(ti=clearInterval(ti))):(ti||(ni=oi.now(),ti=setInterval(di,ei)),$n=1,ai(li)))}function _i(e,n,t){var i=new ci;return n=null==n?0:+n,i.restart(function(t){i.stop(),e(t+n)},n,t),i}ci.prototype=hi.prototype={constructor:ci,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?si():+n)+(null==e?0:+e),this._next||Kn===this||(Kn?Kn._next=this:Jn=this,Kn=this),this._call=t,this._time=n,pi()},stop:function(){this._call&&(this._call=null,this._time=1/0,pi())}};var mi=q("start","end","cancel","interrupt"),vi=[],gi=0,yi=1,bi=2,xi=3,wi=4,Mi=5,Ti=6;function Pi(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(o,a,s){var u,c=o.__transition;function h(t){var e,n,i,r;if(s.state!==yi)return l();for(e in c)if((r=c[e]).name===s.name){if(r.state===xi)return _i(h);r.state===wi?(r.state=Ti,r.timer.stop(),r.on.call("interrupt",o,o.__data__,r.index,r.group),delete c[e]):+e<a&&(r.state=Ti,r.timer.stop(),r.on.call("cancel",o,o.__data__,r.index,r.group),delete c[e])}if(_i(function(){s.state===xi&&(s.state=wi,s.timer.restart(f,s.delay,s.time),f(t))}),s.state=bi,s.on.call("start",o,o.__data__,s.index,s.group),s.state===bi){for(s.state=xi,u=new Array(i=s.tween.length),e=0,n=-1;e<i;++e)(r=s.tween[e].value.call(o,o.__data__,s.index,s.group))&&(u[++n]=r);u.length=n+1}}function f(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(l),s.state=Mi,1),n=-1,i=u.length;++n<i;)u[n].call(o,e);s.state===Mi&&(s.on.call("end",o,o.__data__,s.index,s.group),l())}function l(){for(var t in s.state=Ti,s.timer.stop(),delete c[a],c)return;delete o.__transition}c[a]=s,s.timer=hi(function(t){s.state=yi,s.timer.restart(h,s.delay,s.time),s.delay<=t&&h(t-s.delay)},0,s.time)}(t,n,{name:e,index:i,group:r,on:mi,tween:vi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gi})}function Li(t,e){var n=Ei(t,e);if(n.state>gi)throw new Error("too late; already scheduled");return n}function ki(t,e){var n=Ei(t,e);if(n.state>xi)throw new Error("too late; already running");return n}function Ei(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Si(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>bi&&n.state<Mi,n.state=Ti,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}}function Ci(t,e,n){var i=t._id;return t.each(function(){var t=ki(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ei(t,i).value[e]}}function zi(t,e){var n;return("number"==typeof e?gn:e instanceof de?ln:(n=de(e))?(e=n,ln):wn)(t,e)}var Ai=At.prototype.constructor;function Ni(t){return function(){this.style.removeProperty(t)}}var Ii=0;function Di(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Bi(t){return At().transition(t)}function Oi(){return++Ii}var Ri=At.prototype;function Zi(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ji(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Di.prototype=Bi.prototype={constructor:Di,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=$(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,u,c=i[a],h=c.length,f=o[a]=new Array(h),l=0;l<h;++l)(s=c[l])&&(u=t.call(s,s.__data__,l,c))&&("__data__"in s&&(u.__data__=s.__data__),f[l]=u,Pi(f[l],e,n,l,f,Ei(s,n)));return new Di(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=tt(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var u,c=i[s],h=c.length,f=0;f<h;++f)if(u=c[f]){for(var l,d=t.call(u,u.__data__,f,c),p=Ei(u,n),_=0,m=d.length;_<m;++_)(l=d[_])&&Pi(l,e,n,_,d,p);o.push(d),a.push(u)}return new Di(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=et(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Di(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,c=e[s],h=n[s],f=c.length,l=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||h[d])&&(l[d]=u);for(;s<i;++s)a[s]=e[s];return new Di(a,this._parents,this._name,this._id)},selection:function(){return new Ai(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Oi(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var h=Ei(a,e);Pi(a,t,n,c,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Di(i,this._parents,t,n)},call:Ri.call,nodes:Ri.nodes,node:Ri.node,size:Ri.size,empty:Ri.empty,each:Ri.each,on:function(t,e){var n=this._id;return arguments.length<2?Ei(this.node(),n).on.on(t):this.each(function(n,i,r){var o,a,s=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(i)?Li:ki;return function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(i,r),t.on=a}}(n,t,e))},attr:function(t,e){var n=X(t),i="transform"===n?In:zi;return this.attrTween(t,"function"==typeof e?(n.local?function(i,r,o){var a,s,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(i.space,i.local))===(e=n+"")?null:t===a&&e===s?u:(s=e,u=r(a=t,n));this.removeAttributeNS(i.space,i.local)}}:function(i,r,o){var a,s,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(i))===(e=n+"")?null:t===a&&e===s?u:(s=e,u=r(a=t,n));this.removeAttribute(i)}})(n,i,Ci(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,i){var r,o,a=i+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===r?o:o=n(r=t,i)}}:function(e,n,i){var r,o,a=i+"";return function(){var t=this.getAttribute(e);return t===a?null:t===r?o:o=n(r=t,i)}})(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=X(t);return this.tween(n,(i.local?function(e,n){var i,r;function t(){var t=n.apply(this,arguments);return t!==r&&(i=(r=t)&&function(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}(e,t)),i}return t._value=n,t}:function(e,n){var i,r;function t(){var t=n.apply(this,arguments);return t!==r&&(i=(r=t)&&function(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}(e,t)),i}return t._value=n,t})(i,e))},style:function(t,e,n){var i="transform"==(t+="")?Nn:zi;return null==e?this.styleTween(t,function(n,i){var r,o,a;return function(){var t=ct(this,n),e=(this.style.removeProperty(n),ct(this,n));return t===e?null:t===r&&e===o?a:a=i(r=t,o=e)}}(t,i)).on("end.style."+t,Ni(t)):"function"==typeof e?this.styleTween(t,function(i,r,o){var a,s,u;return function(){var t=ct(this,i),e=o(this),n=e+"";return null==e&&(this.style.removeProperty(i),n=e=ct(this,i)),t===n?null:t===a&&n===s?u:(s=n,u=r(a=t,e))}}(t,i,Ci(this,"style."+t,e))).each(function(i,r){var o,a,s,u,c="style."+r,h="end."+c;return function(){var t=ki(this,i),e=t.on,n=null==t.value[c]?u||(u=Ni(r)):void 0;e===o&&s===n||(a=(o=e).copy()).on(h,s=n),t.on=a}}(this._id,t)):this.styleTween(t,function(e,n,i){var r,o,a=i+"";return function(){var t=ct(this,e);return t===a?null:t===r?o:o=n(r=t,i)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(e,n,i){var r,o;function t(){var t=n.apply(this,arguments);return t!==o&&(r=(o=t)&&function(e,n,i){return function(t){this.style.setProperty(e,n.call(this,t),i)}}(e,t,i)),r}return t._value=n,t}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Ci(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(e){var n,i;function t(){var t=e.apply(this,arguments);return t!==i&&(n=(i=t)&&function(e){return function(t){this.textContent=e.call(this,t)}}(t)),n}return t._value=e,t}(t))},remove:function(){return this.on("end.remove",function(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Ei(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?function(r,o){var a,s;return function(){var t=ki(this,r),e=t.tween;if(e!==a)for(var n=0,i=(s=a=e).length;n<i;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var u,c;if("function"!=typeof s)throw new Error;return function(){var t=ki(this,o),e=t.tween;if(e!==u){c=(u=e).slice();for(var n={name:a,value:s},i=0,r=c.length;i<r;++i)if(c[i].name===a){c[i]=n;break}i===r&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Li(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Li(this,t).delay=e}})(e,t)):Ei(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){ki(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){ki(this,t).duration=e}})(e,t)):Ei(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){ki(this,t).ease=e}}(e,t)):Ei(this.node(),e).ease},end:function(){var r,o,a=this,s=a._id,u=a.size();return new Promise(function(t,e){var n={value:e},i={value:function(){0==--u&&t()}};a.each(function(){var t=ki(this,s),e=t.on;e!==r&&((o=(r=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(i)),t.on=o})})}};var Fi=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ui=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Hi=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),qi=Math.PI,Gi=qi/2;function Wi(t){return(1-Math.cos(qi*t))/2}function Yi(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Vi(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Xi=4/11,Ji=6/11,Ki=8/11,$i=.75,Qi=9/11,tr=10/11,er=.9375,nr=21/22,ir=63/64,rr=1/Xi/Xi;function or(t){return(t=+t)<Xi?rr*t*t:t<Ki?rr*(t-=Ji)*t+$i:t<tr?rr*(t-=Qi)*t+er:rr*(t-=nr)*t+ir}var ar=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),sr=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),ur=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),cr=2*Math.PI,hr=function e(n,i){var r=Math.asin(1/(n=Math.max(1,n)))*(i/=cr);function t(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/i)}return t.amplitude=function(t){return e(t,i*cr)},t.period=function(t){return e(n,t)},t}(1,.3),fr=function e(n,i){var r=Math.asin(1/(n=Math.max(1,n)))*(i/=cr);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/i)}return t.amplitude=function(t){return e(t,i*cr)},t.period=function(t){return e(n,t)},t}(1,.3),lr=function e(n,i){var r=Math.asin(1/(n=Math.max(1,n)))*(i/=cr);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/i):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/i))/2}return t.amplitude=function(t){return e(t,i*cr)},t.period=function(t){return e(n,t)},t}(1,.3),dr={time:null,delay:0,duration:250,ease:ji};function pr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return dr.time=si(),dr;return n}At.prototype.interrupt=function(t){return this.each(function(){Si(this,t)})},At.prototype.transition=function(t){var e,n;t instanceof Di?(e=t._id,t=t._name):(e=Oi(),(n=dr).time=si(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,c=0;c<u;++c)(a=s[c])&&Pi(a,t,e,c,s,n||pr(a,e));return new Di(i,this._parents,t,e)};var _r=[null];function mr(t){return function(){return t}}function vr(t,e,n){this.target=t,this.type=e,this.selection=n}function gr(){H.event.stopImmediatePropagation()}function yr(){H.event.preventDefault(),H.event.stopImmediatePropagation()}var br={name:"drag"},xr={name:"space"},wr={name:"handle"},Mr={name:"center"};function Tr(t){return[+t[0],+t[1]]}function Pr(t){return[Tr(t[0]),Tr(t[1])]}var Lr={name:"x",handles:["w","e"].map(Ir),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},kr={name:"y",handles:["n","s"].map(Ir),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Er={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ir),input:function(t){return null==t?null:Pr(t)},output:function(t){return t}},Sr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Cr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},zr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ar={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Nr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ir(t){return{type:t}}function Dr(){return!H.event.ctrlKey&&!H.event.button}function Br(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Or(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Zr(O){var R,e=Br,Z=Dr,i=Or,j=!0,n=q("start","brush","end"),r=6;function o(t){var e=t.property("__brush",h).selectAll(".overlay").data([Ir("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Sr.overlay).merge(e).each(function(){var t=Rr(this).extent;Nt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Ir("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Sr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(O.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Sr[t.type]}),t.each(F).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",s).filter(i).on("touchstart.brush",s).on("touchmove.brush",u).on("touchend.brush touchcancel.brush",c).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function F(){var t=Nt(this),e=Rr(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-r/2:e[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-r/2:e[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function U(t,e,n){return!n&&t.__brush.emitter||new a(t,e)}function a(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function s(){if((!R||H.event.touches)&&Z.apply(this,arguments)){var e,n,i,r,o,a,s,u,c,h,f,l,d=this,p=H.event.target.__data__.type,_="selection"===(j&&H.event.metaKey?p="overlay":p)?br:j&&H.event.altKey?Mr:wr,m=O===kr?null:Ar[p],v=O===Lr?null:Nr[p],g=Rr(d),t=g.extent,y=g.selection,b=t[0][0],x=t[0][1],w=t[1][0],M=t[1][1],T=0,P=0,L=m&&v&&j&&H.event.shiftKey,k=H.event.touches?(l=H.event.changedTouches[0].identifier,function(t){return jt(t,H.event.touches,l)}):Zt,E=k(d),S=E,C=U(d,arguments,!0).beforestart();"overlay"===p?(y&&(c=!0),g.selection=y=[[e=O===kr?b:E[0],i=O===Lr?x:E[1]],[o=O===kr?w:e,s=O===Lr?M:i]]):(e=y[0][0],i=y[0][1],o=y[1][0],s=y[1][1]),n=e,r=i,a=o,u=s;var z=Nt(d).attr("pointer-events","none"),A=z.selectAll(".overlay").attr("cursor",Sr[p]);if(H.event.touches)C.moved=I,C.ended=B;else{var N=Nt(H.event.view).on("mousemove.brush",I,!0).on("mouseup.brush",B,!0);j&&N.on("keydown.brush",function(){switch(H.event.keyCode){case 16:L=m&&v;break;case 18:_===wr&&(m&&(o=a-T*m,e=n+T*m),v&&(s=u-P*v,i=r+P*v),_=Mr,D());break;case 32:_!==wr&&_!==Mr||(m<0?o=a-T:m>0&&(e=n-T),v<0?s=u-P:v>0&&(i=r-P),_=xr,A.attr("cursor",Sr.selection),D());break;default:return}yr()},!0).on("keyup.brush",function(){switch(H.event.keyCode){case 16:L&&(h=f=L=!1,D());break;case 18:_===Mr&&(m<0?o=a:m>0&&(e=n),v<0?s=u:v>0&&(i=r),_=wr,D());break;case 32:_===xr&&(H.event.altKey?(m&&(o=a-T*m,e=n+T*m),v&&(s=u-P*v,i=r+P*v),_=Mr):(m<0?o=a:m>0&&(e=n),v<0?s=u:v>0&&(i=r),_=wr),A.attr("cursor",Sr[p]),D());break;default:return}yr()},!0),Ht(H.event.view)}gr(),Si(d),F.call(d),C.start()}function I(){var t=k(d);!L||h||f||(Math.abs(t[0]-S[0])>Math.abs(t[1]-S[1])?f=!0:h=!0),S=t,c=!0,yr(),D()}function D(){var t;switch(T=S[0]-E[0],P=S[1]-E[1],_){case xr:case br:m&&(T=Math.max(b-e,Math.min(w-o,T)),n=e+T,a=o+T),v&&(P=Math.max(x-i,Math.min(M-s,P)),r=i+P,u=s+P);break;case wr:m<0?(T=Math.max(b-e,Math.min(w-e,T)),n=e+T,a=o):m>0&&(T=Math.max(b-o,Math.min(w-o,T)),n=e,a=o+T),v<0?(P=Math.max(x-i,Math.min(M-i,P)),r=i+P,u=s):v>0&&(P=Math.max(x-s,Math.min(M-s,P)),r=i,u=s+P);break;case Mr:m&&(n=Math.max(b,Math.min(w,e-T*m)),a=Math.max(b,Math.min(w,o+T*m))),v&&(r=Math.max(x,Math.min(M,i-P*v)),u=Math.max(x,Math.min(M,s+P*v)))}a<n&&(m*=-1,t=e,e=o,o=t,t=n,n=a,a=t,p in Cr&&A.attr("cursor",Sr[p=Cr[p]])),u<r&&(v*=-1,t=i,i=s,s=t,t=r,r=u,u=t,p in zr&&A.attr("cursor",Sr[p=zr[p]])),g.selection&&(y=g.selection),h&&(n=y[0][0],a=y[1][0]),f&&(r=y[0][1],u=y[1][1]),y[0][0]===n&&y[0][1]===r&&y[1][0]===a&&y[1][1]===u||(g.selection=[[n,r],[a,u]],F.call(d),C.brush())}function B(){if(gr(),H.event.touches){if(H.event.touches.length)return;R&&clearTimeout(R),R=setTimeout(function(){R=null},500)}else qt(H.event.view,c),N.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),A.attr("cursor",Sr.overlay),g.selection&&(y=g.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(y)&&(g.selection=null,F.call(d)),C.end()}}function u(){U(this,arguments).moved()}function c(){U(this,arguments).ended()}function h(){var t=this.__brush||{selection:null};return t.extent=Pr(e.apply(this,arguments)),t.dim=O,t}return o.move=function(t,s){t.selection?t.on("start.brush",function(){U(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){U(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,i=U(e,arguments),t=n.selection,r=O.input("function"==typeof s?s.apply(this,arguments):s,n.extent),o=Mn(t,r);function a(t){n.selection=1===t&&null===r?null:o(t),F.call(e),i.brush()}return null!==t&&null!==r?a:a(1)}):t.each(function(){var t=this,e=arguments,n=t.__brush,i=O.input("function"==typeof s?s.apply(t,e):s,n.extent),r=U(t,e).beforestart();Si(t),n.selection=null===i?null:i,F.call(t),r.start().brush().end()})},o.clear=function(t){o.move(t,null)},a.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Et(new vr(o,t,O.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},o.extent=function(t){return arguments.length?(e="function"==typeof t?t:mr(Pr(t)),o):e},o.filter=function(t){return arguments.length?(Z="function"==typeof t?t:mr(!!t),o):Z},o.touchable=function(t){return arguments.length?(i="function"==typeof t?t:mr(!!t),o):i},o.handleSize=function(t){return arguments.length?(r=+t,o):r},o.keyModifiers=function(t){return arguments.length?(j=!!t,o):j},o.on=function(){var t=n.on.apply(n,arguments);return t===n?o:t},o}var jr=Math.cos,Fr=Math.sin,Ur=Math.PI,Hr=Ur/2,qr=2*Ur,Gr=Math.max;function Wr(n){return function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)}}var Yr=Array.prototype.slice;function Vr(t){return function(){return t}}var Xr=Math.PI,Jr=2*Xr,Kr=Jr-1e-6;function $r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qr(){return new $r}function to(t){return t.source}function eo(t){return t.target}function no(t){return t.radius}function io(t){return t.startAngle}function ro(t){return t.endAngle}function oo(){}function ao(t,e){var n=new oo;if(t instanceof oo)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function so(){return{}}function uo(t,e,n){t[e]=n}function co(){return ao()}function ho(t,e,n){t.set(e,n)}function fo(){}$r.prototype=Qr.prototype={constructor:$r,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,u=i-e,c=o-t,h=a-e,f=c*c+h*h;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*s-u*c)>1e-6&&r){var l=n-o,d=i-a,p=s*s+u*u,_=l*l+d*d,m=Math.sqrt(p),v=Math.sqrt(f),g=r*Math.tan((Xr-Math.acos((p+f-_)/(2*m*v)))/2),y=g/v,b=g/m;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*c)+","+(e+y*h)),this._+="A"+r+","+r+",0,0,"+ +(h*l>c*d)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),u=t+a,c=e+s,h=1^o,f=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Jr+Jr),f>Kr?this._+="A"+n+","+n+",0,1,"+h+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+h+","+(this._x1=u)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Xr)+","+h+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},oo.prototype=ao.prototype={constructor:oo,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var lo=ao.prototype;function po(t,e){var n=new fo;if(t instanceof fo)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}fo.prototype=po.prototype={constructor:fo,has:lo.has,add:function(t){return this["$"+(t+="")]=t,this},remove:lo.remove,clear:lo.clear,values:lo.keys,size:lo.size,empty:lo.empty,each:lo.each};var _o=Array.prototype.slice;function mo(t,e){return t-e}function vo(t){return function(){return t}}function go(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=yo(t,e[i]))return n;return 0}function yo(t,e){for(var n=e[0],i=e[1],r=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],c=u[0],h=u[1],f=t[s],l=f[0],d=f[1];if(bo(u,f,e))return 0;h>i!=d>i&&n<(l-c)*(i-h)/(d-h)+c&&(r=-r)}return r}function bo(t,e,n){var i,r,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(r=t[i=+(t[0]===e[0])],o=n[i],a=e[i],r<=o&&o<=a||a<=o&&o<=r)}function xo(){}var wo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Mo(){var l=1,d=1,o=y,a=e;function i(e){var t=o(e);if(Array.isArray(t))t=t.slice().sort(mo);else{var n=u(e),i=n[0],r=n[1];t=L(i,r,t),t=P(Math.floor(i/t)*t,Math.floor(r/t)*t,t)}return t.map(function(t){return s(e,t)})}function s(e,n){var r=[],i=[];return function(t,e,s){var u,c,n,i,r,o,h=new Array,f=new Array;u=c=-1,i=t[0]>=e,wo[i<<1].forEach(a);for(;++u<l-1;)n=i,i=t[u+1]>=e,wo[n|i<<1].forEach(a);wo[i<<0].forEach(a);for(;++c<d-1;){for(u=-1,i=t[c*l+l]>=e,r=t[c*l]>=e,wo[i<<1|r<<2].forEach(a);++u<l-1;)n=i,i=t[c*l+l+u+1]>=e,o=r,r=t[c*l+u+1]>=e,wo[n|i<<1|r<<2|o<<3].forEach(a);wo[i|r<<3].forEach(a)}u=-1,r=t[c*l]>=e,wo[r<<2].forEach(a);for(;++u<l-1;)o=r,r=t[c*l+u+1]>=e,wo[r<<2|o<<3].forEach(a);function a(t){var e,n,i=[t[0][0]+u,t[0][1]+c],r=[t[1][0]+u,t[1][1]+c],o=p(i),a=p(r);(e=f[o])?(n=h[a])?(delete f[e.end],delete h[n.start],e===n?(e.ring.push(r),s(e.ring)):h[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(r),f[e.end=a]=e):(e=h[a])?(n=f[o])?(delete h[e.start],delete f[n.end],e===n?(e.ring.push(r),s(e.ring)):h[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(i),h[e.start=o]=e):h[o]=f[a]={start:o,end:a,ring:[i,r]}}wo[r<<3].forEach(a)}(e,n,function(t){a(t,e,n),function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}(t)>0?r.push([t]):i.push(t)}),i.forEach(function(t){for(var e,n=0,i=r.length;n<i;++n)if(-1!==go((e=r[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:n,coordinates:r}}function p(t){return 2*t[0]+t[1]*(l+1)*4}function e(t,s,u){t.forEach(function(t){var e,n=t[0],i=t[1],r=0|n,o=0|i,a=s[o*l+r];n>0&&n<l&&r===n&&(e=s[o*l+r-1],t[0]=n+(u-e)/(a-e)-.5),i>0&&i<d&&o===i&&(e=s[(o-1)*l+r],t[1]=i+(u-e)/(a-e)-.5)})}return i.contour=s,i.size=function(t){if(!arguments.length)return[l,d];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>0&&n>0))throw new Error("invalid size");return l=e,d=n,i},i.thresholds=function(t){return arguments.length?(o="function"==typeof t?t:Array.isArray(t)?vo(_o.call(t)):vo(t),i):o},i.smooth=function(t){return arguments.length?(a=t?e:xo,i):a===e},i}function To(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[s+a*i]),s>=n&&(s>=o&&(u-=t.data[s-o+a*i]),e.data[s-n+a*i]=u/Math.min(s+1,i-1+o-s,o))}function Po(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[a+s*i]),s>=n&&(s>=o&&(u-=t.data[a+(s-o)*i]),e.data[a+(s-n)*i]=u/Math.min(s+1,r-1+o-s,o))}function Lo(t){return t[0]}function ko(t){return t[1]}function Eo(){return 1}var So={},Co={},zo=34,Ao=10,No=13;function Io(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function Do(t){var n=Object.create(null),i=[];return t.forEach(function(t){for(var e in t)e in n||i.push(n[e]=e)}),i}function Bo(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Oo(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Bo(-t,6):t>9999?"+"+Bo(t,6):Bo(t,4)}(t.getUTCFullYear())+"-"+Bo(t.getUTCMonth()+1,2)+"-"+Bo(t.getUTCDate(),2)+(r?"T"+Bo(e,2)+":"+Bo(n,2)+":"+Bo(i,2)+"."+Bo(r,3)+"Z":i?"T"+Bo(e,2)+":"+Bo(n,2)+":"+Bo(i,2)+"Z":n||e?"T"+Bo(e,2)+":"+Bo(n,2)+"Z":"")}function Ro(i){var e=new RegExp('["'+i+"\n\r]"),f=i.charCodeAt(0);function o(i,t){var e,n=[],r=i.length,o=0,a=0,s=r<=0,u=!1;function c(){if(s)return Co;if(u)return u=!1,So;var t,e,n=o;if(i.charCodeAt(n)===zo){for(;o++<r&&i.charCodeAt(o)!==zo||i.charCodeAt(++o)===zo;);return(t=o)>=r?s=!0:(e=i.charCodeAt(o++))===Ao?u=!0:e===No&&(u=!0,i.charCodeAt(o)===Ao&&++o),i.slice(n+1,t-1).replace(/""/g,'"')}for(;o<r;){if((e=i.charCodeAt(t=o++))===Ao)u=!0;else if(e===No)u=!0,i.charCodeAt(o)===Ao&&++o;else if(e!==f)continue;return i.slice(n,t)}return s=!0,i.slice(n,r)}for(i.charCodeAt(r-1)===Ao&&--r,i.charCodeAt(r-1)===No&&--r;(e=c())!==Co;){for(var h=[];e!==So&&e!==Co;)h.push(e),e=c();t&&null==(h=t(h,a++))||n.push(h)}return n}function n(t,n){return t.map(function(e){return n.map(function(t){return a(e[t])}).join(i)})}function r(t){return t.map(a).join(i)}function a(t){return null==t?"":t instanceof Date?Oo(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var i,r,e=o(t,function(t,e){if(i)return i(t,e-1);r=t,i=n?function(n,i){var r=Io(n);return function(t,e){return i(r(t),e,n)}}(t,n):Io(t)});return e.columns=r||[],e},parseRows:o,format:function(t,e){return null==e&&(e=Do(t)),[e.map(a).join(i)].concat(n(t,e)).join("\n")},formatBody:function(t,e){return null==e&&(e=Do(t)),n(t,e).join("\n")},formatRows:function(t){return t.map(r).join("\n")},formatRow:r,formatValue:a}}var Zo=Ro(","),jo=Zo.parse,Fo=Zo.parseRows,Uo=Zo.format,Ho=Zo.formatBody,qo=Zo.formatRows,Go=Zo.formatRow,Wo=Zo.formatValue,Yo=Ro("\t"),Vo=Yo.parse,Xo=Yo.parseRows,Jo=Yo.format,Ko=Yo.formatBody,$o=Yo.formatRows,Qo=Yo.formatRow,ta=Yo.formatValue,ea=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function na(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ia(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function ra(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function oa(t,e){return fetch(t,e).then(ra)}function aa(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),oa(t,e).then(function(t){return i(t,n)})}}var sa=aa(jo),ua=aa(Vo);function ca(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function ha(n){return function(t,e){return oa(t,e).then(function(t){return(new DOMParser).parseFromString(t,n)})}}var fa=ha("application/xml"),la=ha("text/html"),da=ha("image/svg+xml");function pa(t){return function(){return t}}function _a(){return 1e-6*(Math.random()-.5)}function ma(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,u,c,h,f,l,d=t._root,p={data:i},_=t._x0,m=t._y0,v=t._x1,g=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(_+v)/2))?_=o:v=o,(h=n>=(a=(m+g)/2))?m=a:g=a,r=d,!(d=d[f=h<<1|c]))return r[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,r?r[f]=p:t._root=p,t;do{r=r?r[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(_+v)/2))?_=o:v=o,(h=n>=(a=(m+g)/2))?m=a:g=a}while((f=h<<1|c)==(l=(u>=a)<<1|s>=o));return r[l]=d,r[f]=p,t}function va(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function ga(t){return t[0]}function ya(t){return t[1]}function ba(t,e,n){var i=new xa(null==e?ga:e,null==n?ya:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function xa(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function wa(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ma=ba.prototype=xa.prototype;function Ta(t){return t.x+t.vx}function Pa(t){return t.y+t.vy}function La(t){return t.index}function ka(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Ea(t){return t.x}function Sa(t){return t.y}Ma.copy=function(){var t,e,n=new xa(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=wa(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=wa(e));return n},Ma.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return ma(this.cover(e,n),e,n,t)},Ma.addAll=function(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,h=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,i<u&&(u=i),i>h&&(h=i),r<c&&(c=r),r>f&&(f=r));if(u>h||c>f)return this;for(this.cover(u,c).cover(h,f),n=0;n<o;++n)ma(this,a[n],s[n],t[n]);return this},Ma.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var a,s,u=r-n,c=this._root;n>t||t>=r||i>e||e>=o;)switch(s=(e<i)<<1|t<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:r=n+u,o=i+u;break;case 1:n=r-u,o=i+u;break;case 2:r=n+u,i=o-u;break;case 3:n=r-u,i=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Ma.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},Ma.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ma.find=function(t,e,n){var i,r,o,a,s,u,c,h=this._x0,f=this._y0,l=this._x1,d=this._y1,p=[],_=this._root;for(_&&p.push(new va(_,h,f,l,d)),null==n?n=1/0:(h=t-n,f=e-n,l=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(_=u.node)||(r=u.x0)>l||(o=u.y0)>d||(a=u.x1)<h||(s=u.y1)<f))if(_.length){var m=(r+a)/2,v=(o+s)/2;p.push(new va(_[3],m,v,a,s),new va(_[2],r,v,m,s),new va(_[1],m,o,a,v),new va(_[0],r,o,m,v)),(c=(e>=v)<<1|t>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var g=t-+this._x.call(null,_.data),y=e-+this._y.call(null,_.data),b=g*g+y*y;if(b<n){var x=Math.sqrt(n=b);h=t-x,f=e-x,l=t+x,d=e+x,i=_.data}}return i},Ma.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,u,c,h,f,l,d=this._root,p=this._x0,_=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+m)/2))?p=s:m=s,(h=a>=(u=(_+v)/2))?_=u:v=u,e=d,!(d=d[f=h<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,l=f)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[f]=r:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[l]=d:this._root=d),this):(this._root=r,this)},Ma.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ma.root=function(){return this._root},Ma.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},Ma.visit=function(t){var e,n,i,r,o,a,s=[],u=this._root;for(u&&s.push(new va(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(i+o)/2,h=(r+a)/2;(n=u[3])&&s.push(new va(n,c,h,o,a)),(n=u[2])&&s.push(new va(n,i,h,c,a)),(n=u[1])&&s.push(new va(n,c,r,o,h)),(n=u[0])&&s.push(new va(n,i,r,c,h))}return this},Ma.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new va(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,h=(a+u)/2,f=(s+c)/2;(o=r[0])&&n.push(new va(o,a,s,h,f)),(o=r[1])&&n.push(new va(o,h,s,u,f)),(o=r[2])&&n.push(new va(o,a,f,h,c)),(o=r[3])&&n.push(new va(o,h,f,u,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ma.x=function(t){return arguments.length?(this._x=t,this):this._x},Ma.y=function(t){return arguments.length?(this._y=t,this):this._y};var Ca=10,za=Math.PI*(3-Math.sqrt(5));function Aa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Na(t){return(t=Aa(Math.abs(t)))?t[1]:NaN}var Ia,Da=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ba(t){if(!(e=Da.exec(t)))throw new Error("invalid format: "+t);var e;return new Oa({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Oa(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ra(t,e){var n=Aa(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Ba.prototype=Oa.prototype,Oa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Za={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ra(100*t,e)},r:Ra,s:function(t,e){var n=Aa(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Ia=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Aa(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ja(t){return t}var Fa,Ua=Array.prototype.map,Ha=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qa(t){var s,u,w=void 0===t.grouping||void 0===t.thousands?ja:(s=Ua.call(t.grouping,Number),u=t.thousands+"",function(t,e){for(var n=t.length,i=[],r=0,o=s[0],a=0;n>0&&o>0&&(a+o+1>e&&(o=Math.max(1,e-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[r=(r+1)%s.length];return i.reverse().join(u)}),i=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",M=void 0===t.decimal?".":t.decimal+"",T=void 0===t.numerals?ja:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Ua.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",P=void 0===t.minus?"-":t.minus+"",L=void 0===t.nan?"NaN":t.nan+"";function a(t){var c=(t=Ba(t)).fill,h=t.align,f=t.sign,e=t.symbol,l=t.zero,d=t.width,p=t.comma,_=t.precision,m=t.trim,v=t.type;"n"===v?(p=!0,v="g"):Za[v]||(void 0===_&&(_=12),m=!0,v="g"),(l||"0"===c&&"="===h)&&(l=!0,c="0",h="=");var g="$"===e?i:"#"===e&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===e?r:/[%p]/.test(v)?o:"",b=Za[v],x=/[defgprs%]/.test(v);function n(t){var e,n,i,r=g,o=y;if("c"===v)o=b(t)+o,t="";else{var a=(t=+t)<0;if(t=isNaN(t)?L:b(Math.abs(t),_),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),a&&0==+t&&(a=!1),r=(a?"("===f?f:P:"-"===f||"("===f?"":f)+r,o=("s"===v?Ha[8+Ia/3]:"")+o+(a&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if(48>(i=t.charCodeAt(e))||i>57){o=(46===i?M+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!l&&(t=w(t,1/0));var s=r.length+t.length+o.length,u=s<d?new Array(d-s+1).join(c):"";switch(p&&l&&(t=w(u+t,u.length?d-o.length:1/0),u=""),h){case"<":t=r+t+o+u;break;case"=":t=r+u+t+o;break;case"^":t=u.slice(0,s=u.length>>1)+r+t+o+u.slice(s);break;default:t=u+r+t+o}return T(t)}return _=void 0===_?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=Ba(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Na(e)/3))),r=Math.pow(10,-i),o=Ha[8+i/3];return function(t){return n(r*t)+o}}}}function Ga(t){return Fa=qa(t),H.format=Fa.format,H.formatPrefix=Fa.formatPrefix,Fa}function Wa(t){return Math.max(0,-Na(Math.abs(t)))}function Ya(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Na(e)/3)))-Na(Math.abs(t)))}function Va(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Na(e)-Na(t))+1}function Xa(){return new Ja}function Ja(){this.reset()}Ga({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Ja.prototype={constructor:Ja,reset:function(){this.s=this.t=0},add:function(t){$a(Ka,t,this.t),$a(this,Ka.s,this.s),this.s?this.t+=Ka.t:this.s=Ka.t},valueOf:function(){return this.s}};var Ka=new Ja;function $a(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var Qa=1e-6,ts=1e-12,es=Math.PI,ns=es/2,is=es/4,rs=2*es,os=180/es,as=es/180,ss=Math.abs,us=Math.atan,cs=Math.atan2,hs=Math.cos,fs=Math.ceil,ls=Math.exp,ds=Math.log,ps=Math.pow,_s=Math.sin,ms=Math.sign||function(t){return t>0?1:t<0?-1:0},vs=Math.sqrt,gs=Math.tan;function ys(t){return t>1?0:t<-1?es:Math.acos(t)}function bs(t){return t>1?ns:t<-1?-ns:Math.asin(t)}function xs(t){return(t=_s(t/2))*t}function ws(){}function Ms(t,e){t&&Ps.hasOwnProperty(t.type)&&Ps[t.type](t,e)}var Ts={Feature:function(t,e){Ms(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Ms(n[i].geometry,e)}},Ps={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ls(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ls(n[i],e,0)},Polygon:function(t,e){ks(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ks(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Ms(n[i],e)}};function Ls(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function ks(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Ls(t[n],e,1);e.polygonEnd()}function Es(t,e){t&&Ts.hasOwnProperty(t.type)?Ts[t.type](t,e):Ms(t,e)}var Ss,Cs,zs,As,Ns,Is=Xa(),Ds=Xa(),Bs={point:ws,lineStart:ws,lineEnd:ws,polygonStart:function(){Is.reset(),Bs.lineStart=Os,Bs.lineEnd=Rs},polygonEnd:function(){var t=+Is;Ds.add(t<0?rs+t:t),this.lineStart=this.lineEnd=this.point=ws},sphere:function(){Ds.add(rs)}};function Os(){Bs.point=Zs}function Rs(){js(Ss,Cs)}function Zs(t,e){Bs.point=js,Ss=t,Cs=e,zs=t*=as,As=hs(e=(e*=as)/2+is),Ns=_s(e)}function js(t,e){var n=(t*=as)-zs,i=n>=0?1:-1,r=i*n,o=hs(e=(e*=as)/2+is),a=_s(e),s=Ns*a,u=As*o+s*hs(r),c=s*i*_s(r);Is.add(cs(c,u)),zs=t,As=o,Ns=a}function Fs(t){return[cs(t[1],t[0]),bs(t[2])]}function Us(t){var e=t[0],n=t[1],i=hs(n);return[i*hs(e),i*_s(e),_s(n)]}function Hs(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function qs(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Gs(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ws(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ys(t){var e=vs(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Vs,Xs,Js,Ks,$s,Qs,tu,eu,nu,iu,ru,ou,au,su,uu,cu,hu,fu,lu,du,pu,_u,mu,vu,gu,yu,bu=Xa(),xu={point:wu,lineStart:Tu,lineEnd:Pu,polygonStart:function(){xu.point=Lu,xu.lineStart=ku,xu.lineEnd=Eu,bu.reset(),Bs.polygonStart()},polygonEnd:function(){Bs.polygonEnd(),xu.point=wu,xu.lineStart=Tu,xu.lineEnd=Pu,Is<0?(Vs=-(Js=180),Xs=-(Ks=90)):bu>Qa?Ks=90:bu<-Qa&&(Xs=-90),iu[0]=Vs,iu[1]=Js},sphere:function(){Vs=-(Js=180),Xs=-(Ks=90)}};function wu(t,e){nu.push(iu=[Vs=t,Js=t]),e<Xs&&(Xs=e),e>Ks&&(Ks=e)}function Mu(t,e){var n=Us([t*as,e*as]);if(eu){var i=qs(eu,n),r=qs([i[1],-i[0],0],i);Ys(r),r=Fs(r);var o,a=t-$s,s=a>0?1:-1,u=r[0]*os*s,c=ss(a)>180;c^(s*$s<u&&u<s*t)?(o=r[1]*os)>Ks&&(Ks=o):c^(s*$s<(u=(u+360)%360-180)&&u<s*t)?(o=-r[1]*os)<Xs&&(Xs=o):(e<Xs&&(Xs=e),e>Ks&&(Ks=e)),c?t<$s?Su(Vs,t)>Su(Vs,Js)&&(Js=t):Su(t,Js)>Su(Vs,Js)&&(Vs=t):Js>=Vs?(t<Vs&&(Vs=t),t>Js&&(Js=t)):t>$s?Su(Vs,t)>Su(Vs,Js)&&(Js=t):Su(t,Js)>Su(Vs,Js)&&(Vs=t)}else nu.push(iu=[Vs=t,Js=t]);e<Xs&&(Xs=e),e>Ks&&(Ks=e),eu=n,$s=t}function Tu(){xu.point=Mu}function Pu(){iu[0]=Vs,iu[1]=Js,xu.point=wu,eu=null}function Lu(t,e){if(eu){var n=t-$s;bu.add(ss(n)>180?n+(n>0?360:-360):n)}else Qs=t,tu=e;Bs.point(t,e),Mu(t,e)}function ku(){Bs.lineStart()}function Eu(){Lu(Qs,tu),Bs.lineEnd(),ss(bu)>Qa&&(Vs=-(Js=180)),iu[0]=Vs,iu[1]=Js,eu=null}function Su(t,e){return(e-=t)<0?e+360:e}function Cu(t,e){return t[0]-e[0]}function zu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Au={sphere:ws,point:Nu,lineStart:Du,lineEnd:Ru,polygonStart:function(){Au.lineStart=Zu,Au.lineEnd=ju},polygonEnd:function(){Au.lineStart=Du,Au.lineEnd=Ru}};function Nu(t,e){t*=as;var n=hs(e*=as);Iu(n*hs(t),n*_s(t),_s(e))}function Iu(t,e,n){au+=(t-au)/++ru,su+=(e-su)/ru,uu+=(n-uu)/ru}function Du(){Au.point=Bu}function Bu(t,e){t*=as;var n=hs(e*=as);vu=n*hs(t),gu=n*_s(t),yu=_s(e),Au.point=Ou,Iu(vu,gu,yu)}function Ou(t,e){t*=as;var n=hs(e*=as),i=n*hs(t),r=n*_s(t),o=_s(e),a=cs(vs((a=gu*o-yu*r)*a+(a=yu*i-vu*o)*a+(a=vu*r-gu*i)*a),vu*i+gu*r+yu*o);ou+=a,cu+=a*(vu+(vu=i)),hu+=a*(gu+(gu=r)),fu+=a*(yu+(yu=o)),Iu(vu,gu,yu)}function Ru(){Au.point=Nu}function Zu(){Au.point=Fu}function ju(){Uu(_u,mu),Au.point=Nu}function Fu(t,e){_u=t,mu=e,t*=as,e*=as,Au.point=Uu;var n=hs(e);vu=n*hs(t),gu=n*_s(t),yu=_s(e),Iu(vu,gu,yu)}function Uu(t,e){t*=as;var n=hs(e*=as),i=n*hs(t),r=n*_s(t),o=_s(e),a=gu*o-yu*r,s=yu*i-vu*o,u=vu*r-gu*i,c=vs(a*a+s*s+u*u),h=bs(c),f=c&&-h/c;lu+=f*a,du+=f*s,pu+=f*u,ou+=h,cu+=h*(vu+(vu=i)),hu+=h*(gu+(gu=r)),fu+=h*(yu+(yu=o)),Iu(vu,gu,yu)}function Hu(t){return function(){return t}}function qu(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Gu(t,e){return[ss(t)>es?t+Math.round(-t/rs)*rs:t,e]}function Wu(t,e,n){return(t%=rs)?e||n?qu(Vu(t),Xu(e,n)):Vu(t):e||n?Xu(e,n):Gu}function Yu(n){return function(t,e){return[(t+=n)>es?t-rs:t<-es?t+rs:t,e]}}function Vu(t){var e=Yu(t);return e.invert=Yu(-t),e}function Xu(t,e){var s=hs(t),u=_s(t),c=hs(e),h=_s(e);function n(t,e){var n=hs(e),i=hs(t)*n,r=_s(t)*n,o=_s(e),a=o*s+i*u;return[cs(r*c-a*h,i*s-o*u),bs(a*c+r*h)]}return n.invert=function(t,e){var n=hs(e),i=hs(t)*n,r=_s(t)*n,o=_s(e),a=o*c-r*h;return[cs(r*c+o*h,i*s+a*u),bs(a*s-i*u)]},n}function Ju(e){function t(t){return(t=e(t[0]*as,t[1]*as))[0]*=os,t[1]*=os,t}return e=Wu(e[0]*as,e[1]*as,e.length>2?e[2]*as:0),t.invert=function(t){return(t=e.invert(t[0]*as,t[1]*as))[0]*=os,t[1]*=os,t},t}function Ku(t,e,n,i,r,o){if(n){var a=hs(e),s=_s(e),u=i*n;null==r?(r=e+i*rs,o=e-u/2):(r=$u(a,r),o=$u(a,o),(i>0?r<o:r>o)&&(r+=i*rs));for(var c,h=r;i>0?h>o:h<o;h-=u)c=Fs([a,-s*hs(h),-s*_s(h)]),t.point(c[0],c[1])}}function $u(t,e){(e=Us(e))[0]-=t,Ys(e);var n=ys(-e[1]);return((-e[2]<0?-n:n)+rs-Qa)%rs}function Qu(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:ws,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}}function tc(t,e){return ss(t[0]-e[0])<Qa&&ss(t[1]-e[1])<Qa}function ec(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function nc(t,e,n,i,o){var a,r,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],r=t[e];if(tc(i,r)){for(o.lineStart(),a=0;a<e;++a)o.point((i=t[a])[0],i[1]);o.lineEnd()}else s.push(n=new ec(i,t,null,!0)),u.push(n.o=new ec(i,null,n,!1)),s.push(n=new ec(r,t,null,!1)),u.push(n.o=new ec(r,null,n,!0))}}),s.length){for(u.sort(e),ic(s),ic(u),a=0,r=u.length;a<r;++a)u[a].e=n=!n;for(var c,h,f=s[0];;){for(var l=f,d=!0;l.v;)if((l=l.n)===f)return;c=l.z,o.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(a=0,r=c.length;a<r;++a)o.point((h=c[a])[0],h[1]);else i(l.x,l.n.x,1,o);l=l.n}else{if(d)for(c=l.p.z,a=c.length-1;a>=0;--a)o.point((h=c[a])[0],h[1]);else i(l.x,l.p.x,-1,o);l=l.p}c=(l=l.o).z,d=!d}while(!l.v);o.lineEnd()}}}function ic(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}Gu.invert=Gu;var rc=Xa();function oc(t){return ss(t[0])<=es?t[0]:ms(t[0])*((ss(t[0])+es)%rs-es)}function ac(t,e){var n=oc(e),i=e[1],r=_s(i),o=[_s(n),-hs(n),0],a=0,s=0;rc.reset(),1===r?i=ns+Qa:-1===r&&(i=-ns-Qa);for(var u=0,c=t.length;u<c;++u)if(f=(h=t[u]).length)for(var h,f,l=h[f-1],d=oc(l),p=l[1]/2+is,_=_s(p),m=hs(p),v=0;v<f;++v,d=y,_=x,m=w,l=g){var g=h[v],y=oc(g),b=g[1]/2+is,x=_s(b),w=hs(b),M=y-d,T=M>=0?1:-1,P=T*M,L=P>es,k=_*x;if(rc.add(cs(k*T*_s(P),m*w+k*hs(P))),a+=L?M+T*rs:M,L^d>=n^y>=n){var E=qs(Us(l),Us(g));Ys(E);var S=qs(o,E);Ys(S);var C=(L^M>=0?-1:1)*bs(S[2]);(i>C||i===C&&(E[0]||E[1]))&&(s+=L^M>=0?1:-1)}}return(a<-Qa||a<Qa&&rc<-Qa)^1&s}function sc(m,v,g,y){return function(s){var u,c,h,n=v(s),f=Qu(),l=v(f),d=!1,e={point:i,lineStart:r,lineEnd:o,polygonStart:function(){e.point=p,e.lineStart=a,e.lineEnd=_,c=[],u=[]},polygonEnd:function(){e.point=i,e.lineStart=r,e.lineEnd=o,c=k(c);var t=ac(u,y);c.length?(d||(s.polygonStart(),d=!0),nc(c,cc,t,g,s)):t&&(d||(s.polygonStart(),d=!0),s.lineStart(),g(null,null,1,s),s.lineEnd()),d&&(s.polygonEnd(),d=!1),c=u=null},sphere:function(){s.polygonStart(),s.lineStart(),g(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function i(t,e){m(t,e)&&s.point(t,e)}function t(t,e){n.point(t,e)}function r(){e.point=t,n.lineStart()}function o(){e.point=i,n.lineEnd()}function p(t,e){h.push([t,e]),l.point(t,e)}function a(){l.lineStart(),h=[]}function _(){p(h[0][0],h[0][1]),l.lineEnd();var t,e,n,i,r=l.clean(),o=f.result(),a=o.length;if(h.pop(),u.push(h),h=null,a)if(1&r){if((e=(n=o[0]).length-1)>0){for(d||(s.polygonStart(),d=!0),s.lineStart(),t=0;t<e;++t)s.point((i=n[t])[0],i[1]);s.lineEnd()}}else a>1&&2&r&&o.push(o.pop().concat(o.shift())),c.push(o.filter(uc))}return e}}function uc(t){return t.length>1}function cc(t,e){return((t=t.x)[0]<0?t[1]-ns-Qa:ns-t[1])-((e=e.x)[0]<0?e[1]-ns-Qa:ns-e[1])}var hc=sc(function(){return!0},function(r){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){r.lineStart(),o=1},point:function(t,e){var n=t>0?es:-es,i=ss(t-a);ss(i-es)<Qa?(r.point(a,s=(s+e)/2>0?ns:-ns),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),r.point(t,s),o=0):u!==n&&i>=es&&(ss(a-u)<Qa&&(a-=u*Qa),ss(t-n)<Qa&&(t-=n*Qa),s=function(t,e,n,i){var r,o,a=_s(t-n);return ss(a)>Qa?us((_s(e)*(o=hs(i))*_s(n)-_s(i)*(r=hs(e))*_s(t))/(r*o*a)):(e+i)/2}(a,s,t,e),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),o=0),r.point(a=t,s=e),u=n},lineEnd:function(){r.lineEnd(),a=s=NaN},clean:function(){return 2-o}}},function(t,e,n,i){var r;if(null==t)r=n*ns,i.point(-es,r),i.point(0,r),i.point(es,r),i.point(es,0),i.point(es,-r),i.point(0,-r),i.point(-es,-r),i.point(-es,0),i.point(-es,r);else if(ss(t[0]-e[0])>Qa){var o=t[0]<e[0]?es:-es;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-es,-ns]);function fc(r){var L=hs(r),o=6*as,d=L>0,p=ss(L)>Qa;function _(t,e){return hs(t)*hs(e)>L}function m(t,e,n){var i=[1,0,0],r=qs(Us(t),Us(e)),o=Hs(r,r),a=r[0],s=o-a*a;if(!s)return!n&&t;var u=L*o/s,c=-L*a/s,h=qs(i,r),f=Ws(i,u);Gs(f,Ws(r,c));var l=h,d=Hs(f,l),p=Hs(l,l),_=d*d-p*(Hs(f,f)-1);if(!(_<0)){var m=vs(_),v=Ws(l,(-d-m)/p);if(Gs(v,f),v=Fs(v),!n)return v;var g,y=t[0],b=e[0],x=t[1],w=e[1];b<y&&(g=y,y=b,b=g);var M=b-y,T=ss(M-es)<Qa;if(!T&&w<x&&(g=x,x=w,w=g),T||M<Qa?T?x+w>0^v[1]<(ss(v[0]-y)<Qa?x:w):x<=v[1]&&v[1]<=w:M>es^(y<=v[0]&&v[0]<=b)){var P=Ws(l,(-d+m)/p);return Gs(P,f),[v,Fs(P)]}}}function v(t,e){var n=d?r:es-r,i=0;return t<-n?i|=1:t>n&&(i|=2),e<-n?i|=4:e>n&&(i|=8),i}return sc(_,function(s){var u,c,h,f,l;return{lineStart:function(){f=h=!1,l=1},point:function(t,e){var n,i=[t,e],r=_(t,e),o=d?r?0:v(t,e):r?v(t+(t<0?es:-es),e):0;if(!u&&(f=h=r)&&s.lineStart(),r!==h&&(!(n=m(u,i))||tc(u,n)||tc(i,n))&&(i[0]+=Qa,i[1]+=Qa,r=_(i[0],i[1])),r!==h)l=0,r?(s.lineStart(),n=m(i,u),s.point(n[0],n[1])):(n=m(u,i),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(p&&u&&d^r){var a;o&c||!(a=m(i,u,!0))||(l=0,d?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||u&&tc(u,i)||s.point(i[0],i[1]),u=i,h=r,c=o},lineEnd:function(){h&&s.lineEnd(),u=null},clean:function(){return l|(f&&h)<<1}}},function(t,e,n,i){Ku(i,r,o,n,t,e)},d?[0,-r]:[-es,r-es])}var lc=1e9,dc=-lc;function pc(v,g,y,b){function x(t,e){return v<=t&&t<=y&&g<=e&&e<=b}function w(t,e,n,i){var r=0,o=0;if(null==t||(r=a(t,n))!==(o=a(e,n))||s(t,e)<0^n>0)do{i.point(0===r||3===r?v:y,r>1?b:g)}while((r=(r+n+4)%4)!==o);else i.point(e[0],e[1])}function a(t,e){return ss(t[0]-v)<Qa?e>0?0:3:ss(t[0]-y)<Qa?e>0?2:1:ss(t[1]-g)<Qa?e>0?1:0:e>0?3:2}function M(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){var r,f,o,a,s,u,c,h,l,d,p,_=i,t=Qu(),e={point:n,lineStart:function(){e.point=m,f&&f.push(o=[]);d=!0,l=!1,c=h=NaN},lineEnd:function(){r&&(m(a,s),u&&l&&t.rejoin(),r.push(t.result()));e.point=n,l&&_.lineEnd()},polygonStart:function(){_=t,r=[],f=[],p=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=f.length;e<n;++e)for(var i,r,o=f[e],a=1,s=o.length,u=o[0],c=u[0],h=u[1];a<s;++a)i=c,r=h,u=o[a],c=u[0],h=u[1],r<=b?h>b&&(c-i)*(b-r)>(h-r)*(v-i)&&++t:h<=b&&(c-i)*(b-r)<(h-r)*(v-i)&&--t;return t}(),e=p&&t,n=(r=k(r)).length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),w(null,null,1,i),i.lineEnd()),n&&nc(r,M,t,w,i),i.polygonEnd());_=i,r=f=o=null}};function n(t,e){x(t,e)&&_.point(t,e)}function m(t,e){var n=x(t,e);if(f&&o.push([t,e]),d)a=t,s=e,u=n,d=!1,n&&(_.lineStart(),_.point(t,e));else if(n&&l)_.point(t,e);else{var i=[c=Math.max(dc,Math.min(lc,c)),h=Math.max(dc,Math.min(lc,h))],r=[t=Math.max(dc,Math.min(lc,t)),e=Math.max(dc,Math.min(lc,e))];!function(t,e,n,i,r,o){var a,s=t[0],u=t[1],c=0,h=1,f=e[0]-s,l=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>c&&(c=a)}if(a=r-s,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<h&&(h=a)}if(a=i-u,l||!(a>0)){if(a/=l,l<0){if(a<c)return;a<h&&(h=a)}else if(l>0){if(a>h)return;a>c&&(c=a)}if(a=o-u,l||!(a<0)){if(a/=l,l<0){if(a>h)return;a>c&&(c=a)}else if(l>0){if(a<c)return;a<h&&(h=a)}return c>0&&(t[0]=s+c*f,t[1]=u+c*l),h<1&&(e[0]=s+h*f,e[1]=u+h*l),!0}}}}}(i,r,v,g,y,b)?n&&(_.lineStart(),_.point(t,e),p=!1):(l||(_.lineStart(),_.point(i[0],i[1])),_.point(r[0],r[1]),n||_.lineEnd(),p=!1)}c=t,h=e,l=n}return e}}var _c,mc,vc,gc=Xa(),yc={sphere:ws,point:ws,lineStart:function(){yc.point=xc,yc.lineEnd=bc},lineEnd:ws,polygonStart:ws,polygonEnd:ws};function bc(){yc.point=yc.lineEnd=ws}function xc(t,e){_c=t*=as,mc=_s(e*=as),vc=hs(e),yc.point=wc}function wc(t,e){t*=as;var n=_s(e*=as),i=hs(e),r=ss(t-_c),o=hs(r),a=i*_s(r),s=vc*n-mc*i*o,u=mc*n+vc*i*o;gc.add(cs(vs(a*a+s*s),u)),_c=t,mc=n,vc=i}function Mc(t){return gc.reset(),Es(t,yc),+gc}var Tc=[null,null],Pc={type:"LineString",coordinates:Tc};function Lc(t,e){return Tc[0]=t,Tc[1]=e,Mc(Pc)}var kc={Feature:function(t,e){return Sc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Sc(n[i].geometry,e))return!0;return!1}},Ec={Sphere:function(){return!0},Point:function(t,e){return Cc(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Cc(n[i],e))return!0;return!1},LineString:function(t,e){return zc(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(zc(n[i],e))return!0;return!1},Polygon:function(t,e){return Ac(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Ac(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Sc(n[i],e))return!0;return!1}};function Sc(t,e){return!(!t||!Ec.hasOwnProperty(t.type))&&Ec[t.type](t,e)}function Cc(t,e){return 0===Lc(t,e)}function zc(t,e){for(var n,i,r,o=0,a=t.length;o<a;o++){if(0===(i=Lc(t[o],e)))return!0;if(o>0&&(r=Lc(t[o],t[o-1]))>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<ts*r)return!0;n=i}return!1}function Ac(t,e){return!!ac(t.map(Nc),Ic(e))}function Nc(t){return(t=t.map(Ic)).pop(),t}function Ic(t){return[t[0]*as,t[1]*as]}function Dc(t,e,n){var i=P(t,e-Qa,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function Bc(t,e,n){var i=P(t,e-Qa,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function Oc(){var e,n,i,r,o,a,s,u,c,h,f,l,d=10,p=d,_=90,m=360,v=2.5;function g(){return{type:"MultiLineString",coordinates:t()}}function t(){return P(fs(r/_)*_,i,_).map(f).concat(P(fs(u/m)*m,s,m).map(l)).concat(P(fs(n/d)*d,e,d).filter(function(t){return ss(t%_)>Qa}).map(c)).concat(P(fs(a/p)*p,o,p).filter(function(t){return ss(t%m)>Qa}).map(h))}return g.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},g.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(l(s).slice(1),f(i).reverse().slice(1),l(u).reverse().slice(1))]}},g.extent=function(t){return arguments.length?g.extentMajor(t).extentMinor(t):g.extentMinor()},g.extentMajor=function(t){return arguments.length?(r=+t[0][0],i=+t[1][0],u=+t[0][1],s=+t[1][1],r>i&&(t=r,r=i,i=t),u>s&&(t=u,u=s,s=t),g.precision(v)):[[r,u],[i,s]]},g.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],n>e&&(t=n,n=e,e=t),a>o&&(t=a,a=o,o=t),g.precision(v)):[[n,a],[e,o]]},g.step=function(t){return arguments.length?g.stepMajor(t).stepMinor(t):g.stepMinor()},g.stepMajor=function(t){return arguments.length?(_=+t[0],m=+t[1],g):[_,m]},g.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],g):[d,p]},g.precision=function(t){return arguments.length?(v=+t,c=Dc(a,o,90),h=Bc(n,e,v),f=Dc(u,s,90),l=Bc(r,i,v),g):v},g.extentMajor([[-180,-90+Qa],[180,90-Qa]]).extentMinor([[-180,-80-Qa],[180,80+Qa]])}function Rc(t){return t}var Zc,jc,Fc,Uc,Hc=Xa(),qc=Xa(),Gc={point:ws,lineStart:ws,lineEnd:ws,polygonStart:function(){Gc.lineStart=Wc,Gc.lineEnd=Xc},polygonEnd:function(){Gc.lineStart=Gc.lineEnd=Gc.point=ws,Hc.add(ss(qc)),qc.reset()},result:function(){var t=Hc/2;return Hc.reset(),t}};function Wc(){Gc.point=Yc}function Yc(t,e){Gc.point=Vc,Zc=Fc=t,jc=Uc=e}function Vc(t,e){qc.add(Uc*t-Fc*e),Fc=t,Uc=e}function Xc(){Vc(Zc,jc)}var Jc=1/0,Kc=Jc,$c=-Jc,Qc=$c,th={point:function(t,e){t<Jc&&(Jc=t);t>$c&&($c=t);e<Kc&&(Kc=e);e>Qc&&(Qc=e)},lineStart:ws,lineEnd:ws,polygonStart:ws,polygonEnd:ws,result:function(){var t=[[Jc,Kc],[$c,Qc]];return $c=Qc=-(Kc=Jc=1/0),t}},eh,nh,ih,rh,oh=0,ah=0,sh=0,uh=0,ch=0,hh=0,fh=0,lh=0,dh=0,ph={point:_h,lineStart:mh,lineEnd:yh,polygonStart:function(){ph.lineStart=bh,ph.lineEnd=xh},polygonEnd:function(){ph.point=_h,ph.lineStart=mh,ph.lineEnd=yh},result:function(){var t=dh?[fh/dh,lh/dh]:hh?[uh/hh,ch/hh]:sh?[oh/sh,ah/sh]:[NaN,NaN];return oh=ah=sh=uh=ch=hh=fh=lh=dh=0,t}};function _h(t,e){oh+=t,ah+=e,++sh}function mh(){ph.point=vh}function vh(t,e){ph.point=gh,_h(ih=t,rh=e)}function gh(t,e){var n=t-ih,i=e-rh,r=vs(n*n+i*i);uh+=r*(ih+t)/2,ch+=r*(rh+e)/2,hh+=r,_h(ih=t,rh=e)}function yh(){ph.point=_h}function bh(){ph.point=wh}function xh(){Mh(eh,nh)}function wh(t,e){ph.point=Mh,_h(eh=ih=t,nh=rh=e)}function Mh(t,e){var n=t-ih,i=e-rh,r=vs(n*n+i*i);uh+=r*(ih+t)/2,ch+=r*(rh+e)/2,hh+=r,fh+=(r=rh*t-ih*e)*(ih+t),lh+=r*(rh+e),dh+=3*r,_h(ih=t,rh=e)}function Th(t){this._context=t}Th.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,rs)}},result:ws};var Ph,Lh,kh,Eh,Sh,Ch=Xa(),zh={point:ws,lineStart:function(){zh.point=Ah},lineEnd:function(){Ph&&Nh(Lh,kh),zh.point=ws},polygonStart:function(){Ph=!0},polygonEnd:function(){Ph=null},result:function(){var t=+Ch;return Ch.reset(),t}};function Ah(t,e){zh.point=Nh,Lh=Eh=t,kh=Sh=e}function Nh(t,e){Eh-=t,Sh-=e,Ch.add(vs(Eh*Eh+Sh*Sh)),Eh=t,Sh=e}function Ih(){this._string=[]}function Dh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Bh(i){return function(t){var e=new Oh;for(var n in i)e[n]=i[n];return e.stream=t,e}}function Oh(){}function Rh(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Es(n,t.stream(th)),e(th.result()),null!=i&&t.clipExtent(i),t}function Zh(a,s,t){return Rh(a,function(t){var e=s[1][0]-s[0][0],n=s[1][1]-s[0][1],i=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),r=+s[0][0]+(e-i*(t[1][0]+t[0][0]))/2,o=+s[0][1]+(n-i*(t[1][1]+t[0][1]))/2;a.scale(150*i).translate([r,o])},t)}function jh(t,e,n){return Zh(t,[[0,0],e],n)}function Fh(o,a,t){return Rh(o,function(t){var e=+a,n=e/(t[1][0]-t[0][0]),i=(e-n*(t[1][0]+t[0][0]))/2,r=-n*t[0][1];o.scale(150*n).translate([i,r])},t)}function Uh(o,a,t){return Rh(o,function(t){var e=+a,n=e/(t[1][1]-t[0][1]),i=-n*t[0][0],r=(e-n*(t[1][1]+t[0][1]))/2;o.scale(150*n).translate([i,r])},t)}Ih.prototype={_radius:4.5,_circle:Dh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Dh(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Oh.prototype={constructor:Oh,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hh=16,qh=hs(30*as);function Gh(t,e){return+e?function(S,C){function z(t,e,n,i,r,o,a,s,u,c,h,f,l,d){var p=a-t,_=s-e,m=p*p+_*_;if(m>4*C&&l--){var v=i+c,g=r+h,y=o+f,b=vs(v*v+g*g+y*y),x=bs(y/=b),w=ss(ss(y)-1)<Qa||ss(n-u)<Qa?(n+u)/2:cs(g,v),M=S(w,x),T=M[0],P=M[1],L=T-t,k=P-e,E=_*L-p*k;(E*E/m>C||ss((p*L+_*k)/m-.5)>.3||i*c+r*h+o*f<qh)&&(z(t,e,n,i,r,o,T,P,w,v/=b,g/=b,y,l,d),d.point(T,P),z(T,P,w,v,g,y,a,s,u,c,h,f,l,d))}}return function(r){var n,i,o,a,s,u,c,h,f,l,d,p,_={point:t,lineStart:e,lineEnd:v,polygonStart:function(){r.polygonStart(),_.lineStart=g},polygonEnd:function(){r.polygonEnd(),_.lineStart=e}};function t(t,e){t=S(t,e),r.point(t[0],t[1])}function e(){h=NaN,_.point=m,r.lineStart()}function m(t,e){var n=Us([t,e]),i=S(t,e);z(h,f,c,l,d,p,h=i[0],f=i[1],c=t,l=n[0],d=n[1],p=n[2],Hh,r),r.point(h,f)}function v(){_.point=t,r.lineEnd()}function g(){e(),_.point=y,_.lineEnd=b}function y(t,e){m(n=t,e),i=h,o=f,a=l,s=d,u=p,_.point=m}function b(){z(h,f,c,l,d,p,i,o,n,a,s,u,Hh,r),_.lineEnd=v,v()}return _}}(t,e):function(n){return Bh({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(t)}var Wh=Bh({point:function(t,e){this.stream.point(t*as,e*as)}});function Yh(t,n,i,e){var r=hs(e),o=_s(e),a=r*t,s=o*t,u=r/t,c=o/t,h=(o*i-r*n)/t,f=(o*n+r*i)/t;function l(t,e){return[a*t-s*e+n,i-s*t-a*e]}return l.invert=function(t,e){return[u*t-c*e+h,f-c*t-u*e]},l}function Vh(t){return Xh(function(){return t})()}function Xh(t){var n,i,e,r,o,a,s,u,c,h,f=150,l=480,d=250,p=0,_=0,m=0,v=0,g=0,y=0,b=null,x=hc,w=null,M=Rc,T=.5;function P(t){return u(t[0]*as,t[1]*as)}function L(t){return(t=u.invert(t[0],t[1]))&&[t[0]*os,t[1]*os]}function k(){var t=Yh(f,0,0,y).apply(null,n(p,_)),e=(y?Yh:function(n,i,r){function t(t,e){return[i+n*t,r-n*e]}return t.invert=function(t,e){return[(t-i)/n,(r-e)/n]},t})(f,l-t[0],d-t[1],y);return i=Wu(m,v,g),s=qu(n,e),u=qu(i,s),a=Gh(s,T),E()}function E(){return c=h=null,P}return P.stream=function(t){return c&&h===t?c:c=Wh(function(i){return Bh({point:function(t,e){var n=i(t,e);return this.stream.point(n[0],n[1])}})}(i)(x(a(M(h=t)))))},P.preclip=function(t){return arguments.length?(x=t,b=void 0,E()):x},P.postclip=function(t){return arguments.length?(M=t,w=e=r=o=null,E()):M},P.clipAngle=function(t){return arguments.length?(x=+t?fc(b=t*as):(b=null,hc),E()):b*os},P.clipExtent=function(t){return arguments.length?(M=null==t?(w=e=r=o=null,Rc):pc(w=+t[0][0],e=+t[0][1],r=+t[1][0],o=+t[1][1]),E()):null==w?null:[[w,e],[r,o]]},P.scale=function(t){return arguments.length?(f=+t,k()):f},P.translate=function(t){return arguments.length?(l=+t[0],d=+t[1],k()):[l,d]},P.center=function(t){return arguments.length?(p=t[0]%360*as,_=t[1]%360*as,k()):[p*os,_*os]},P.rotate=function(t){return arguments.length?(m=t[0]%360*as,v=t[1]%360*as,g=t.length>2?t[2]%360*as:0,k()):[m*os,v*os,g*os]},P.angle=function(t){return arguments.length?(y=t%360*as,k()):y*os},P.precision=function(t){return arguments.length?(a=Gh(s,T=t*t),E()):vs(T)},P.fitExtent=function(t,e){return Zh(P,t,e)},P.fitSize=function(t,e){return jh(P,t,e)},P.fitWidth=function(t,e){return Fh(P,t,e)},P.fitHeight=function(t,e){return Uh(P,t,e)},function(){return n=t.apply(this,arguments),P.invert=n.invert&&L,k()}}function Jh(t){var e=0,n=es/3,i=Xh(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*as,n=t[1]*as):[e*os,n*os]},r}function Kh(t,e){var n=_s(t),i=(n+_s(e))/2;if(ss(i)<Qa)return function(t){var n=hs(t);function e(t,e){return[t*n,_s(e)/n]}return e.invert=function(t,e){return[t/n,bs(e*n)]},e}(t);var r=1+n*(2*i-n),o=vs(r)/i;function a(t,e){var n=vs(r-2*i*_s(e))/i;return[n*_s(t*=i),o-n*hs(t)]}return a.invert=function(t,e){var n=o-e;return[cs(t,ss(n))/i*ms(n),bs((r-(t*t+n*n)*i*i)/(2*i))]},a}function $h(){return Jh(Kh).scale(155.424).center([0,33.6442])}function Qh(){return $h().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function tf(o){return function(t,e){var n=hs(t),i=hs(e),r=o(n*i);return[r*i*_s(t),r*_s(e)]}}function ef(a){return function(t,e){var n=vs(t*t+e*e),i=a(n),r=_s(i),o=hs(i);return[cs(t*r,n*o),bs(n&&e*r/n)]}}var nf=tf(function(t){return vs(2/(1+t))});nf.invert=ef(function(t){return 2*bs(t/2)});var rf=tf(function(t){return(t=ys(t))&&t/_s(t)});function of(t,e){return[t,ds(gs((ns+e)/2))]}function af(n){var i,r,o,a=Vh(n),e=a.center,s=a.scale,u=a.translate,c=a.clipExtent,h=null;function f(){var t=es*s(),e=a(Ju(a.rotate()).invert([0,0]));return c(null==h?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===of?[[Math.max(e[0]-t,h),i],[Math.min(e[0]+t,r),o]]:[[h,Math.max(e[1]-t,i)],[r,Math.min(e[1]+t,o)]])}return a.scale=function(t){return arguments.length?(s(t),f()):s()},a.translate=function(t){return arguments.length?(u(t),f()):u()},a.center=function(t){return arguments.length?(e(t),f()):e()},a.clipExtent=function(t){return arguments.length?(null==t?h=i=r=o=null:(h=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),f()):null==h?null:[[h,i],[r,o]]},f()}function sf(t){return gs((ns+t)/2)}function uf(t,e){var n=hs(t),r=t===e?_s(t):ds(n/hs(e))/ds(sf(e)/sf(t)),o=n*ps(sf(t),r)/r;if(!r)return of;function i(t,e){o>0?e<-ns+Qa&&(e=-ns+Qa):e>ns-Qa&&(e=ns-Qa);var n=o/ps(sf(e),r);return[n*_s(r*t),o-n*hs(r*t)]}return i.invert=function(t,e){var n=o-e,i=ms(r)*vs(t*t+n*n);return[cs(t,ss(n))/r*ms(n),2*us(ps(o/i,1/r))-ns]},i}function cf(t,e){return[t,e]}function hf(t,e){var n=hs(t),r=t===e?_s(t):(n-hs(e))/(e-t),o=n/r+t;if(ss(r)<Qa)return cf;function i(t,e){var n=o-e,i=r*t;return[n*_s(i),o-n*hs(i)]}return i.invert=function(t,e){var n=o-e;return[cs(t,ss(n))/r*ms(n),o-ms(r)*vs(t*t+n*n)]},i}rf.invert=ef(function(t){return t}),of.invert=function(t,e){return[t,2*us(ls(e))-ns]},cf.invert=cf;var ff=1.340264,lf=-.081106,df=893e-6,pf=.003796,_f=vs(3)/2;function mf(t,e){var n=bs(_f*_s(e)),i=n*n,r=i*i*i;return[t*hs(n)/(_f*(ff+3*lf*i+r*(7*df+9*pf*i))),n*(ff+lf*i+r*(df+pf*i))]}function vf(t,e){var n=hs(e),i=hs(t)*n;return[n*_s(t)/i,_s(e)/i]}function gf(n,i,r,o){return 1===n&&1===i&&0===r&&0===o?Rc:Bh({point:function(t,e){this.stream.point(t*n+r,e*i+o)}})}function yf(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function bf(t,e){return[hs(e)*_s(t),_s(e)]}function xf(t,e){var n=hs(e),i=1+hs(t)*n;return[n*_s(t)/i,_s(e)/i]}function wf(t,e){return[ds(gs((ns+e)/2)),-t]}function Mf(t,e){return t.parent===e.parent?1:2}function Tf(t,e){return t+e.x}function Pf(t,e){return Math.max(t,e.y)}function Lf(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function kf(t,e){var n,i,r,o,a,s=new zf(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Ef);n=c.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(i=n.children[o]=new zf(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Cf)}function Ef(t){return t.children}function Sf(t){t.data=t.data.data}function Cf(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function zf(t){this.data=t,this.depth=this.height=0,this.parent=null}mf.invert=function(t,e){for(var n,i=e,r=i*i,o=r*r*r,a=0;a<12&&(o=(r=(i-=n=(i*(ff+lf*r+o*(df+pf*r))-e)/(ff+3*lf*r+o*(7*df+9*pf*r)))*i)*r*r,!(ss(n)<ts));++a);return[_f*t*(ff+3*lf*r+o*(7*df+9*pf*r))/hs(i),bs(_s(i)/_f)]},vf.invert=ef(us),yf.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(ss(n)>Qa&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},bf.invert=ef(bs),xf.invert=ef(function(t){return 2*us(t)}),wf.invert=function(t,e){return[-e,2*us(ls(t))-ns]},zf.prototype=kf.prototype={constructor:zf,count:function(){return this.eachAfter(Lf)},each:function(t){var e,n,i,r,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},eachAfter:function(t){for(var e,n,i,r=this,o=[r],a=[];r=o.pop();)if(a.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=a.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},sum:function(r){return this.eachAfter(function(t){for(var e=+r(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)e+=n[i].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return kf(this).eachBefore(Sf)}};var Af=Array.prototype.slice;function Nf(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(Af.call(t))).length,o=[];i<r;)e=t[i],n&&Bf(n,e)?++i:(n=Rf(o=If(o,e)),i=0);return n}function If(t,e){var n,i;if(Of(e,t))return[e];for(n=0;n<t.length;++n)if(Df(e,t[n])&&Of(Zf(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(Df(Zf(t[n],t[i]),e)&&Df(Zf(t[n],e),t[i])&&Df(Zf(t[i],e),t[n])&&Of(jf(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function Df(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function Bf(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Of(t,e){for(var n=0;n<e.length;++n)if(!Bf(t,e[n]))return!1;return!0}function Rf(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Zf(t[0],t[1]);case 3:return jf(t[0],t[1],t[2])}}function Zf(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-i,h=s-r,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*h)/2,y:(i+a+c/f*h)/2,r:(f+r+s)/2}}function jf(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,h=n.y,f=n.r,l=i-a,d=i-c,p=r-s,_=r-h,m=u-o,v=f-o,g=i*i+r*r-o*o,y=g-a*a-s*s+u*u,b=g-c*c-h*h+f*f,x=d*p-l*_,w=(p*b-_*y)/(2*x)-i,M=(_*m-p*v)/x,T=(d*y-l*b)/(2*x)-r,P=(l*v-d*m)/x,L=M*M+P*P-1,k=2*(o+w*M+T*P),E=w*w+T*T-o*o,S=-(L?(k+Math.sqrt(k*k-4*L*E))/(2*L):E/k);return{x:i+w+M*S,y:r+T+P*S,r:S}}function Ff(t,e,n){var i,r,o,a,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(r=e.r+n.r,r*=r,a=t.r+n.r,r>(a*=a)?(i=(c+a-r)/(2*c),o=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x-i*s-o*u,n.y=t.y-i*u+o*s):(i=(c+r-a)/(2*c),o=Math.sqrt(Math.max(0,r/c-i*i)),n.x=e.x+i*s-o*u,n.y=e.y+i*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Uf(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Hf(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function qf(t){this._=t,this.next=null,this.previous=null}function Gf(t){if(!(r=t.length))return 0;var e,n,i,r,o,a,s,u,c,h,f;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;Ff(n,e,i=t[2]),e=new qf(e),n=new qf(n),i=new qf(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<r;++s){Ff(e._,n._,i=t[s]),i=new qf(i),u=n.next,c=e.previous,h=n._.r,f=e._.r;do{if(h<=f){if(Uf(u._,i._)){n=u,e.next=n,n.previous=e,--s;continue t}h+=u._.r,u=u.next}else{if(Uf(c._,i._)){(e=c).next=n,n.previous=e,--s;continue t}f+=c._.r,c=c.previous}}while(u!==c.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,o=Hf(e);(i=i.next)!==n;)(a=Hf(i))<o&&(e=i,o=a);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Nf(e),s=0;s<r;++s)(e=t[s]).x-=i.x,e.y-=i.y;return i.r}function Wf(t){return null==t?null:Yf(t)}function Yf(t){if("function"!=typeof t)throw new Error;return t}function Vf(){return 0}function Xf(t){return function(){return t}}function Jf(t){return Math.sqrt(t.value)}function Kf(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function $f(a,s){return function(t){if(e=t.children){var e,n,i,r=e.length,o=a(t)*s||0;if(o)for(n=0;n<r;++n)e[n].r+=o;if(i=Gf(e),o)for(n=0;n<r;++n)e[n].r-=o;t.r=i+o}}}function Qf(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function tl(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function el(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*c}var nl="$",il={depth:-1},rl={};function ol(t){return t.id}function al(t){return t.parentId}function sl(t,e){return t.parent===e.parent?1:2}function ul(t){var e=t.children;return e?e[0]:t.t}function cl(t){var e=t.children;return e?e[e.length-1]:t.t}function hl(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function fl(t,e,n){return t.a.parent===e.parent?t.a:n}function ll(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function dl(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*c}ll.prototype=Object.create(zf.prototype);var pl=(1+Math.sqrt(5))/2;function _l(t,e,n,i,r,o){for(var a,s,u,c,h,f,l,d,p,_,m,v=[],g=e.children,y=0,b=0,x=g.length,w=e.value;y<x;){u=r-n,c=o-i;do{h=g[b++].value}while(!h&&b<x);for(f=l=h,m=h*h*(_=Math.max(c/u,u/c)/(w*t)),p=Math.max(l/m,m/f);b<x;++b){if(h+=s=g[b].value,s<f&&(f=s),s>l&&(l=s),m=h*h*_,(d=Math.max(l/m,m/f))>p){h-=s;break}p=d}v.push(a={value:h,dice:u<c,children:g.slice(y,b)}),a.dice?el(a,n,i,r,w?i+=c*h/w:o):dl(a,n,i,w?n+=u*h/w:r,o),w-=h,y=b}return v}var ml=function e(o){function t(t,e,n,i,r){_l(o,t,e,n,i,r)}return t.ratio=function(t){return e((t=+t)>1?t:1)},t}(pl),vl=function e(d){function t(t,e,n,i,r){if((o=t._squarify)&&o.ratio===d)for(var o,a,s,u,c,h=-1,f=o.length,l=t.value;++h<f;){for(s=(a=o[h]).children,u=a.value=0,c=s.length;u<c;++u)a.value+=s[u].value;a.dice?el(a,e,n,i,n+=(r-n)*a.value/l):dl(a,e,n,e+=(i-e)*a.value/l,r),l-=a.value}else t._squarify=o=_l(d,t,e,n,i,r),o.ratio=d}return t.ratio=function(t){return e((t=+t)>1?t:1)},t}(pl);function gl(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function yl(t,e){return t[0]-e[0]||t[1]-e[1]}function bl(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;i>1&&gl(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function xl(){return Math.random()}var wl=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(xl),Ml=function t(o){function e(e,n){var i,r;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=i)t=i,i=null;else do{i=2*o()-1,t=2*o()-1,r=i*i+t*t}while(!r||r>1);return e+n*t*Math.sqrt(-2*Math.log(r)/r)}}return e.source=t,e}(xl),Tl=function t(e){function n(){var t=Ml.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(xl),Pl=function t(i){function e(n){return function(){for(var t=0,e=0;e<n;++e)t+=i();return t}}return e.source=t,e}(xl),Ll=function t(n){function e(t){var e=Pl.source(n)(t);return function(){return e()/t}}return e.source=t,e}(xl),kl=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(xl);function El(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Sl(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Cl=Array.prototype,zl=Cl.map,Al=Cl.slice,Nl={name:"implicit"};function Il(){var o=ao(),a=[],i=[],r=Nl;function s(t){var e=t+"",n=o.get(e);if(!n){if(r!==Nl)return r;o.set(e,n=a.push(t))}return i[(n-1)%i.length]}return s.domain=function(t){if(!arguments.length)return a.slice();a=[],o=ao();for(var e,n,i=-1,r=t.length;++i<r;)o.has(n=(e=t[i])+"")||o.set(n,a.push(e));return s},s.range=function(t){return arguments.length?(i=Al.call(t),s):i.slice()},s.unknown=function(t){return arguments.length?(r=t,s):r},s.copy=function(){return Il(a,i).unknown(r)},El.apply(s,arguments),s}function Dl(){var o,a,t=Il().unknown(void 0),s=t.domain,u=t.range,c=[0,1],h=!1,f=0,l=0,d=.5;function e(){var t=s().length,e=c[1]<c[0],n=c[e-0],i=c[1-e];o=(i-n)/Math.max(1,t-f+2*l),h&&(o=Math.floor(o)),n+=(i-n-o*(t-f))*d,a=o*(1-f),h&&(n=Math.round(n),a=Math.round(a));var r=P(t).map(function(t){return n+o*t});return u(e?r.reverse():r)}return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},t.rangeRound=function(t){return c=[+t[0],+t[1]],h=!0,e()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(h=!!t,e()):h},t.padding=function(t){return arguments.length?(f=Math.min(1,l=+t),e()):f},t.paddingInner=function(t){return arguments.length?(f=Math.min(1,t),e()):f},t.paddingOuter=function(t){return arguments.length?(l=+t,e()):l},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return Dl(s(),c).round(h).paddingInner(f).paddingOuter(l).align(d)},El.apply(e(),arguments)}function Bl(t){return+t}var Ol=[0,1];function Rl(t){return t}function Zl(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function jl(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function Fl(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=Zl(r,i),o=n(a,o)):(i=Zl(i,r),o=n(o,a)),function(t){return o(i(t))}}function Ul(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),o=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Zl(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=_(n,t,1,i)-1;return o[e](r[e](t))}}function Hl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ql(){var n,i,e,r,o,a,s=Ol,u=Ol,c=Mn,h=Rl;function f(){return r=Math.min(s.length,u.length)>2?Ul:Fl,o=a=null,l}function l(t){return isNaN(t=+t)?e:(o||(o=r(s.map(n),u,c)))(n(h(t)))}return l.invert=function(t){return h(i((a||(a=r(u,s.map(n),gn)))(t)))},l.domain=function(t){return arguments.length?(s=zl.call(t,Bl),h===Rl||(h=jl(s)),f()):s.slice()},l.range=function(t){return arguments.length?(u=Al.call(t),f()):u.slice()},l.rangeRound=function(t){return u=Al.call(t),c=Tn,f()},l.clamp=function(t){return arguments.length?(h=t?jl(s):Rl,l):h!==Rl},l.interpolate=function(t){return arguments.length?(c=t,f()):c},l.unknown=function(t){return arguments.length?(e=t,l):e},function(t,e){return n=t,i=e,f()}}function Gl(t,e){return ql()(t,e)}function Wl(t,e,n,i){var r,o=L(t,e,n);switch((i=Ba(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=Ya(o,a))||(i.precision=r),H.formatPrefix(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=Va(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=Wa(o))||(i.precision=r-2*("%"===i.type))}return H.format(i)}function Yl(s){var u=s.domain;return s.ticks=function(t){var e=u();return v(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){var n=u();return Wl(n[0],n[n.length-1],null==t?10:t,e)},s.nice=function(t){null==t&&(t=10);var e,n=u(),i=0,r=n.length-1,o=n[i],a=n[r];return a<o&&(e=o,o=a,a=e,e=i,i=r,r=e),(e=g(o,a,t))>0?e=g(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=g(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),e>0?(n[i]=Math.floor(o/e)*e,n[r]=Math.ceil(a/e)*e,u(n)):e<0&&(n[i]=Math.ceil(o*e)/e,n[r]=Math.floor(a*e)/e,u(n)),s},s}function Vl(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Xl(t){return Math.log(t)}function Jl(t){return Math.exp(t)}function Kl(t){return-Math.log(-t)}function $l(t){return-Math.exp(-t)}function Ql(t){return isFinite(t)?+("1e"+t):t<0?0:t}function td(e){return function(t){return-e(-t)}}function ed(t){var l,d,e=t(Xl,Jl),p=e.domain,_=10;function n(){return l=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(_),d=function(e){return 10===e?Ql:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(_),p()[0]<0?(l=td(l),d=td(d),t(Kl,$l)):t(Xl,Jl),e}return e.base=function(t){return arguments.length?(_=+t,n()):_},e.domain=function(t){return arguments.length?(p(t),n()):p()},e.ticks=function(t){var e,n=p(),i=n[0],r=n[n.length-1];(e=r<i)&&(u=i,i=r,r=u);var o,a,s,u=l(i),c=l(r),h=null==t?10:+t,f=[];if(!(_%1)&&c-u<h){if(u=Math.round(u)-1,c=Math.round(c)+1,i>0){for(;u<c;++u)for(a=1,o=d(u);a<_;++a)if(!((s=o*a)<i)){if(s>r)break;f.push(s)}}else for(;u<c;++u)for(a=_-1,o=d(u);a>=1;--a)if(!((s=o*a)<i)){if(s>r)break;f.push(s)}}else f=v(u,c,Math.min(c-u,h)).map(d);return e?f.reverse():f},e.tickFormat=function(t,n){if(null==n&&(n=10===_?".0e":","),"function"!=typeof n&&(n=H.format(n)),t===1/0)return n;null==t&&(t=10);var i=Math.max(1,_*t/e.ticks().length);return function(t){var e=t/d(Math.round(l(t)));return e*_<_-.5&&(e*=_),e<=i?n(t):""}},e.nice=function(){return p(Vl(p(),{floor:function(t){return d(Math.floor(l(t)))},ceil:function(t){return d(Math.ceil(l(t)))}}))},e}function nd(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function id(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rd(e){var n=1,t=e(nd(n),id(n));return t.constant=function(t){return arguments.length?e(nd(n=+t),id(n)):n},Yl(t)}function od(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ad(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sd(t){return t<0?-t*t:t*t}function ud(t){var e=t(Rl,Rl),n=1;function i(){return 1===n?t(Rl,Rl):.5===n?t(ad,sd):t(od(n),od(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},Yl(e)}function cd(){var t=ud(ql());return t.copy=function(){return Hl(t,cd()).exponent(t.exponent())},El.apply(t,arguments),t}var hd=new Date,fd=new Date;function ld(o,a,n,i){function s(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return o(t=new Date(+t)),t},s.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var i,r=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&n>0))return r;do{r.push(i=new Date(+t)),a(t,n),o(t)}while(i<t&&t<e);return r},s.filter=function(n){return ld(function(t){if(t>=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;--e>=0;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return hd.setTime(+t),fd.setTime(+e),o(hd),o(fd),Math.floor(n(hd,fd))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(i?function(t){return i(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var dd=ld(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});dd.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?ld(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):dd:null};var pd=dd.range,_d=6e4,md=6048e5,vd=ld(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),gd=vd.range,yd=ld(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*_d)},function(t,e){return(e-t)/_d},function(t){return t.getMinutes()}),bd=yd.range,xd=ld(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*_d)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),wd=xd.range,Md=ld(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_d)/864e5},function(t){return t.getDate()-1}),Td=Md.range;function Pd(e){return ld(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_d)/md})}var Ld=Pd(0),kd=Pd(1),Ed=Pd(2),Sd=Pd(3),Cd=Pd(4),zd=Pd(5),Ad=Pd(6),Nd=Ld.range,Id=kd.range,Dd=Ed.range,Bd=Sd.range,Od=Cd.range,Rd=zd.range,Zd=Ad.range,jd=ld(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Fd=jd.range,Ud=ld(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Ud.every=function(n){return isFinite(n=Math.floor(n))&&n>0?ld(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var Hd=Ud.range,qd=ld(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*_d)},function(t,e){return(e-t)/_d},function(t){return t.getUTCMinutes()}),Gd=qd.range,Wd=ld(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Yd=Wd.range,Vd=ld(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Xd=Vd.range;function Jd(e){return ld(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/md})}var Kd=Jd(0),$d=Jd(1),Qd=Jd(2),tp=Jd(3),ep=Jd(4),np=Jd(5),ip=Jd(6),rp=Kd.range,op=$d.range,ap=Qd.range,sp=tp.range,up=ep.range,cp=np.range,hp=ip.range,fp=ld(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),lp=fp.range,dp=ld(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});dp.every=function(n){return isFinite(n=Math.floor(n))&&n>0?ld(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var pp=dp.range;function _p(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function gp(t){var i=t.dateTime,r=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=Lp(e),h=kp(e),f=Lp(n),l=kp(n),d=Lp(a),p=kp(a),_=Lp(s),m=kp(s),v=Lp(u),g=kp(u),y={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Vp,e:Vp,f:Qp,H:Xp,I:Jp,j:Kp,L:$p,m:t_,M:e_,p:function(t){return e[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:S_,s:C_,S:n_,u:i_,U:r_,V:o_,w:a_,W:s_,x:null,X:null,y:u_,Y:c_,Z:h_,"%":E_},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:f_,e:f_,f:m_,H:l_,I:d_,j:p_,L:__,m:v_,M:g_,p:function(t){return e[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:S_,s:C_,S:y_,u:b_,U:x_,V:w_,w:M_,W:T_,x:null,X:null,y:P_,Y:L_,Z:k_,"%":E_},x={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=l[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=g[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=_.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,e,n){return T(t,i,e,n)},d:Rp,e:Rp,f:qp,H:jp,I:jp,j:Zp,L:Hp,m:Op,M:Fp,p:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=h[i[0].toLowerCase()],n+i[0].length):-1},q:Bp,Q:Wp,s:Yp,S:Up,u:Sp,U:Cp,V:zp,w:Ep,W:Ap,x:function(t,e,n){return T(t,r,e,n)},X:function(t,e,n){return T(t,o,e,n)},y:Ip,Y:Np,Z:Dp,"%":Gp};function w(u,c){return function(t){var e,n,i,r=[],o=-1,a=0,s=u.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===u.charCodeAt(o)&&(r.push(u.slice(a,o)),null!=(n=bp[e=u.charAt(++o)])?e=u.charAt(++o):n="e"===e?" ":"0",(i=c[e])&&(e=i(t,n)),r.push(e),a=o+1);return r.push(u.slice(a,o)),r.join("")}}function M(r,o){return function(t){var e,n,i=vp(1900,void 0,1);if(T(i,r,t+="",0)!=t.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(!o||"Z"in i||(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(n=(e=mp(vp(i.y,0,1))).getUTCDay(),e=n>4||0===n?$d.ceil(e):$d(e),e=Vd.offset(e,7*(i.V-1)),i.y=e.getUTCFullYear(),i.m=e.getUTCMonth(),i.d=e.getUTCDate()+(i.w+6)%7):(n=(e=_p(vp(i.y,0,1))).getDay(),e=n>4||0===n?kd.ceil(e):kd(e),e=Md.offset(e,7*(i.V-1)),i.y=e.getFullYear(),i.m=e.getMonth(),i.d=e.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),n="Z"in i?mp(vp(i.y,0,1)).getUTCDay():_p(vp(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(n+5)%7:i.w+7*i.U-(n+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,mp(i)):_p(i)}}function T(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;a<s;){if(i>=u)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=x[r in bp?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return y.x=w(r,y),y.X=w(o,y),y.c=w(i,y),b.x=w(r,b),b.X=w(o,b),b.c=w(i,b),{format:function(t){var e=w(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}var yp,bp={"-":"",_:" ",0:"0"},xp=/^\s*\d+/,wp=/^%/,Mp=/[\\^$*+?|[\]().{}]/g;function Tp(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Pp(t){return t.replace(Mp,"\\$&")}function Lp(t){return new RegExp("^(?:"+t.map(Pp).join("|")+")","i")}function kp(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Ep(t,e,n){var i=xp.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Sp(t,e,n){var i=xp.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Cp(t,e,n){var i=xp.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function zp(t,e,n){var i=xp.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Ap(t,e,n){var i=xp.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Np(t,e,n){var i=xp.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ip(t,e,n){var i=xp.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Dp(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Bp(t,e,n){var i=xp.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function Op(t,e,n){var i=xp.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Rp(t,e,n){var i=xp.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Zp(t,e,n){var i=xp.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function jp(t,e,n){var i=xp.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Fp(t,e,n){var i=xp.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Up(t,e,n){var i=xp.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Hp(t,e,n){var i=xp.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function qp(t,e,n){var i=xp.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Gp(t,e,n){var i=wp.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Wp(t,e,n){var i=xp.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function Yp(t,e,n){var i=xp.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function Vp(t,e){return Tp(t.getDate(),e,2)}function Xp(t,e){return Tp(t.getHours(),e,2)}function Jp(t,e){return Tp(t.getHours()%12||12,e,2)}function Kp(t,e){return Tp(1+Md.count(Ud(t),t),e,3)}function $p(t,e){return Tp(t.getMilliseconds(),e,3)}function Qp(t,e){return $p(t,e)+"000"}function t_(t,e){return Tp(t.getMonth()+1,e,2)}function e_(t,e){return Tp(t.getMinutes(),e,2)}function n_(t,e){return Tp(t.getSeconds(),e,2)}function i_(t){var e=t.getDay();return 0===e?7:e}function r_(t,e){return Tp(Ld.count(Ud(t)-1,t),e,2)}function o_(t,e){var n=t.getDay();return t=n>=4||0===n?Cd(t):Cd.ceil(t),Tp(Cd.count(Ud(t),t)+(4===Ud(t).getDay()),e,2)}function a_(t){return t.getDay()}function s_(t,e){return Tp(kd.count(Ud(t)-1,t),e,2)}function u_(t,e){return Tp(t.getFullYear()%100,e,2)}function c_(t,e){return Tp(t.getFullYear()%1e4,e,4)}function h_(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tp(e/60|0,"0",2)+Tp(e%60,"0",2)}function f_(t,e){return Tp(t.getUTCDate(),e,2)}function l_(t,e){return Tp(t.getUTCHours(),e,2)}function d_(t,e){return Tp(t.getUTCHours()%12||12,e,2)}function p_(t,e){return Tp(1+Vd.count(dp(t),t),e,3)}function __(t,e){return Tp(t.getUTCMilliseconds(),e,3)}function m_(t,e){return __(t,e)+"000"}function v_(t,e){return Tp(t.getUTCMonth()+1,e,2)}function g_(t,e){return Tp(t.getUTCMinutes(),e,2)}function y_(t,e){return Tp(t.getUTCSeconds(),e,2)}function b_(t){var e=t.getUTCDay();return 0===e?7:e}function x_(t,e){return Tp(Kd.count(dp(t)-1,t),e,2)}function w_(t,e){var n=t.getUTCDay();return t=n>=4||0===n?ep(t):ep.ceil(t),Tp(ep.count(dp(t),t)+(4===dp(t).getUTCDay()),e,2)}function M_(t){return t.getUTCDay()}function T_(t,e){return Tp($d.count(dp(t)-1,t),e,2)}function P_(t,e){return Tp(t.getUTCFullYear()%100,e,2)}function L_(t,e){return Tp(t.getUTCFullYear()%1e4,e,4)}function k_(){return"+0000"}function E_(){return"%"}function S_(t){return+t}function C_(t){return Math.floor(+t/1e3)}function z_(t){return yp=gp(t),H.timeFormat=yp.format,H.timeParse=yp.parse,H.utcFormat=yp.utcFormat,H.utcParse=yp.utcParse,yp}z_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var A_=Date.prototype.toISOString?function(t){return t.toISOString()}:H.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),N_=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:H.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),I_=1e3,D_=60*I_,B_=60*D_,O_=24*B_,R_=7*O_,Z_=30*O_,j_=365*O_;function F_(t){return new Date(t)}function U_(t){return t instanceof Date?+t:+new Date(+t)}function H_(a,e,n,i,r,o,s,u,c){var h=Gl(Rl,Rl),f=h.invert,l=h.domain,d=c(".%L"),p=c(":%S"),_=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),g=c("%b %d"),y=c("%B"),b=c("%Y"),x=[[s,1,I_],[s,5,5*I_],[s,15,15*I_],[s,30,30*I_],[o,1,D_],[o,5,5*D_],[o,15,15*D_],[o,30,30*D_],[r,1,B_],[r,3,3*B_],[r,6,6*B_],[r,12,12*B_],[i,1,O_],[i,2,2*O_],[n,1,R_],[e,1,Z_],[e,3,3*Z_],[a,1,j_]];function w(t){return(s(t)<t?d:o(t)<t?p:r(t)<t?_:i(t)<t?m:e(t)<t?n(t)<t?v:g:a(t)<t?y:b)(t)}function M(t,e,n,i){if(null==t&&(t=10),"number"==typeof t){var r=Math.abs(n-e)/t,o=T(function(t){return t[2]}).right(x,r);o===x.length?(i=L(e/j_,n/j_,t),t=a):o?(i=(o=x[r/x[o-1][2]<x[o][2]/r?o-1:o])[1],t=o[0]):(i=Math.max(L(e,n,t),1),t=u)}return null==i?t:t.every(i)}return h.invert=function(t){return new Date(f(t))},h.domain=function(t){return arguments.length?l(zl.call(t,U_)):l().map(F_)},h.ticks=function(t,e){var n,i=l(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=(n=M(t,r,o,e))?n.range(r,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?w:c(e)},h.nice=function(t,e){var n=l();return(t=M(t,n[0],n[n.length-1],e))?l(Vl(n,t)):h},h.copy=function(){return Hl(h,H_(a,e,n,i,r,o,s,u,c))},h}function q_(){var e,n,i,r,o,a=0,s=1,u=Rl,c=!1;function h(t){return isNaN(t=+t)?o:u(0===i?.5:(t=(r(t)-e)*i,c?Math.max(0,Math.min(1,t)):t))}return h.domain=function(t){return arguments.length?(e=r(a=+t[0]),n=r(s=+t[1]),i=e===n?0:1/(n-e),h):[a,s]},h.clamp=function(t){return arguments.length?(c=!!t,h):c},h.interpolator=function(t){return arguments.length?(u=t,h):u},h.unknown=function(t){return arguments.length?(o=t,h):o},function(t){return r=t,e=t(a),n=t(s),i=e===n?0:1/(n-e),h}}function G_(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function W_(){var t=ud(q_());return t.copy=function(){return G_(t,W_()).exponent(t.exponent())},Sl.apply(t,arguments)}function Y_(){var e,n,i,r,o,a,s,u=0,c=.5,h=1,f=Rl,l=!1;function d(t){return isNaN(t=+t)?s:(t=.5+((t=+a(t))-n)*(t<n?r:o),f(l?Math.max(0,Math.min(1,t)):t))}return d.domain=function(t){return arguments.length?(e=a(u=+t[0]),n=a(c=+t[1]),i=a(h=+t[2]),r=e===n?0:.5/(n-e),o=n===i?0:.5/(i-n),d):[u,c,h]},d.clamp=function(t){return arguments.length?(l=!!t,d):l},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.unknown=function(t){return arguments.length?(s=t,d):s},function(t){return a=t,e=t(u),n=t(c),i=t(h),r=e===n?0:.5/(n-e),o=n===i?0:.5/(i-n),d}}function V_(){var t=ud(Y_());return t.copy=function(){return G_(t,V_()).exponent(t.exponent())},Sl.apply(t,arguments)}function X_(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}var J_=X_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),K_=X_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),$_=X_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Q_=X_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),tm=X_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),em=X_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),nm=X_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),im=X_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),rm=X_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),om=X_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function am(t){return pn(t[t.length-1])}var sm=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(X_),um=am(sm),cm=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(X_),hm=am(cm),fm=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(X_),lm=am(fm),dm=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(X_),pm=am(dm),_m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(X_),mm=am(_m),vm=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(X_),gm=am(vm),ym=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(X_),bm=am(ym),xm=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(X_),wm=am(xm),Mm=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(X_),Tm=am(Mm),Pm=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(X_),Lm=am(Pm),km=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(X_),Em=am(km),Sm=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(X_),Cm=am(Sm),zm=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(X_),Am=am(zm),Nm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(X_),Im=am(Nm),Dm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(X_),Bm=am(Dm),Om=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(X_),Rm=am(Om),Zm=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(X_),jm=am(Zm),Fm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(X_),Um=am(Fm),Hm=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(X_),qm=am(Hm),Gm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(X_),Wm=am(Gm),Ym=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(X_),Vm=am(Ym),Xm=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(X_),Jm=am(Xm),Km=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(X_),$m=am(Km),Qm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(X_),tv=am(Qm),ev=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(X_),nv=am(ev),iv=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(X_),rv=am(iv),ov=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(X_),av=am(ov),sv=Xn(en(300,.5,0),en(-240,.5,1)),uv=Xn(en(-100,.75,.35),en(80,1.5,.8)),cv=Xn(en(260,.75,.35),en(80,1.5,.8)),hv=en(),fv=ve(),lv=Math.PI/3,dv=2*Math.PI/3;function pv(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var _v=pv(X_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),mv=pv(X_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),vv=pv(X_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),gv=pv(X_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function yv(t){return function(){return t}}var bv=Math.abs,xv=Math.atan2,wv=Math.cos,Mv=Math.max,Tv=Math.min,Pv=Math.sin,Lv=Math.sqrt,kv=1e-12,Ev=Math.PI,Sv=Ev/2,Cv=2*Ev;function zv(t){return t>=1?Sv:t<=-1?-Sv:Math.asin(t)}function Av(t){return t.innerRadius}function Nv(t){return t.outerRadius}function Iv(t){return t.startAngle}function Dv(t){return t.endAngle}function Bv(t){return t&&t.padAngle}function Ov(t,e,n,i,r,o,a){var s=t-n,u=e-i,c=(a?o:-o)/Lv(s*s+u*u),h=c*u,f=-c*s,l=t+h,d=e+f,p=n+h,_=i+f,m=(l+p)/2,v=(d+_)/2,g=p-l,y=_-d,b=g*g+y*y,x=r-o,w=l*_-p*d,M=(y<0?-1:1)*Lv(Mv(0,x*x*b-w*w)),T=(w*y-g*M)/b,P=(-w*g-y*M)/b,L=(w*y+g*M)/b,k=(-w*g+y*M)/b,E=T-m,S=P-v,C=L-m,z=k-v;return E*E+S*S>C*C+z*z&&(T=L,P=k),{cx:T,cy:P,x01:-h,y01:-f,x11:T*(r/x-1),y11:P*(r/x-1)}}function Rv(t){this._context=t}function Zv(t){return new Rv(t)}function jv(t){return t[0]}function Fv(t){return t[1]}function Uv(){var a=jv,s=Fv,u=yv(!0),c=null,h=Zv,f=null;function e(t){var e,n,i,r=t.length,o=!1;for(null==c&&(f=h(i=Qr())),e=0;e<=r;++e)!(e<r&&u(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+s(n,e,t));if(i)return f=null,i+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:yv(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:yv(+t),e):s},e.defined=function(t){return arguments.length?(u="function"==typeof t?t:yv(!!t),e):u},e.curve=function(t){return arguments.length?(h=t,null!=c&&(f=h(c)),e):h},e.context=function(t){return arguments.length?(null==t?c=f=null:f=h(c=t),e):c},e}function Hv(){var h=jv,f=null,l=yv(0),d=Fv,p=yv(!0),_=null,m=Zv,v=null;function e(t){var e,n,i,r,o,a=t.length,s=!1,u=new Array(a),c=new Array(a);for(null==_&&(v=m(o=Qr())),e=0;e<=a;++e){if(!(e<a&&p(r=t[e],e,t))===s)if(s=!s)n=e,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),i=e-1;i>=n;--i)v.point(u[i],c[i]);v.lineEnd(),v.areaEnd()}s&&(u[e]=+h(r,e,t),c[e]=+l(r,e,t),v.point(f?+f(r,e,t):u[e],d?+d(r,e,t):c[e]))}if(o)return v=null,o+""||null}function t(){return Uv().defined(p).curve(m).context(_)}return e.x=function(t){return arguments.length?(h="function"==typeof t?t:yv(+t),f=null,e):h},e.x0=function(t){return arguments.length?(h="function"==typeof t?t:yv(+t),e):h},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:yv(+t),e):f},e.y=function(t){return arguments.length?(l="function"==typeof t?t:yv(+t),d=null,e):l},e.y0=function(t){return arguments.length?(l="function"==typeof t?t:yv(+t),e):l},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:yv(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(h).y(l)},e.lineY1=function(){return t().x(h).y(d)},e.lineX1=function(){return t().x(f).y(l)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:yv(!!t),e):p},e.curve=function(t){return arguments.length?(m=t,null!=_&&(v=m(_)),e):m},e.context=function(t){return arguments.length?(null==t?_=v=null:v=m(_=t),e):_},e}function qv(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Gv(t){return t}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Wv=Vv(Zv);function Yv(t){this._curve=t}function Vv(e){function t(t){return new Yv(e(t))}return t._curve=e,t}function Xv(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Vv(t)):e()._curve},t}function Jv(){return Xv(Uv().curve(Wv))}function Kv(){var t=Hv().curve(Wv),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Xv(n())},delete t.lineX0,t.lineEndAngle=function(){return Xv(i())},delete t.lineX1,t.lineInnerRadius=function(){return Xv(r())},delete t.lineY0,t.lineOuterRadius=function(){return Xv(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Vv(t)):e()._curve},t}function $v(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Yv.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Qv=Array.prototype.slice;function tg(t){return t.source}function eg(t){return t.target}function ng(r){var o=tg,a=eg,s=jv,u=Fv,c=null;function e(){var t,e=Qv.call(arguments),n=o.apply(this,e),i=a.apply(this,e);if(c||(c=t=Qr()),r(c,+s.apply(this,(e[0]=n,e)),+u.apply(this,e),+s.apply(this,(e[0]=i,e)),+u.apply(this,e)),t)return c=null,t+""||null}return e.source=function(t){return arguments.length?(o=t,e):o},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(s="function"==typeof t?t:yv(+t),e):s},e.y=function(t){return arguments.length?(u="function"==typeof t?t:yv(+t),e):u},e.context=function(t){return arguments.length?(c=null==t?null:t,e):c},e}function ig(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function rg(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function og(t,e,n,i,r){var o=$v(e,n),a=$v(e,n=(n+r)/2),s=$v(i,n),u=$v(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}var ag={draw:function(t,e){var n=Math.sqrt(e/Ev);t.moveTo(n,0),t.arc(0,0,n,0,Cv)}},sg={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ug=Math.sqrt(1/3),cg=2*ug,hg={draw:function(t,e){var n=Math.sqrt(e/cg),i=n*ug;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},fg=Math.sin(Ev/10)/Math.sin(7*Ev/10),lg=Math.sin(Cv/10)*fg,dg=-Math.cos(Cv/10)*fg,pg={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=lg*n,r=dg*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var a=Cv*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*i-u*r,u*i+s*r)}t.closePath()}},_g={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},mg=Math.sqrt(3),vg={draw:function(t,e){var n=-Math.sqrt(e/(3*mg));t.moveTo(0,2*n),t.lineTo(-mg*n,-n),t.lineTo(mg*n,-n),t.closePath()}},gg=Math.sqrt(3)/2,yg=1/Math.sqrt(12),bg=3*(yg/2+1),xg={draw:function(t,e){var n=Math.sqrt(e/bg),i=n/2,r=n*yg,o=i,a=n*yg+n,s=-o,u=a;t.moveTo(i,r),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(-.5*i-gg*r,gg*i+-.5*r),t.lineTo(-.5*o-gg*a,gg*o+-.5*a),t.lineTo(-.5*s-gg*u,gg*s+-.5*u),t.lineTo(-.5*i+gg*r,-.5*r-gg*i),t.lineTo(-.5*o+gg*a,-.5*a-gg*o),t.lineTo(-.5*s+gg*u,-.5*u-gg*s),t.closePath()}},wg=[ag,sg,hg,_g,pg,vg,xg];function Mg(){}function Tg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Pg(t){this._context=t}function Lg(t){this._context=t}function kg(t){this._context=t}function Eg(t,e){this._basis=new Pg(t),this._beta=e}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tg(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Lg.prototype={areaStart:Mg,areaEnd:Mg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Tg(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Tg(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Eg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*a),this._beta*e[u]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Sg=function e(n){function t(t){return 1===n?new Pg(t):new Eg(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function Cg(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function zg(t,e){this._context=t,this._k=(1-e)/6}zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cg(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Cg(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ag=function e(n){function t(t){return new zg(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Ng(t,e){this._context=t,this._k=(1-e)/6}Ng.prototype={areaStart:Mg,areaEnd:Mg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Cg(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ig=function e(n){function t(t){return new Ng(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Dg(t,e){this._context=t,this._k=(1-e)/6}Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cg(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Bg=function e(n){function t(t){return new Dg(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Og(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>kv){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>kv){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/h,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function Rg(t,e){this._context=t,this._alpha=e}Rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Og(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Zg=function e(n){function t(t){return n?new Rg(t,n):new zg(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function jg(t,e){this._context=t,this._alpha=e}jg.prototype={areaStart:Mg,areaEnd:Mg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Og(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Fg=function e(n){function t(t){return n?new jg(t,n):new Ng(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Ug(t,e){this._context=t,this._alpha=e}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Og(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Hg=function e(n){function t(t){return n?new Ug(t,n):new Dg(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function qg(t){this._context=t}function Gg(t){return t<0?-1:1}function Wg(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Gg(o)+Gg(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Yg(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vg(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function Xg(t){this._context=t}function Jg(t){this._context=new Kg(t)}function Kg(t){this._context=t}function $g(t){this._context=t}function Qg(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(r[i-1]=a[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function ty(t,e){this._context=t,this._t=e}function ey(t,e){if((r=t.length)>1)for(var n,i,r,o=1,a=t[e[0]],s=a.length;o<r;++o)for(i=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ny(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function iy(t,e){return t[e]}function ry(t){var n=t.map(oy);return ny(t).sort(function(t,e){return n[t]-n[e]})}function oy(t){for(var e,n=-1,i=0,r=t.length,o=-1/0;++n<r;)(e=+t[n][1])>o&&(o=e,i=n);return i}function ay(t){var n=t.map(sy);return ny(t).sort(function(t,e){return n[t]-n[e]})}function sy(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function uy(t){return function(){return t}}function cy(t){return t[0]}function hy(t){return t[1]}function fy(){this._=null}function ly(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function dy(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function py(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function _y(t){for(;t.L;)t=t.L;return t}function my(t,e,n,i){var r=[null,null],o=jy.push(r)-1;return r.left=t,r.right=e,n&&gy(r,t,e,n),i&&gy(r,e,t,i),Ry[t.index].halfedges.push(o),Ry[e.index].halfedges.push(o),r}function vy(t,e,n){var i=[e,n];return i.left=t,i}function gy(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function yy(t,e,n,i,r){var o,a=t[0],s=t[1],u=a[0],c=a[1],h=0,f=1,l=s[0]-u,d=s[1]-c;if(o=e-u,l||!(o>0)){if(o/=l,l<0){if(o<h)return;o<f&&(f=o)}else if(l>0){if(o>f)return;o>h&&(h=o)}if(o=i-u,l||!(o<0)){if(o/=l,l<0){if(o>f)return;o>h&&(h=o)}else if(l>0){if(o<h)return;o<f&&(f=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>h&&(h=o)}if(o=r-c,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<f&&(f=o)}return!(h>0||f<1)||(h>0&&(t[0]=[u+h*l,c+h*d]),f<1&&(t[1]=[u+f*l,c+f*d]),!0)}}}}}function by(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,h=t.right,f=c[0],l=c[1],d=h[0],p=h[1],_=(f+d)/2,m=(l+p)/2;if(p===l){if(_<e||_>=i)return;if(f>d){if(u){if(u[1]>=r)return}else u=[_,n];o=[_,r]}else{if(u){if(u[1]<n)return}else u=[_,r];o=[_,n]}}else if(s=m-(a=(f-d)/(p-l))*_,a<-1||a>1)if(f>d){if(u){if(u[1]>=r)return}else u=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(u){if(u[1]<n)return}else u=[(r-s)/a,r];o=[(n-s)/a,n]}else if(l<p){if(u){if(u[0]>=i)return}else u=[e,a*e+s];o=[i,a*i+s]}else{if(u){if(u[0]<e)return}else u=[i,a*i+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function xy(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function wy(t,e){return e[+(e.left!==t.site)]}function My(t,e){return e[+(e.left===t.site)]}qg.prototype={areaStart:Mg,areaEnd:Mg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vg(this,this._t0,Yg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vg(this,Yg(this,n=Wg(this,t,e)),n);break;default:Vg(this,this._t0,n=Wg(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Jg.prototype=Object.create(Xg.prototype)).point=function(t,e){Xg.prototype.point.call(this,e,t)},Kg.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Qg(t),r=Qg(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},ty.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},fy.prototype={constructor:fy,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=_y(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(dy(this,n),n=(t=n).U),n.C=!1,i.C=!0,py(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(py(this,n),n=(t=n).U),n.C=!1,i.C=!0,dy(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?_y(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,dy(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,py(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,dy(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,py(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,dy(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,py(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Ty,Py=[];function Ly(){ly(this),this.x=this.y=this.arc=this.site=this.cy=null}function ky(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],u=i[0]-a,c=i[1]-s,h=o[0]-a,f=o[1]-s,l=2*(u*f-c*h);if(!(l>=-Uy)){var d=u*u+c*c,p=h*h+f*f,_=(f*d-c*p)/l,m=(u*p-h*d)/l,v=Py.pop()||new Ly;v.arc=t,v.site=r,v.x=_+a,v.y=(v.cy=m+s)+Math.sqrt(_*_+m*m),t.circle=v;for(var g=null,y=Zy._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){g=y.P;break}y=y.L}else{if(!y.R){g=y;break}y=y.R}Zy.insert(g,v),g||(Ty=v)}}}}function Ey(t){var e=t.circle;e&&(e.P||(Ty=e.N),Zy.remove(e),Py.push(e),ly(e),t.circle=null)}var Sy=[];function Cy(){ly(this),this.edge=this.site=this.circle=null}function zy(t){var e=Sy.pop()||new Cy;return e.site=t,e}function Ay(t){Ey(t),Oy.remove(t),Sy.push(t),ly(t)}function Ny(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];Ay(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Fy&&Math.abs(i-u.circle.cy)<Fy;)o=u.P,s.unshift(u),Ay(u),u=o;s.unshift(u),Ey(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<Fy&&Math.abs(i-c.circle.cy)<Fy;)a=c.N,s.push(c),Ay(c),c=a;s.push(c),Ey(c);var h,f=s.length;for(h=1;h<f;++h)c=s[h],u=s[h-1],gy(c.edge,u.site,c.site,r);u=s[0],(c=s[f-1]).edge=my(u.site,c.site,null,r),ky(u),ky(c)}function Iy(t){for(var e,n,i,r,o=t[0],a=t[1],s=Oy._;s;)if((i=Dy(s,a)-o)>Fy)s=s.L;else{if(!((r=o-By(s,a))>Fy)){i>-Fy?(e=s.P,n=s):r>-Fy?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Ry[t.index]={site:t,halfedges:[]}}(t);var u=zy(t);if(Oy.insert(e,u),e||n){if(e===n)return Ey(e),n=zy(e.site),Oy.insert(u,n),u.edge=n.edge=my(e.site,u.site),ky(e),void ky(n);if(n){Ey(e),Ey(n);var c=e.site,h=c[0],f=c[1],l=t[0]-h,d=t[1]-f,p=n.site,_=p[0]-h,m=p[1]-f,v=2*(l*m-d*_),g=l*l+d*d,y=_*_+m*m,b=[(m*g-d*y)/v+h,(l*y-_*g)/v+f];gy(n.edge,c,p,b),u.edge=my(c,t,null,b),n.edge=my(t,p,null,b),ky(e),ky(n)}else u.edge=my(e.site,u.site)}}function Dy(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var h=s-i,f=1/o-1/c,l=h/c;return f?(-l+Math.sqrt(l*l-2*f*(h*h/(-2*c)-u+c/2+r-o/2)))/f+i:(i+s)/2}function By(t,e){var n=t.N;if(n)return Dy(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var Oy,Ry,Zy,jy,Fy=1e-6,Uy=1e-12;function Hy(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function qy(t,e){return e[1]-t[1]||e[0]-t[0]}function Gy(t,e){var n,i,r,o=t.sort(qy).pop();for(jy=[],Ry=new Array(t.length),Oy=new fy,Zy=new fy;;)if(r=Ty,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Iy(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Ny(r.arc)}if(function(){for(var t,e,n,i,r=0,o=Ry.length;r<o;++r)if((t=Ry[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=xy(t,jy[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,i){for(var r,o=jy.length;o--;)by(r=jy[o],t,e,n,i)&&yy(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Fy||Math.abs(r[0][1]-r[1][1])>Fy)||delete jy[o]}(a,s,u,c),function(t,e,n,i){var r,o,a,s,u,c,h,f,l,d,p,_,m=Ry.length,v=!0;for(r=0;r<m;++r)if(o=Ry[r]){for(a=o.site,s=(u=o.halfedges).length;s--;)jy[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)p=(d=My(o,jy[u[s]]))[0],_=d[1],f=(h=wy(o,jy[u[++s%c]]))[0],l=h[1],(Math.abs(p-f)>Fy||Math.abs(_-l)>Fy)&&(u.splice(s,0,jy.push(vy(a,d,Math.abs(p-t)<Fy&&i-_>Fy?[t,Math.abs(f-t)<Fy?l:i]:Math.abs(_-i)<Fy&&n-p>Fy?[Math.abs(l-i)<Fy?f:n,i]:Math.abs(p-n)<Fy&&_-e>Fy?[n,Math.abs(f-n)<Fy?l:e]:Math.abs(_-e)<Fy&&p-t>Fy?[Math.abs(l-e)<Fy?f:t,e]:null))-1),++c);c&&(v=!1)}if(v){var g,y,b,x=1/0;for(r=0,v=null;r<m;++r)(o=Ry[r])&&(b=(g=(a=o.site)[0]-t)*g+(y=a[1]-e)*y)<x&&(x=b,v=o);if(v){var w=[t,e],M=[t,i],T=[n,i],P=[n,e];v.halfedges.push(jy.push(vy(a=v.site,w,M))-1,jy.push(vy(a,M,T))-1,jy.push(vy(a,T,P))-1,jy.push(vy(a,P,w))-1)}}for(r=0;r<m;++r)(o=Ry[r])&&(o.halfedges.length||delete Ry[r])}(a,s,u,c)}this.edges=jy,this.cells=Ry,Oy=Zy=jy=Ry=null}function Wy(t){return function(){return t}}function Yy(t,e,n){this.target=t,this.type=e,this.transform=n}function Vy(t,e,n){this.k=t,this.x=e,this.y=n}Gy.prototype={constructor:Gy,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return wy(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var c=[],h=this.edges;return this.cells.forEach(function(t,e){if(i=(n=t.halfedges).length)for(var n,i,r,o=t.site,a=-1,s=h[n[i-1]],u=s.left===o?s.right:s.left;++a<i;)r=u,u=(s=h[n[a]]).left===o?s.right:s.left,r&&u&&e<r.index&&e<u.index&&Hy(o,r,u)<0&&c.push([o.data,r.data,u.data])}),c},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,s,t){for(var e,u,c=this,h=c._found||0,n=c.cells.length;!(u=c.cells[h]);)if(++h>=n)return null;var i=a-u.site[0],r=s-u.site[1],f=i*i+r*r;do{u=c.cells[e=h],h=null,u.halfedges.forEach(function(t){var e=c.edges[t],n=e.left;if(n!==u.site&&n||(n=e.right)){var i=a-n[0],r=s-n[1],o=i*i+r*r;o<f&&(f=o,h=n.index)}})}while(null!==h);return c._found=e,null==t||f<=t*t?u.site:null}},Vy.prototype={constructor:Vy,scale:function(t){return 1===t?this:new Vy(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Vy(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xy=new Vy(1,0,0);function Jy(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Xy;return t.__zoom}function Ky(){H.event.stopImmediatePropagation()}function $y(){H.event.preventDefault(),H.event.stopImmediatePropagation()}function Qy(){return!H.event.ctrlKey&&!H.event.button}function tb(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function eb(){return this.__zoom||Xy}function nb(){return-H.event.deltaY*(1===H.event.deltaMode?.05:H.event.deltaMode?1:.002)}function ib(){return navigator.maxTouchPoints||"ontouchstart"in this}function rb(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}Jy.prototype=Vy.prototype,H.FormatSpecifier=Oa,H.active=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>yi&&n.name===e)return new Di([[t]],_r,e,+i);return null},H.arc=function(){var R=Av,Z=Nv,j=yv(0),F=null,U=Iv,H=Dv,q=Bv,G=null;function e(){var t,e,n=+R.apply(this,arguments),i=+Z.apply(this,arguments),r=U.apply(this,arguments)-Sv,o=H.apply(this,arguments)-Sv,a=bv(o-r),s=o>r;if(G||(G=t=Qr()),i<n&&(e=i,i=n,n=e),i>kv)if(a>Cv-kv)G.moveTo(i*wv(r),i*Pv(r)),G.arc(0,0,i,r,o,!s),n>kv&&(G.moveTo(n*wv(o),n*Pv(o)),G.arc(0,0,n,o,r,s));else{var u,c,h=r,f=o,l=r,d=o,p=a,_=a,m=q.apply(this,arguments)/2,v=m>kv&&(F?+F.apply(this,arguments):Lv(n*n+i*i)),g=Tv(bv(i-n)/2,+j.apply(this,arguments)),y=g,b=g;if(v>kv){var x=zv(v/n*Pv(m)),w=zv(v/i*Pv(m));(p-=2*x)>kv?(l+=x*=s?1:-1,d-=x):(p=0,l=d=(r+o)/2),(_-=2*w)>kv?(h+=w*=s?1:-1,f-=w):(_=0,h=f=(r+o)/2)}var M=i*wv(h),T=i*Pv(h),P=n*wv(d),L=n*Pv(d);if(g>kv){var k,E=i*wv(f),S=i*Pv(f),C=n*wv(l),z=n*Pv(l);if(a<Ev&&(k=function(t,e,n,i,r,o,a,s){var u=n-t,c=i-e,h=a-r,f=s-o,l=f*u-h*c;if(!(l*l<kv))return[t+(l=(h*(e-o)-f*(t-r))/l)*u,e+l*c]}(M,T,C,z,E,S,P,L))){var A=M-k[0],N=T-k[1],I=E-k[0],D=S-k[1],B=1/Pv(function(t){return t>1?0:t<-1?Ev:Math.acos(t)}((A*I+N*D)/(Lv(A*A+N*N)*Lv(I*I+D*D)))/2),O=Lv(k[0]*k[0]+k[1]*k[1]);y=Tv(g,(n-O)/(B-1)),b=Tv(g,(i-O)/(B+1))}}_>kv?b>kv?(u=Ov(C,z,M,T,i,b,s),c=Ov(E,S,P,L,i,b,s),G.moveTo(u.cx+u.x01,u.cy+u.y01),b<g?G.arc(u.cx,u.cy,b,xv(u.y01,u.x01),xv(c.y01,c.x01),!s):(G.arc(u.cx,u.cy,b,xv(u.y01,u.x01),xv(u.y11,u.x11),!s),G.arc(0,0,i,xv(u.cy+u.y11,u.cx+u.x11),xv(c.cy+c.y11,c.cx+c.x11),!s),G.arc(c.cx,c.cy,b,xv(c.y11,c.x11),xv(c.y01,c.x01),!s))):(G.moveTo(M,T),G.arc(0,0,i,h,f,!s)):G.moveTo(M,T),n>kv&&p>kv?y>kv?(u=Ov(P,L,E,S,n,-y,s),c=Ov(M,T,C,z,n,-y,s),G.lineTo(u.cx+u.x01,u.cy+u.y01),y<g?G.arc(u.cx,u.cy,y,xv(u.y01,u.x01),xv(c.y01,c.x01),!s):(G.arc(u.cx,u.cy,y,xv(u.y01,u.x01),xv(u.y11,u.x11),!s),G.arc(0,0,n,xv(u.cy+u.y11,u.cx+u.x11),xv(c.cy+c.y11,c.cx+c.x11),s),G.arc(c.cx,c.cy,y,xv(c.y11,c.x11),xv(c.y01,c.x01),!s))):G.arc(0,0,n,d,l,s):G.lineTo(P,L)}else G.moveTo(0,0);if(G.closePath(),t)return G=null,t+""||null}return e.centroid=function(){var t=(+R.apply(this,arguments)+ +Z.apply(this,arguments))/2,e=(+U.apply(this,arguments)+ +H.apply(this,arguments))/2-Ev/2;return[wv(e)*t,Pv(e)*t]},e.innerRadius=function(t){return arguments.length?(R="function"==typeof t?t:yv(+t),e):R},e.outerRadius=function(t){return arguments.length?(Z="function"==typeof t?t:yv(+t),e):Z},e.cornerRadius=function(t){return arguments.length?(j="function"==typeof t?t:yv(+t),e):j},e.padRadius=function(t){return arguments.length?(F=null==t?null:"function"==typeof t?t:yv(+t),e):F},e.startAngle=function(t){return arguments.length?(U="function"==typeof t?t:yv(+t),e):U},e.endAngle=function(t){return arguments.length?(H="function"==typeof t?t:yv(+t),e):H},e.padAngle=function(t){return arguments.length?(q="function"==typeof t?t:yv(+t),e):q},e.context=function(t){return arguments.length?(G=null==t?null:t,e):G},e},H.area=Hv,H.areaRadial=Kv,H.ascending=s,H.autoType=function(t){for(var e in t){var n,i,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ea&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;t[e]=r}return t},H.axisBottom=function(t){return Z(N,t)},H.axisLeft=function(t){return Z(I,t)},H.axisRight=function(t){return Z(A,t)},H.axisTop=function(t){return Z(z,t)},H.bisect=_,H.bisectLeft=e,H.bisectRight=_,H.bisector=T,H.blob=function(t,e){return fetch(t,e).then(na)},H.brush=function(){return Zr(Er)},H.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},H.brushX=function(){return Zr(Lr)},H.brushY=function(){return Zr(kr)},H.buffer=function(t,e){return fetch(t,e).then(ia)},H.chord=function(){var x=0,w=null,M=null,T=null;function e(i){var t,e,n,r,o,a,s=i.length,u=[],c=P(s),h=[],f=[],l=f.groups=new Array(s),d=new Array(s*s);for(t=0,o=-1;++o<s;){for(e=0,a=-1;++a<s;)e+=i[o][a];u.push(e),h.push(P(s)),t+=e}for(w&&c.sort(function(t,e){return w(u[t],u[e])}),M&&h.forEach(function(t,n){t.sort(function(t,e){return M(i[n][t],i[n][e])})}),r=(t=Gr(0,qr-x*s)/t)?x:qr/s,e=0,o=-1;++o<s;){for(n=e,a=-1;++a<s;){var p=c[o],_=h[p][a],m=i[p][_],v=e,g=e+=m*t;d[_*s+p]={index:p,subindex:_,startAngle:v,endAngle:g,value:m}}l[p]={index:p,startAngle:n,endAngle:e,value:u[p]},e+=r}for(o=-1;++o<s;)for(a=o-1;++a<s;){var y=d[a*s+o],b=d[o*s+a];(y.value||b.value)&&f.push(y.value<b.value?{source:b,target:y}:{source:y,target:b})}return T?f.sort(T):f}return e.padAngle=function(t){return arguments.length?(x=Gr(0,t),e):x},e.sortGroups=function(t){return arguments.length?(w=t,e):w},e.sortSubgroups=function(t){return arguments.length?(M=t,e):M},e.sortChords=function(t){return arguments.length?(null==t?T=null:(T=Wr(t))._=t,e):T&&T._},e},H.clientPoint=Rt,H.cluster=function(){var s=Mf,u=1,c=1,h=!1;function e(e){var n,i=0;e.eachAfter(function(t){var e=t.children;e?(t.x=function(t){return t.reduce(Tf,0)/t.length}(e),t.y=function(t){return 1+t.reduce(Pf,0)}(e)):(t.x=n?i+=s(t,n):0,t.y=0,n=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),r=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),o=t.x-s(t,r)/2,a=r.x+s(r,t)/2;return e.eachAfter(h?function(t){t.x=(t.x-e.x)*u,t.y=(e.y-t.y)*c}:function(t){t.x=(t.x-o)/(a-o)*u,t.y=(1-(e.y?t.y/e.y:1))*c})}return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(h=!1,u=+t[0],c=+t[1],e):h?null:[u,c]},e.nodeSize=function(t){return arguments.length?(h=!0,u=+t[0],c=+t[1],e):h?[u,c]:null},e},H.color=de,H.contourDensity=function(){var s=Lo,u=ko,c=Eo,i=960,r=500,o=20,h=2,f=3*o,l=i+2*f>>h,d=r+2*f>>h,p=vo(20);function e(t){var a=new Float32Array(l*d),e=new Float32Array(l*d);t.forEach(function(t,e,n){var i=+s(t,e,n)+f>>h,r=+u(t,e,n)+f>>h,o=+c(t,e,n);i>=0&&i<l&&r>=0&&r<d&&(a[i+r*l]+=o)}),To({width:l,height:d,data:a},{width:l,height:d,data:e},o>>h),Po({width:l,height:d,data:e},{width:l,height:d,data:a},o>>h),To({width:l,height:d,data:a},{width:l,height:d,data:e},o>>h),Po({width:l,height:d,data:e},{width:l,height:d,data:a},o>>h),To({width:l,height:d,data:a},{width:l,height:d,data:e},o>>h),Po({width:l,height:d,data:e},{width:l,height:d,data:a},o>>h);var n=p(a);if(!Array.isArray(n)){var i=x(a);n=L(0,i,n),(n=P(0,Math.floor(i/n)*n,n)).shift()}return Mo().thresholds(n).size([l,d])(a).map(_)}function _(t){return t.value*=Math.pow(2,-2*h),t.coordinates.forEach(n),t}function n(t){t.forEach(a)}function a(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,h)-f,t[1]=t[1]*Math.pow(2,h)-f}function v(){return l=i+2*(f=3*o)>>h,d=r+2*f>>h,e}return e.x=function(t){return arguments.length?(s="function"==typeof t?t:vo(+t),e):s},e.y=function(t){return arguments.length?(u="function"==typeof t?t:vo(+t),e):u},e.weight=function(t){return arguments.length?(c="function"==typeof t?t:vo(+t),e):c},e.size=function(t){if(!arguments.length)return[i,r];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return i=e,r=n,v()},e.cellSize=function(t){if(!arguments.length)return 1<<h;if(!((t=+t)>=1))throw new Error("invalid cell size");return h=Math.floor(Math.log(t)/Math.LN2),v()},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?vo(_o.call(t)):vo(t),e):p},e.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},e},H.contours=Mo,H.create=function(t){return Nt(J(t).call(document.documentElement))},H.creator=J,H.cross=function(t,e,n){var i,r,o,a,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=h),i=o=0;i<s;++i)for(a=t[i],r=0;r<u;++r,++o)c[o]=n(a,e[r]);return c},H.csv=sa,H.csvFormat=Uo,H.csvFormatBody=Ho,H.csvFormatRow=Go,H.csvFormatRows=qo,H.csvFormatValue=Wo,H.csvParse=jo,H.csvParseRows=Fo,H.cubehelix=en,H.curveBasis=function(t){return new Pg(t)},H.curveBasisClosed=function(t){return new Lg(t)},H.curveBasisOpen=function(t){return new kg(t)},H.curveBundle=Sg,H.curveCardinal=Ag,H.curveCardinalClosed=Ig,H.curveCardinalOpen=Bg,H.curveCatmullRom=Zg,H.curveCatmullRomClosed=Fg,H.curveCatmullRomOpen=Hg,H.curveLinear=Zv,H.curveLinearClosed=function(t){return new qg(t)},H.curveMonotoneX=function(t){return new Xg(t)},H.curveMonotoneY=function(t){return new Jg(t)},H.curveNatural=function(t){return new $g(t)},H.curveStep=function(t){return new ty(t,.5)},H.curveStepAfter=function(t){return new ty(t,1)},H.curveStepBefore=function(t){return new ty(t,0)},H.customEvent=Et,H.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},H.deviation=r,H.dispatch=q,H.drag=function(){var n,i,r,o,a=Yt,s=Vt,e=Xt,u=Jt,p={},_=q("start","drag","end"),m=0,c=0;function v(t){t.on("mousedown.drag",h).filter(u).on("touchstart.drag",d).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!o&&a.apply(this,arguments)){var t=b("mouse",s.apply(this,arguments),Zt,this,arguments);t&&(Nt(H.event.view).on("mousemove.drag",f,!0).on("mouseup.drag",l,!0),Ht(H.event.view),Ft(),r=!1,n=H.event.clientX,i=H.event.clientY,t("start"))}}function f(){if(Ut(),!r){var t=H.event.clientX-n,e=H.event.clientY-i;r=t*t+e*e>c}p.mouse("drag")}function l(){Nt(H.event.view).on("mousemove.drag mouseup.drag",null),qt(H.event.view,r),Ut(),p.mouse("end")}function d(){if(a.apply(this,arguments)){var t,e,n=H.event.changedTouches,i=s.apply(this,arguments),r=n.length;for(t=0;t<r;++t)(e=b(n[t].identifier,i,jt,this,arguments))&&(Ft(),e("start"))}}function g(){var t,e,n=H.event.changedTouches,i=n.length;for(t=0;t<i;++t)(e=p[n[t].identifier])&&(Ut(),e("drag"))}function y(){var t,e,n=H.event.changedTouches,i=n.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<i;++t)(e=p[n[t].identifier])&&(Ft(),e("end"))}function b(r,o,a,s,u){var c,h,f,l=a(o,r),d=_.copy();if(Et(new Wt(v,"beforestart",c,r,m,l[0],l[1],0,0,d),function(){return null!=(H.event.subject=c=e.apply(s,u))&&(h=c.x-l[0]||0,f=c.y-l[1]||0,!0)}))return function t(e){var n,i=l;switch(e){case"start":p[r]=t,n=m++;break;case"end":delete p[r],--m;case"drag":l=a(o,r),n=m}Et(new Wt(v,e,c,r,n,l[0]+h,l[1]+f,l[0]-i[0],l[1]-i[1],d),d.apply,d,[e,s,u])}}return v.filter=function(t){return arguments.length?(a="function"==typeof t?t:Gt(!!t),v):a},v.container=function(t){return arguments.length?(s="function"==typeof t?t:Gt(t),v):s},v.subject=function(t){return arguments.length?(e="function"==typeof t?t:Gt(t),v):e},v.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Gt(!!t),v):u},v.on=function(){var t=_.on.apply(_,arguments);return t===_?v:t},v.clickDistance=function(t){return arguments.length?(c=(t=+t)*t,v):Math.sqrt(c)},v},H.dragDisable=Ht,H.dragEnable=qt,H.dsv=function(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=Ro(t);return oa(e,n).then(function(t){return r.parse(t,i)})},H.dsvFormat=Ro,H.easeBack=ur,H.easeBackIn=ar,H.easeBackInOut=ur,H.easeBackOut=sr,H.easeBounce=or,H.easeBounceIn=function(t){return 1-or(1-t)},H.easeBounceInOut=function(t){return((t*=2)<=1?1-or(1-t):or(t-1)+1)/2},H.easeBounceOut=or,H.easeCircle=Vi,H.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},H.easeCircleInOut=Vi,H.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},H.easeCubic=ji,H.easeCubicIn=function(t){return t*t*t},H.easeCubicInOut=ji,H.easeCubicOut=function(t){return--t*t*t+1},H.easeElastic=fr,H.easeElasticIn=hr,H.easeElasticInOut=lr,H.easeElasticOut=fr,H.easeExp=Yi,H.easeExpIn=function(t){return Math.pow(2,10*t-10)},H.easeExpInOut=Yi,H.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},H.easeLinear=function(t){return+t},H.easePoly=Hi,H.easePolyIn=Fi,H.easePolyInOut=Hi,H.easePolyOut=Ui,H.easeQuad=Zi,H.easeQuadIn=function(t){return t*t},H.easeQuadInOut=Zi,H.easeQuadOut=function(t){return t*(2-t)},H.easeSin=Wi,H.easeSinIn=function(t){return 1-Math.cos(t*Gi)},H.easeSinInOut=Wi,H.easeSinOut=function(t){return Math.sin(t*Gi)},H.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},H.extent=u,H.forceCenter=function(o,a){var s;function e(){var t,e,n=s.length,i=0,r=0;for(t=0;t<n;++t)i+=(e=s[t]).x,r+=e.y;for(i=i/n-o,r=r/n-a,t=0;t<n;++t)(e=s[t]).x-=i,e.y-=r}return null==o&&(o=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(o=+t,e):o},e.y=function(t){return arguments.length?(a=+t,e):a},e},H.forceCollide=function(i){var o,a,m=1,s=1;function e(){for(var t,e,f,l,d,p,_,n=o.length,i=0;i<s;++i)for(e=ba(o,Ta,Pa).visitAfter(u),t=0;t<n;++t)f=o[t],p=a[f.index],_=p*p,l=f.x+f.vx,d=f.y+f.vy,e.visit(r);function r(t,e,n,i,r){var o=t.data,a=t.r,s=p+a;if(!o)return e>l+s||i<l-s||n>d+s||r<d-s;if(o.index>f.index){var u=l-o.x-o.vx,c=d-o.y-o.vy,h=u*u+c*c;h<s*s&&(0===u&&(h+=(u=_a())*u),0===c&&(h+=(c=_a())*c),h=(s-(h=Math.sqrt(h)))/h*m,f.vx+=(u*=h)*(s=(a*=a)/(_+a)),f.vy+=(c*=h)*s,o.vx-=u*(s=1-s),o.vy-=c*s)}}}function u(t){if(t.data)return t.r=a[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(o){var t,e,n=o.length;for(a=new Array(n),t=0;t<n;++t)e=o[t],a[e.index]=+i(e,t,o)}}return"function"!=typeof i&&(i=pa(null==i?1:+i)),e.initialize=function(t){o=t,n()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(m=+t,e):m},e.radius=function(t){return arguments.length?(i="function"==typeof t?t:pa(+t),n(),e):i},e},H.forceLink=function(f){var l,d,o,a,p,s=La,n=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},i=pa(30),_=1;function e(t){for(var e=0,n=f.length;e<_;++e)for(var i,r,o,a,s,u,c,h=0;h<n;++h)r=(i=f[h]).source,a=(o=i.target).x+o.vx-r.x-r.vx||_a(),s=o.y+o.vy-r.y-r.vy||_a(),a*=u=((u=Math.sqrt(a*a+s*s))-d[h])/u*t*l[h],s*=u,o.vx-=a*(c=p[h]),o.vy-=s*c,r.vx+=a*(c=1-c),r.vy+=s*c}function r(){if(o){var t,e,n=o.length,i=f.length,r=ao(o,s);for(t=0,a=new Array(n);t<i;++t)(e=f[t]).index=t,"object"!=typeof e.source&&(e.source=ka(r,e.source)),"object"!=typeof e.target&&(e.target=ka(r,e.target)),a[e.source.index]=(a[e.source.index]||0)+1,a[e.target.index]=(a[e.target.index]||0)+1;for(t=0,p=new Array(i);t<i;++t)e=f[t],p[t]=a[e.source.index]/(a[e.source.index]+a[e.target.index]);l=new Array(i),u(),d=new Array(i),c()}}function u(){if(o)for(var t=0,e=f.length;t<e;++t)l[t]=+n(f[t],t,f)}function c(){if(o)for(var t=0,e=f.length;t<e;++t)d[t]=+i(f[t],t,f)}return null==f&&(f=[]),e.initialize=function(t){o=t,r()},e.links=function(t){return arguments.length?(f=t,r(),e):f},e.id=function(t){return arguments.length?(s=t,e):s},e.iterations=function(t){return arguments.length?(_=+t,e):_},e.strength=function(t){return arguments.length?(n="function"==typeof t?t:pa(+t),u(),e):n},e.distance=function(t){return arguments.length?(i="function"==typeof t?t:pa(+t),c(),e):i},e},H.forceManyBody=function(){var r,u,c,h,i=pa(-30),f=1,l=1/0,d=.81;function e(t){var e,n=r.length,i=ba(r,Ea,Sa).visitAfter(o);for(c=t,e=0;e<n;++e)u=r[e],i.visit(a)}function n(){if(r){var t,e,n=r.length;for(h=new Array(n),t=0;t<n;++t)e=r[t],h[e.index]=+i(e,t,r)}}function o(t){var e,n,i,r,o,a=0,s=0;if(t.length){for(i=r=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,s+=n,i+=n*e.x,r+=n*e.y);t.x=i/s,t.y=r/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=h[e.data.index]}while(e=e.next)}t.value=a}function a(t,e,n,i){if(!t.value)return!0;var r=t.x-u.x,o=t.y-u.y,a=i-e,s=r*r+o*o;if(a*a/d<s)return s<l&&(0===r&&(s+=(r=_a())*r),0===o&&(s+=(o=_a())*o),s<f&&(s=Math.sqrt(f*s)),u.vx+=r*t.value*c/s,u.vy+=o*t.value*c/s),!0;if(!(t.length||s>=l)){(t.data!==u||t.next)&&(0===r&&(s+=(r=_a())*r),0===o&&(s+=(o=_a())*o),s<f&&(s=Math.sqrt(f*s)));do{t.data!==u&&(a=h[t.data.index]*c/s,u.vx+=r*a,u.vy+=o*a)}while(t=t.next)}}return e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:pa(+t),n(),e):i},e.distanceMin=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e.distanceMax=function(t){return arguments.length?(l=t*t,e):Math.sqrt(l)},e.theta=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e},H.forceRadial=function(n,u,c){var h,f,l,i=pa(.1);function e(t){for(var e=0,n=h.length;e<n;++e){var i=h[e],r=i.x-u||1e-6,o=i.y-c||1e-6,a=Math.sqrt(r*r+o*o),s=(l[e]-a)*f[e]*t/a;i.vx+=r*s,i.vy+=o*s}}function r(){if(h){var t,e=h.length;for(f=new Array(e),l=new Array(e),t=0;t<e;++t)l[t]=+n(h[t],t,h),f[t]=isNaN(l[t])?0:+i(h[t],t,h)}}return"function"!=typeof n&&(n=pa(+n)),null==u&&(u=0),null==c&&(c=0),e.initialize=function(t){h=t,r()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:pa(+t),r(),e):i},e.radius=function(t){return arguments.length?(n="function"==typeof t?t:pa(+t),r(),e):n},e.x=function(t){return arguments.length?(u=+t,e):u},e.y=function(t){return arguments.length?(c=+t,e):c},e},H.forceSimulation=function(h){var o,a=1,e=.001,s=1-Math.pow(e,1/300),u=0,c=.6,f=ao(),t=hi(i),n=q("tick","end");function i(){r(),n.call("tick",o),a<e&&(t.stop(),n.call("end",o))}function r(t){var e,n,i=h.length;void 0===t&&(t=1);for(var r=0;r<t;++r)for(a+=(u-a)*s,f.each(function(t){t(a)}),e=0;e<i;++e)null==(n=h[e]).fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0);return o}function l(){for(var t,e=0,n=h.length;e<n;++e){if((t=h[e]).index=e,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=Ca*Math.sqrt(e),r=e*za;t.x=i*Math.cos(r),t.y=i*Math.sin(r)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(h),t}return null==h&&(h=[]),l(),o={tick:r,restart:function(){return t.restart(i),o},stop:function(){return t.stop(),o},nodes:function(t){return arguments.length?(h=t,l(),f.each(d),o):h},alpha:function(t){return arguments.length?(a=+t,o):a},alphaMin:function(t){return arguments.length?(e=+t,o):e},alphaDecay:function(t){return arguments.length?(s=+t,o):+s},alphaTarget:function(t){return arguments.length?(u=+t,o):u},velocityDecay:function(t){return arguments.length?(c=1-t,o):1-c},force:function(t,e){return arguments.length>1?(null==e?f.remove(t):f.set(t,d(e)),o):f.get(t)},find:function(t,e,n){var i,r,o,a,s,u=0,c=h.length;for(null==n?n=1/0:n*=n,u=0;u<c;++u)(o=(i=t-(a=h[u]).x)*i+(r=e-a.y)*r)<n&&(s=a,n=o);return s},on:function(t,e){return arguments.length>1?(n.on(t,e),o):n.on(t)}}},H.forceX=function(n){var r,o,a,i=pa(.1);function e(t){for(var e,n=0,i=r.length;n<i;++n)(e=r[n]).vx+=(a[n]-e.x)*o[n]*t}function s(){if(r){var t,e=r.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(r[t],t,r))?0:+i(r[t],t,r)}}return"function"!=typeof n&&(n=pa(null==n?0:+n)),e.initialize=function(t){r=t,s()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:pa(+t),s(),e):i},e.x=function(t){return arguments.length?(n="function"==typeof t?t:pa(+t),s(),e):n},e},H.forceY=function(n){var r,o,a,i=pa(.1);function e(t){for(var e,n=0,i=r.length;n<i;++n)(e=r[n]).vy+=(a[n]-e.y)*o[n]*t}function s(){if(r){var t,e=r.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(r[t],t,r))?0:+i(r[t],t,r)}}return"function"!=typeof n&&(n=pa(null==n?0:+n)),e.initialize=function(t){r=t,s()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:pa(+t),s(),e):i},e.y=function(t){return arguments.length?(n="function"==typeof t?t:pa(+t),s(),e):n},e},H.formatDefaultLocale=Ga,H.formatLocale=qa,H.formatSpecifier=Ba,H.geoAlbers=Qh,H.geoAlbersUsa=function(){var e,n,r,o,a,i,s=Qh(),u=$h().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=$h().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){i=[t,e]}};function f(t){var e=t[0],n=t[1];return i=null,r.point(e,n),i||(o.point(e,n),i)||(a.point(e,n),i)}function l(){return e=n=null,f}return f.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?u:r>=.166&&r<.234&&i>=-.214&&i<-.115?c:s).invert(t)},f.stream=function(t){return e&&n===t?e:(i=[s.stream(n=t),u.stream(t),c.stream(t)],r=i.length,e={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},f.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),c.precision(t),l()):s.precision()},f.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),c.scale(t),f.translate(s.translate())):s.scale()},f.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],i=+t[1];return r=s.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(h),o=u.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+Qa,i+.12*e+Qa],[n-.214*e-Qa,i+.234*e-Qa]]).stream(h),a=c.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+Qa,i+.166*e+Qa],[n-.115*e-Qa,i+.234*e-Qa]]).stream(h),l()},f.fitExtent=function(t,e){return Zh(f,t,e)},f.fitSize=function(t,e){return jh(f,t,e)},f.fitWidth=function(t,e){return Fh(f,t,e)},f.fitHeight=function(t,e){return Uh(f,t,e)},f.scale(1070)},H.geoArea=function(t){return Ds.reset(),Es(t,Bs),2*Ds},H.geoAzimuthalEqualArea=function(){return Vh(nf).scale(124.75).clipAngle(179.999)},H.geoAzimuthalEqualAreaRaw=nf,H.geoAzimuthalEquidistant=function(){return Vh(rf).scale(79.4188).clipAngle(179.999)},H.geoAzimuthalEquidistantRaw=rf,H.geoBounds=function(t){var e,n,i,r,o,a,s;if(Ks=Js=-(Vs=Xs=1/0),nu=[],Es(t,xu),n=nu.length){for(nu.sort(Cu),e=1,o=[i=nu[0]];e<n;++e)zu(i,(r=nu[e])[0])||zu(i,r[1])?(Su(i[0],r[1])>Su(i[0],i[1])&&(i[1]=r[1]),Su(r[0],i[1])>Su(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)r=o[e],(s=Su(i[1],r[0]))>a&&(a=s,Vs=r[0],Js=i[1])}return nu=iu=null,Vs===1/0||Xs===1/0?[[NaN,NaN],[NaN,NaN]]:[[Vs,Xs],[Js,Ks]]},H.geoCentroid=function(t){ru=ou=au=su=uu=cu=hu=fu=lu=du=pu=0,Es(t,Au);var e=lu,n=du,i=pu,r=e*e+n*n+i*i;return r<ts&&(e=cu,n=hu,i=fu,ou<Qa&&(e=au,n=su,i=uu),(r=e*e+n*n+i*i)<ts)?[NaN,NaN]:[cs(n,e)*os,bs(i/vs(r))*os]},H.geoCircle=function(){var i,r,o=Hu([0,0]),a=Hu(90),s=Hu(6),u={point:function(t,e){i.push(t=r(t,e)),t[0]*=os,t[1]*=os}};function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*as,n=s.apply(this,arguments)*as;return i=[],r=Wu(-t[0]*as,-t[1]*as,0).invert,Ku(u,e,n,1),t={type:"Polygon",coordinates:[i]},i=r=null,t}return e.center=function(t){return arguments.length?(o="function"==typeof t?t:Hu([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Hu(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Hu(+t),e):s},e},H.geoClipAntimeridian=hc,H.geoClipCircle=fc,H.geoClipExtent=function(){var e,n,i,r=0,o=0,a=960,s=500;return i={stream:function(t){return e&&n===t?e:e=pc(r,o,a,s)(n=t)},extent:function(t){return arguments.length?(r=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,i):[[r,o],[a,s]]}}},H.geoClipRectangle=pc,H.geoConicConformal=function(){return Jh(uf).scale(109.5).parallels([30,30])},H.geoConicConformalRaw=uf,H.geoConicEqualArea=$h,H.geoConicEqualAreaRaw=Kh,H.geoConicEquidistant=function(){return Jh(hf).scale(131.154).center([0,13.9389])},H.geoConicEquidistantRaw=hf,H.geoContains=function(t,e){return(t&&kc.hasOwnProperty(t.type)?kc[t.type]:Sc)(t,e)},H.geoDistance=Lc,H.geoEqualEarth=function(){return Vh(mf).scale(177.158)},H.geoEqualEarthRaw=mf,H.geoEquirectangular=function(){return Vh(cf).scale(152.63)},H.geoEquirectangularRaw=cf,H.geoGnomonic=function(){return Vh(vf).scale(144.049).clipAngle(60)},H.geoGnomonicRaw=vf,H.geoGraticule=Oc,H.geoGraticule10=function(){return Oc()()},H.geoIdentity=function(){var e,n,i,r,o,a,s=1,u=0,c=0,h=1,f=1,l=Rc,d=null,p=Rc;function _(){return r=o=null,a}return a={stream:function(t){return r&&o===t?r:r=l(p(o=t))},postclip:function(t){return arguments.length?(p=t,d=e=n=i=null,_()):p},clipExtent:function(t){return arguments.length?(p=null==t?(d=e=n=i=null,Rc):pc(d=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),_()):null==d?null:[[d,e],[n,i]]},scale:function(t){return arguments.length?(l=gf((s=+t)*h,s*f,u,c),_()):s},translate:function(t){return arguments.length?(l=gf(s*h,s*f,u=+t[0],c=+t[1]),_()):[u,c]},reflectX:function(t){return arguments.length?(l=gf(s*(h=t?-1:1),s*f,u,c),_()):h<0},reflectY:function(t){return arguments.length?(l=gf(s*h,s*(f=t?-1:1),u,c),_()):f<0},fitExtent:function(t,e){return Zh(a,t,e)},fitSize:function(t,e){return jh(a,t,e)},fitWidth:function(t,e){return Fh(a,t,e)},fitHeight:function(t,e){return Uh(a,t,e)}}},H.geoInterpolate=function(t,e){var n=t[0]*as,i=t[1]*as,r=e[0]*as,o=e[1]*as,a=hs(i),s=_s(i),u=hs(o),c=_s(o),h=a*hs(n),f=a*_s(n),l=u*hs(r),d=u*_s(r),p=2*bs(vs(xs(o-i)+a*u*xs(r-n))),_=_s(p),m=p?function(t){var e=_s(t*=p)/_,n=_s(p-t)/_,i=n*h+e*l,r=n*f+e*d,o=n*s+e*c;return[cs(r,i)*os,cs(o,vs(i*i+r*r))*os]}:function(){return[n*os,i*os]};return m.distance=p,m},H.geoLength=Mc,H.geoMercator=function(){return af(of).scale(961/rs)},H.geoMercatorRaw=of,H.geoNaturalEarth1=function(){return Vh(yf).scale(175.295)},H.geoNaturalEarth1Raw=yf,H.geoOrthographic=function(){return Vh(bf).scale(249.5).clipAngle(90+Qa)},H.geoOrthographicRaw=bf,H.geoPath=function(e,n){var i,r,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Es(t,i(r))),r.result()}return a.area=function(t){return Es(t,i(Gc)),Gc.result()},a.measure=function(t){return Es(t,i(zh)),zh.result()},a.bounds=function(t){return Es(t,i(th)),th.result()},a.centroid=function(t){return Es(t,i(ph)),ph.result()},a.projection=function(t){return arguments.length?(i=null==t?(e=null,Rc):(e=t).stream,a):e},a.context=function(t){return arguments.length?(r=null==t?(n=null,new Ih):new Th(n=t),"function"!=typeof o&&r.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.projection(e).context(n)},H.geoProjection=Vh,H.geoProjectionMutator=Xh,H.geoRotation=Ju,H.geoStereographic=function(){return Vh(xf).scale(250).clipAngle(142)},H.geoStereographicRaw=xf,H.geoStream=Es,H.geoTransform=function(t){return{stream:Bh(t)}},H.geoTransverseMercator=function(){var t=af(wf),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},H.geoTransverseMercatorRaw=wf,H.gray=function(t,e){return new Re(t,0,0,null==e?1:e)},H.hcl=qe,H.hierarchy=kf,H.histogram=function(){var l=m,d=u,p=y;function e(t){var e,n,i=t.length,r=new Array(i);for(e=0;e<i;++e)r[e]=l(t[e],e,t);var o=d(r),a=o[0],s=o[1],u=p(r,a,s);Array.isArray(u)||(u=L(a,s,u),u=P(Math.ceil(a/u)*u,s,u));for(var c=u.length;u[0]<=a;)u.shift(),--c;for(;u[c-1]>s;)u.pop(),--c;var h,f=new Array(c+1);for(e=0;e<=c;++e)(h=f[e]=[]).x0=e>0?u[e-1]:a,h.x1=e<c?u[e]:s;for(e=0;e<i;++e)a<=(n=r[e])&&n<=s&&f[_(u,n,0,c)].push(t[e]);return f}return e.value=function(t){return arguments.length?(l="function"==typeof t?t:f(t),e):l},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:f([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?f(o.call(t)):f(t),e):p},e},H.hsl=Te,H.html=la,H.image=function(r,o){return new Promise(function(t,e){var n=new Image;for(var i in o)n[i]=o[i];n.onerror=e,n.onload=function(){t(n)},n.src=r})},H.interpolate=Mn,H.interpolateArray=mn,H.interpolateBasis=on,H.interpolateBasisClosed=an,H.interpolateBlues=Jm,H.interpolateBrBG=um,H.interpolateBuGn=Lm,H.interpolateBuPu=Em,H.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},H.interpolateCool=cv,H.interpolateCubehelix=Vn,H.interpolateCubehelixDefault=sv,H.interpolateCubehelixLong=Xn,H.interpolateDate=vn,H.interpolateDiscrete=function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},H.interpolateGnBu=Cm,H.interpolateGreens=$m,H.interpolateGreys=tv,H.interpolateHcl=Gn,H.interpolateHclLong=Wn,H.interpolateHsl=Un,H.interpolateHslLong=Hn,H.interpolateHue=function(t,e){var n=cn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},H.interpolateInferno=vv,H.interpolateLab=function(e,t){var n=fn((e=Oe(e)).l,(t=Oe(t)).l),i=fn(e.a,t.a),r=fn(e.b,t.b),o=fn(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+""}},H.interpolateMagma=mv,H.interpolateNumber=gn,H.interpolateObject=yn,H.interpolateOrRd=Am,H.interpolateOranges=av,H.interpolatePRGn=hm,H.interpolatePiYG=lm,H.interpolatePlasma=gv,H.interpolatePuBu=Bm,H.interpolatePuBuGn=Im,H.interpolatePuOr=pm,H.interpolatePuRd=Rm,H.interpolatePurples=nv,H.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return hv.h=360*t-100,hv.s=1.5-1.5*e,hv.l=.8-.9*e,hv+""},H.interpolateRdBu=mm,H.interpolateRdGy=gm,H.interpolateRdPu=jm,H.interpolateRdYlBu=bm,H.interpolateRdYlGn=wm,H.interpolateReds=rv,H.interpolateRgb=ln,H.interpolateRgbBasis=pn,H.interpolateRgbBasisClosed=_n,H.interpolateRound=Tn,H.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,fv.r=255*(e=Math.sin(t))*e,fv.g=255*(e=Math.sin(t+lv))*e,fv.b=255*(e=Math.sin(t+dv))*e,fv+""},H.interpolateSpectral=Tm,H.interpolateString=wn,H.interpolateTransformCss=Nn,H.interpolateTransformSvg=In,H.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},H.interpolateViridis=_v,H.interpolateWarm=uv,H.interpolateYlGn=qm,H.interpolateYlGnBu=Um,H.interpolateYlOrBr=Wm,H.interpolateYlOrRd=Vm,H.interpolateZoom=jn,H.interrupt=Si,H.interval=function(n,i,r){var o=new ci,a=i;return null==i?(o.restart(n,i,r),o):(i=+i,r=null==r?si():+r,o.restart(function t(e){e+=a,o.restart(t,a+=i,r),n(e)},i,r),o)},H.isoFormat=A_,H.isoParse=N_,H.json=function(t,e){return fetch(t,e).then(ca)},H.keys=function(t){var e=[];for(var n in t)e.push(n);return e},H.lab=Oe,H.lch=function(t,e,n,i){return 1===arguments.length?He(t):new Ge(n,e,t,null==i?1:i)},H.line=Uv,H.lineRadial=Jv,H.linkHorizontal=function(){return ng(ig)},H.linkRadial=function(){var t=ng(og);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},H.linkVertical=function(){return ng(rg)},H.local=Dt,H.map=ao,H.matcher=et,H.max=x,H.mean=function(t,e){var n,i=t.length,r=i,o=-1,a=0;if(null==e)for(;++o<i;)isNaN(n=c(t[o]))?--r:a+=n;else for(;++o<i;)isNaN(n=c(e(t[o],o,t)))?--r:a+=n;if(r)return a/r},H.median=function(t,e){var n,i=t.length,r=-1,o=[];if(null==e)for(;++r<i;)isNaN(n=c(t[r]))||o.push(n);else for(;++r<i;)isNaN(n=c(e(t[r],r,t)))||o.push(n);return b(o.sort(s),.5)},H.merge=k,H.min=w,H.mouse=Zt,H.namespace=X,H.namespaces=V,H.nest=function(){var l,d,e,p=[],a=[];function _(t,n,i,r){if(n>=p.length)return null!=l&&t.sort(l),null!=d?d(t):t;for(var e,o,a,s=-1,u=t.length,c=p[n++],h=ao(),f=i();++s<u;)(a=h.get(e=c(o=t[s])+""))?a.push(o):h.set(e,[o]);return h.each(function(t,e){r(f,e,_(t,n,i,r))}),f}return e={object:function(t){return _(t,0,so,uo)},map:function(t){return _(t,0,co,ho)},entries:function(t){return function n(t,i){if(++i>p.length)return t;var r,o=a[i-1];return null!=d&&i>=p.length?r=t.entries():(r=[],t.each(function(t,e){r.push({key:e,values:n(t,i)})})),null!=o?r.sort(function(t,e){return o(t.key,e.key)}):r}(_(t,0,co,ho),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return a[p.length-1]=t,e},sortValues:function(t){return l=t,e},rollup:function(t){return d=t,e}}},H.now=si,H.pack=function(){var e=null,n=1,i=1,r=Vf;function o(t){return t.x=n/2,t.y=i/2,e?t.eachBefore(Kf(e)).eachAfter($f(r,.5)).eachBefore(Qf(1)):t.eachBefore(Kf(Jf)).eachAfter($f(Vf,1)).eachAfter($f(r,t.r/Math.min(n,i))).eachBefore(Qf(Math.min(n,i)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(e=Wf(t),o):e},o.size=function(t){return arguments.length?(n=+t[0],i=+t[1],o):[n,i]},o.padding=function(t){return arguments.length?(r="function"==typeof t?t:Xf(+t),o):r},o},H.packEnclose=Nf,H.packSiblings=function(t){return Gf(t),t},H.pairs=function(t,e){null==e&&(e=h);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return o},H.partition=function(){var n=1,i=1,s=0,r=!1;function e(t){var e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=i/e,t.eachBefore(function(o,a){return function(t){t.children&&el(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,i=t.x1-s,r=t.y1-s;i<e&&(e=i=(e+i)/2),r<n&&(n=r=(n+r)/2),t.x0=e,t.y0=n,t.x1=i,t.y1=r}}(i,e)),r&&t.eachBefore(tl),t}return e.round=function(t){return arguments.length?(r=!!t,e):r},e.size=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},H.path=Qr,H.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},H.pie=function(){var p=Gv,_=qv,m=null,v=yv(0),g=yv(Cv),y=yv(0);function e(n){var t,e,i,r,o,a=n.length,s=0,u=new Array(a),c=new Array(a),h=+v.apply(this,arguments),f=Math.min(Cv,Math.max(-Cv,g.apply(this,arguments)-h)),l=Math.min(Math.abs(f)/a,y.apply(this,arguments)),d=l*(f<0?-1:1);for(t=0;t<a;++t)(o=c[u[t]=t]=+p(n[t],t,n))>0&&(s+=o);for(null!=_?u.sort(function(t,e){return _(c[t],c[e])}):null!=m&&u.sort(function(t,e){return m(n[t],n[e])}),t=0,i=s?(f-a*d)/s:0;t<a;++t,h=r)e=u[t],r=h+((o=c[e])>0?o*i:0)+d,c[e]={data:n[e],index:t,value:o,startAngle:h,endAngle:r,padAngle:l};return c}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:yv(+t),e):p},e.sortValues=function(t){return arguments.length?(_=t,m=null,e):_},e.sort=function(t){return arguments.length?(m=t,_=null,e):m},e.startAngle=function(t){return arguments.length?(v="function"==typeof t?t:yv(+t),e):v},e.endAngle=function(t){return arguments.length?(g="function"==typeof t?t:yv(+t),e):g},e.padAngle=function(t){return arguments.length?(y="function"==typeof t?t:yv(+t),e):y},e},H.piecewise=function(t,e){for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}},H.pointRadial=$v,H.polygonArea=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},H.polygonCentroid=function(t){for(var e,n,i=-1,r=t.length,o=0,a=0,s=t[r-1],u=0;++i<r;)e=s,s=t[i],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]},H.polygonContains=function(t,e){for(var n,i,r=t.length,o=t[r-1],a=e[0],s=e[1],u=o[0],c=o[1],h=!1,f=0;f<r;++f)n=(o=t[f])[0],(i=o[1])>s!=c>s&&a<(u-n)*(s-i)/(c-i)+n&&(h=!h),u=n,c=i;return h},H.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(yl),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=bl(i),a=bl(r),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[i[o[e]][2]]);for(e=+s;e<a.length-u;++e)c.push(t[i[a[e]][2]]);return c},H.polygonLength=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],a=o[0],s=o[1],u=0;++i<r;)e=a,n=s,e-=a=(o=t[i])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},H.precisionFixed=Wa,H.precisionPrefix=Ya,H.precisionRound=Va,H.quadtree=ba,H.quantile=b,H.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},H.radialArea=Kv,H.radialLine=Jv,H.randomBates=Ll,H.randomExponential=kl,H.randomIrwinHall=Pl,H.randomLogNormal=Tl,H.randomNormal=Ml,H.randomUniform=wl,H.range=P,H.rgb=ve,H.ribbon=function(){var l=to,d=eo,p=no,_=io,m=ro,v=null;function e(){var t,e=Yr.call(arguments),n=l.apply(this,e),i=d.apply(this,e),r=+p.apply(this,(e[0]=n,e)),o=_.apply(this,e)-Hr,a=m.apply(this,e)-Hr,s=r*jr(o),u=r*Fr(o),c=+p.apply(this,(e[0]=i,e)),h=_.apply(this,e)-Hr,f=m.apply(this,e)-Hr;if(v||(v=t=Qr()),v.moveTo(s,u),v.arc(0,0,r,o,a),o===h&&a===f||(v.quadraticCurveTo(0,0,c*jr(h),c*Fr(h)),v.arc(0,0,c,h,f)),v.quadraticCurveTo(0,0,s,u),v.closePath(),t)return v=null,t+""||null}return e.radius=function(t){return arguments.length?(p="function"==typeof t?t:Vr(+t),e):p},e.startAngle=function(t){return arguments.length?(_="function"==typeof t?t:Vr(+t),e):_},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:Vr(+t),e):m},e.source=function(t){return arguments.length?(l=t,e):l},e.target=function(t){return arguments.length?(d=t,e):d},e.context=function(t){return arguments.length?(v=null==t?null:t,e):v},e},H.scaleBand=Dl,H.scaleDiverging=function t(){var e=Yl(Y_()(Rl));return e.copy=function(){return G_(e,t())},Sl.apply(e,arguments)},H.scaleDivergingLog=function t(){var e=ed(Y_()).domain([.1,1,10]);return e.copy=function(){return G_(e,t()).base(e.base())},Sl.apply(e,arguments)},H.scaleDivergingPow=V_,H.scaleDivergingSqrt=function(){return V_.apply(null,arguments).exponent(.5)},H.scaleDivergingSymlog=function t(){var e=rd(Y_());return e.copy=function(){return G_(e,t()).constant(e.constant())},Sl.apply(e,arguments)},H.scaleIdentity=function t(e){var n;function i(t){return isNaN(t=+t)?n:t}return i.invert=i,i.domain=i.range=function(t){return arguments.length?(e=zl.call(t,Bl),i):e.slice()},i.unknown=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return t(e).unknown(n)},e=arguments.length?zl.call(e,Bl):[0,1],Yl(i)},H.scaleImplicit=Nl,H.scaleLinear=function t(){var e=Gl(Rl,Rl);return e.copy=function(){return Hl(e,t())},El.apply(e,arguments),Yl(e)},H.scaleLog=function t(){var e=ed(ql()).domain([1,10]);return e.copy=function(){return Hl(e,t()).base(e.base())},El.apply(e,arguments),e},H.scaleOrdinal=Il,H.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Dl.apply(null,arguments).paddingInner(1))},H.scalePow=cd,H.scaleQuantile=function t(){var e,r=[],n=[],i=[];function o(){var t=0,e=Math.max(1,n.length);for(i=new Array(e-1);++t<e;)i[t-1]=b(r,t/e);return a}function a(t){return isNaN(t=+t)?e:n[_(i,t)]}return a.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:r[0],e<i.length?i[e]:r[r.length-1]]},a.domain=function(t){if(!arguments.length)return r.slice();r=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||r.push(e);return r.sort(s),o()},a.range=function(t){return arguments.length?(n=Al.call(t),o()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(r).range(n).unknown(e)},El.apply(a,arguments)},H.scaleQuantize=function t(){var e,n=0,i=1,r=1,o=[.5],a=[0,1];function s(t){return t<=t?a[_(o,t,0,r)]:e}function u(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*i-(t-r)*n)/(r+1);return s}return s.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],u()):[n,i]},s.range=function(t){return arguments.length?(r=(a=Al.call(t)).length-1,u()):a.slice()},s.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=r?[o[r-1],i]:[o[e-1],o[e]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return t().domain([n,i]).range(a).unknown(e)},El.apply(Yl(s),arguments)},H.scaleSequential=function t(){var e=Yl(q_()(Rl));return e.copy=function(){return G_(e,t())},Sl.apply(e,arguments)},H.scaleSequentialLog=function t(){var e=ed(q_()).domain([1,10]);return e.copy=function(){return G_(e,t()).base(e.base())},Sl.apply(e,arguments)},H.scaleSequentialPow=W_,H.scaleSequentialQuantile=function t(){var r=[],e=Rl;function o(t){if(!isNaN(t=+t))return e((_(r,t)-1)/(r.length-1))}return o.domain=function(t){if(!arguments.length)return r.slice();r=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||r.push(e);return r.sort(s),o},o.interpolator=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t(e).domain(r)},Sl.apply(o,arguments)},H.scaleSequentialSqrt=function(){return W_.apply(null,arguments).exponent(.5)},H.scaleSequentialSymlog=function t(){var e=rd(q_());return e.copy=function(){return G_(e,t()).constant(e.constant())},Sl.apply(e,arguments)},H.scaleSqrt=function(){return cd.apply(null,arguments).exponent(.5)},H.scaleSymlog=function t(){var e=rd(ql());return e.copy=function(){return Hl(e,t()).constant(e.constant())},El.apply(e,arguments)},H.scaleThreshold=function t(){var e,n=[.5],i=[0,1],r=1;function o(t){return t<=t?i[_(n,t,0,r)]:e}return o.domain=function(t){return arguments.length?(n=Al.call(t),r=Math.min(n.length,i.length-1),o):n.slice()},o.range=function(t){return arguments.length?(i=Al.call(t),r=Math.min(n.length,i.length-1),o):i.slice()},o.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(i).unknown(e)},El.apply(o,arguments)},H.scaleTime=function(){return El.apply(H_(Ud,jd,Ld,Md,xd,yd,vd,dd,H.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},H.scaleUtc=function(){return El.apply(H_(dp,fp,Kd,Vd,Wd,qd,vd,dd,H.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},H.scan=function(t,e){if(n=t.length){var n,i,r=0,o=0,a=t[o];for(null==e&&(e=s);++r<n;)(e(i=t[r],a)<0||0!==e(a,a))&&(a=i,o=r);return 0===e(a,a)?o:void 0}},H.schemeAccent=K_,H.schemeBlues=Xm,H.schemeBrBG=sm,H.schemeBuGn=Pm,H.schemeBuPu=km,H.schemeCategory10=J_,H.schemeDark2=$_,H.schemeGnBu=Sm,H.schemeGreens=Km,H.schemeGreys=Qm,H.schemeOrRd=zm,H.schemeOranges=ov,H.schemePRGn=cm,H.schemePaired=Q_,H.schemePastel1=tm,H.schemePastel2=em,H.schemePiYG=fm,H.schemePuBu=Dm,H.schemePuBuGn=Nm,H.schemePuOr=dm,H.schemePuRd=Om,H.schemePurples=ev,H.schemeRdBu=_m,H.schemeRdGy=vm,H.schemeRdPu=Zm,H.schemeRdYlBu=ym,H.schemeRdYlGn=xm,H.schemeReds=iv,H.schemeSet1=nm,H.schemeSet2=im,H.schemeSet3=rm,H.schemeSpectral=Mm,H.schemeTableau10=om,H.schemeYlGn=Hm,H.schemeYlGnBu=Fm,H.schemeYlOrBr=Gm,H.schemeYlOrRd=Ym,H.select=Nt,H.selectAll=function(t){return"string"==typeof t?new zt([document.querySelectorAll(t)],[document.documentElement]):new zt([null==t?[]:t],Ct)},H.selection=At,H.selector=$,H.selectorAll=tt,H.set=po,H.shuffle=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},H.stack=function(){var f=yv([]),l=ny,d=ey,p=iy;function e(t){var e,n,i=f.apply(this,arguments),r=t.length,o=i.length,a=new Array(o);for(e=0;e<o;++e){for(var s,u=i[e],c=a[e]=new Array(r),h=0;h<r;++h)c[h]=s=[0,+p(t[h],u,h,t)],s.data=t[h];c.key=u}for(e=0,n=l(a);e<o;++e)a[n[e]].index=e;return d(a,n),a}return e.keys=function(t){return arguments.length?(f="function"==typeof t?t:yv(Qv.call(t)),e):f},e.value=function(t){return arguments.length?(p="function"==typeof t?t:yv(+t),e):p},e.order=function(t){return arguments.length?(l=null==t?ny:"function"==typeof t?t:yv(Qv.call(t)),e):l},e.offset=function(t){return arguments.length?(d=null==t?ey:t,e):d},e},H.stackOffsetDiverging=function(t,e){if((s=t.length)>0)for(var n,i,r,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(r=(i=t[e[n]][u])[1]-i[0])>0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=a,i[0]=a+=r):(i[0]=0,i[1]=r)},H.stackOffsetExpand=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,a=t[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}ey(t,e)}},H.stackOffsetNone=ey,H.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=t[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}ey(t,e)}},H.stackOffsetWiggle=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,u=0,c=0;s<r;++s){for(var h=t[e[s]],f=h[a][1]||0,l=(f-(h[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];l+=(p[a][1]||0)-(p[a-1][1]||0)}u+=f,c+=l*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,ey(t,e)}},H.stackOrderAppearance=ry,H.stackOrderAscending=ay,H.stackOrderDescending=function(t){return ay(t).reverse()},H.stackOrderInsideOut=function(t){var e,n,i=t.length,r=t.map(sy),o=ry(t),a=0,s=0,u=[],c=[];for(e=0;e<i;++e)n=o[e],a<s?(a+=r[n],u.push(n)):(s+=r[n],c.push(n));return c.reverse().concat(u)},H.stackOrderNone=ny,H.stackOrderReverse=function(t){return ny(t).reverse()},H.stratify=function(){var f=ol,l=al;function e(t){var e,n,i,r,o,a,s,u=t.length,c=new Array(u),h={};for(n=0;n<u;++n)e=t[n],o=c[n]=new zf(e),null!=(a=f(e,n,t))&&(a+="")&&(h[s=nl+(o.id=a)]=s in h?rl:o);for(n=0;n<u;++n)if(o=c[n],null!=(a=l(t[n],n,t))&&(a+="")){if(!(r=h[nl+a]))throw new Error("missing: "+a);if(r===rl)throw new Error("ambiguous: "+a);r.children?r.children.push(o):r.children=[o],o.parent=r}else{if(i)throw new Error("multiple roots");i=o}if(!i)throw new Error("no root");if(i.parent=il,i.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(Cf),i.parent=null,u>0)throw new Error("cycle");return i}return e.id=function(t){return arguments.length?(f=Yf(t),e):f},e.parentId=function(t){return arguments.length?(l=Yf(t),e):l},e},H.style=ct,H.sum=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},H.svg=da,H.symbol=function(){var e=yv(ag),n=yv(64),i=null;function r(){var t;if(i||(i=t=Qr()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t)return i=null,t+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:yv(t),r):e},r.size=function(t){return arguments.length?(n="function"==typeof t?t:yv(+t),r):n},r.context=function(t){return arguments.length?(i=null==t?null:t,r):i},r},H.symbolCircle=ag,H.symbolCross=sg,H.symbolDiamond=hg,H.symbolSquare=_g,H.symbolStar=pg,H.symbolTriangle=vg,H.symbolWye=xg,H.symbols=wg,H.text=oa,H.thresholdFreedmanDiaconis=function(t,e,n){return t=a.call(t,c).sort(s),Math.ceil((n-e)/(2*(b(t,.75)-b(t,.25))*Math.pow(t.length,-1/3)))},H.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*r(t)*Math.pow(t.length,-1/3)))},H.thresholdSturges=y,H.tickFormat=Wl,H.tickIncrement=g,H.tickStep=L,H.ticks=v,H.timeDay=Md,H.timeDays=Td,H.timeFormatDefaultLocale=z_,H.timeFormatLocale=gp,H.timeFriday=zd,H.timeFridays=Rd,H.timeHour=xd,H.timeHours=wd,H.timeInterval=ld,H.timeMillisecond=dd,H.timeMilliseconds=pd,H.timeMinute=yd,H.timeMinutes=bd,H.timeMonday=kd,H.timeMondays=Id,H.timeMonth=jd,H.timeMonths=Fd,H.timeSaturday=Ad,H.timeSaturdays=Zd,H.timeSecond=vd,H.timeSeconds=gd,H.timeSunday=Ld,H.timeSundays=Nd,H.timeThursday=Cd,H.timeThursdays=Od,H.timeTuesday=Ed,H.timeTuesdays=Dd,H.timeWednesday=Sd,H.timeWednesdays=Bd,H.timeWeek=Ld,H.timeWeeks=Nd,H.timeYear=Ud,H.timeYears=Hd,H.timeout=_i,H.timer=hi,H.timerFlush=fi,H.touch=jt,H.touches=function(t,e){null==e&&(e=Ot().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=Rt(t,e[n]);return r},H.transition=Bi,H.transpose=M,H.tree=function(){var l=sl,c=1,h=1,f=null;function e(t){var e=function(t){for(var e,n,i,r,o,a=new ll(t,0),s=[a];e=s.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)s.push(n=e.children[r]=new ll(i[r],r)),n.parent=e;return(a.parent=new ll(null,0)).children=[a],a}(t);if(e.eachAfter(d),e.parent.m=-e.z,e.eachBefore(p),f)t.eachBefore(_);else{var n=t,i=t,r=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>i.x&&(i=t),t.depth>r.depth&&(r=t)});var o=n===i?1:l(n,i)/2,a=o-n.x,s=c/(i.x+o+a),u=h/(r.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*s,t.y=t.depth*u})}return t}function d(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+l(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+l(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,r=t,o=t,a=e,s=r.parent.children[0],u=r.m,c=o.m,h=a.m,f=s.m;a=cl(a),r=ul(r),a&&r;)s=ul(s),(o=cl(o)).a=t,(i=a.z+h-r.z-u+l(a._,r._))>0&&(hl(fl(a,t,n),t,i),u+=i,c+=i),h+=a.m,u+=r.m,f+=s.m,c+=o.m;a&&!cl(o)&&(o.t=a,o.m+=h-c),r&&!ul(s)&&(s.t=r,s.m+=u-f,n=t)}return n}(t,i,t.parent.A||n[0])}function p(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function _(t){t.x*=c,t.y=t.depth*h}return e.separation=function(t){return arguments.length?(l=t,e):l},e.size=function(t){return arguments.length?(f=!1,c=+t[0],h=+t[1],e):f?null:[c,h]},e.nodeSize=function(t){return arguments.length?(f=!0,c=+t[0],h=+t[1],e):f?[c,h]:null},e},H.treemap=function(){var a=ml,e=!1,n=1,i=1,s=[0],u=Vf,c=Vf,h=Vf,f=Vf,l=Vf;function r(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(o),s=[0],e&&t.eachBefore(tl),t}function o(t){var e=s[t.depth],n=t.x0+e,i=t.y0+e,r=t.x1-e,o=t.y1-e;r<n&&(n=r=(n+r)/2),o<i&&(i=o=(i+o)/2),t.x0=n,t.y0=i,t.x1=r,t.y1=o,t.children&&(e=s[t.depth+1]=u(t)/2,n+=l(t)-e,i+=c(t)-e,(r-=h(t)-e)<n&&(n=r=(n+r)/2),(o-=f(t)-e)<i&&(i=o=(i+o)/2),a(t,n,i,r,o))}return r.round=function(t){return arguments.length?(e=!!t,r):e},r.size=function(t){return arguments.length?(n=+t[0],i=+t[1],r):[n,i]},r.tile=function(t){return arguments.length?(a=Yf(t),r):a},r.padding=function(t){return arguments.length?r.paddingInner(t).paddingOuter(t):r.paddingInner()},r.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:Xf(+t),r):u},r.paddingOuter=function(t){return arguments.length?r.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):r.paddingTop()},r.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:Xf(+t),r):c},r.paddingRight=function(t){return arguments.length?(h="function"==typeof t?t:Xf(+t),r):h},r.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:Xf(+t),r):f},r.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:Xf(+t),r):l},r},H.treemapBinary=function(t,e,n,i,r){var o,a,g=t.children,s=g.length,y=new Array(s+1);for(y[0]=a=o=0;o<s;++o)y[o+1]=a+=g[o].value;!function t(e,n,i,r,o,a,s){if(e>=n-1){var u=g[e];return u.x0=r,u.y0=o,u.x1=a,void(u.y1=s)}for(var c=y[e],h=i/2+c,f=e+1,l=n-1;f<l;){var d=f+l>>>1;y[d]<h?f=d+1:l=d}h-y[f-1]<y[f]-h&&e+1<f&&--f;var p=y[f]-c,_=i-p;if(a-r>s-o){var m=(r*_+a*p)/i;t(e,f,p,r,o,m,s),t(f,n,_,m,o,a,s)}else{var v=(o*_+s*p)/i;t(e,f,p,r,o,a,v),t(f,n,_,r,v,a,s)}}(0,s,t.value,e,n,i,r)},H.treemapDice=el,H.treemapResquarify=vl,H.treemapSlice=dl,H.treemapSliceDice=function(t,e,n,i,r){(1&t.depth?dl:el)(t,e,n,i,r)},H.treemapSquarify=ml,H.tsv=ua,H.tsvFormat=Jo,H.tsvFormatBody=Ko,H.tsvFormatRow=Qo,H.tsvFormatRows=$o,H.tsvFormatValue=ta,H.tsvParse=Vo,H.tsvParseRows=Xo,H.utcDay=Vd,H.utcDays=Xd,H.utcFriday=np,H.utcFridays=cp,H.utcHour=Wd,H.utcHours=Yd,H.utcMillisecond=dd,H.utcMilliseconds=pd,H.utcMinute=qd,H.utcMinutes=Gd,H.utcMonday=$d,H.utcMondays=op,H.utcMonth=fp,H.utcMonths=lp,H.utcSaturday=ip,H.utcSaturdays=hp,H.utcSecond=vd,H.utcSeconds=gd,H.utcSunday=Kd,H.utcSundays=rp,H.utcThursday=ep,H.utcThursdays=up,H.utcTuesday=Qd,H.utcTuesdays=ap,H.utcWednesday=tp,H.utcWednesdays=sp,H.utcWeek=Kd,H.utcWeeks=rp,H.utcYear=dp,H.utcYears=pp,H.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},H.variance=i,H.version="5.14.2",H.voronoi=function(){var r=cy,o=hy,e=null;function n(i){return new Gy(i.map(function(t,e){var n=[Math.round(r(t,e,i)/Fy)*Fy,Math.round(o(t,e,i)/Fy)*Fy];return n.index=e,n.data=t,n}),e)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(t){return arguments.length?(r="function"==typeof t?t:uy(+t),n):r},n.y=function(t){return arguments.length?(o="function"==typeof t?t:uy(+t),n):o},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n},H.window=ut,H.xml=fa,H.zip=function(){return M(arguments)},H.zoom=function(){var d,a,s=Qy,f=tb,p=rb,r=nb,e=ib,o=[0,1/0],_=[[-1/0,-1/0],[1/0,1/0]],u=250,l=jn,n=q("start","zoom","end"),c=500,h=150,m=0;function v(t){t.property("__zoom",eb).on("wheel.zoom",M).on("mousedown.zoom",T).on("dblclick.zoom",P).filter(e).on("touchstart.zoom",L).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(o[0],Math.min(o[1],e)))===t.k?t:new Vy(e,t.x,t.y)}function y(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Vy(t.k,i,r)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,c,h){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=this,e=arguments,i=w(t,e),n=f.apply(t,e),r=null==h?b(n):"function"==typeof h?h.apply(t,e):h,o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),a=t.__zoom,s="function"==typeof c?c.apply(t,e):c,u=l(a.invert(r).concat(o/a.k),s.invert(r).concat(o/s.k));return function(t){if(1===t)t=s;else{var e=u(t),n=o/e[2];t=new Vy(n,r[0]-e[0]*n,r[1]-e[1]*n)}i.zoom(null,t)}})}function w(t,e,n){return!n&&t.__zooming||new i(t,e)}function i(t,e){this.that=t,this.args=e,this.active=0,this.extent=f.apply(t,e),this.taps=0}function M(){if(s.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,n=Math.max(o[0],Math.min(o[1],e.k*Math.pow(2,r.apply(this,arguments)))),i=Zt(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[i,e.invert(i)],Si(this),t.start()}$y(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},h),t.zoom("mouse",p(y(g(e,n),t.mouse[0],t.mouse[1]),t.extent,_))}}function T(){if(!a&&s.apply(this,arguments)){var n=w(this,arguments,!0),t=Nt(H.event.view).on("mousemove.zoom",function(){if($y(),!n.moved){var t=H.event.clientX-i,e=H.event.clientY-r;n.moved=t*t+e*e>m}n.zoom("mouse",p(y(n.that.__zoom,n.mouse[0]=Zt(n.that),n.mouse[1]),n.extent,_))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),qt(H.event.view,n.moved),$y(),n.end()},!0),e=Zt(this),i=H.event.clientX,r=H.event.clientY;Ht(H.event.view),Ky(),n.mouse=[e,this.__zoom.invert(e)],Si(this),n.start()}}function P(){if(s.apply(this,arguments)){var t=this.__zoom,e=Zt(this),n=t.invert(e),i=t.k*(H.event.shiftKey?.5:2),r=p(y(g(t,i),e,n),f.apply(this,arguments),_);$y(),u>0?Nt(this).transition().duration(u).call(x,r,e):Nt(this).call(v.transform,r)}}function L(){if(s.apply(this,arguments)){var t,e,n,i,r=H.event.touches,o=r.length,a=w(this,arguments,H.event.changedTouches.length===o);for(Ky(),e=0;e<o;++e)i=[i=jt(this,r,(n=r[e]).identifier),this.__zoom.invert(i),n.identifier],a.touch0?a.touch1||a.touch0[2]===i[2]||(a.touch1=i,a.taps=0):(a.touch0=i,t=!0,a.taps=1+!!d);d&&(d=clearTimeout(d)),t&&(a.taps<2&&(d=setTimeout(function(){d=null},c)),Si(this),a.start())}}function k(){if(this.__zooming){var t,e,n,i,r=w(this,arguments),o=H.event.changedTouches,a=o.length;for($y(),d&&(d=clearTimeout(d)),r.taps=0,t=0;t<a;++t)n=jt(this,o,(e=o[t]).identifier),r.touch0&&r.touch0[2]===e.identifier?r.touch0[0]=n:r.touch1&&r.touch1[2]===e.identifier&&(r.touch1[0]=n);if(e=r.that.__zoom,r.touch1){var s=r.touch0[0],u=r.touch0[1],c=r.touch1[0],h=r.touch1[1],f=(f=c[0]-s[0])*f+(f=c[1]-s[1])*f,l=(l=h[0]-u[0])*l+(l=h[1]-u[1])*l;e=g(e,Math.sqrt(f/l)),n=[(s[0]+c[0])/2,(s[1]+c[1])/2],i=[(u[0]+h[0])/2,(u[1]+h[1])/2]}else{if(!r.touch0)return;n=r.touch0[0],i=r.touch0[1]}r.zoom("touch",p(y(e,n,i),r.extent,_))}}function E(){if(this.__zooming){var t,e,n=w(this,arguments),i=H.event.changedTouches,r=i.length;for(Ky(),a&&clearTimeout(a),a=setTimeout(function(){a=null},c),t=0;t<r;++t)e=i[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;if(n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0)n.touch0[1]=this.__zoom.invert(n.touch0[0]);else if(n.end(),2===n.taps){var o=Nt(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return v.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",eb),t!==i?x(t,e,n):i.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},v.scaleBy=function(t,n,e){v.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e},e)},v.scaleTo=function(t,o,a){v.transform(t,function(){var t=f.apply(this,arguments),e=this.__zoom,n=null==a?b(t):"function"==typeof a?a.apply(this,arguments):a,i=e.invert(n),r="function"==typeof o?o.apply(this,arguments):o;return p(y(g(e,r),n,i),t,_)},a)},v.translateBy=function(t,e,n){v.transform(t,function(){return p(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),f.apply(this,arguments),_)})},v.translateTo=function(t,i,r,o){v.transform(t,function(){var t=f.apply(this,arguments),e=this.__zoom,n=null==o?b(t):"function"==typeof o?o.apply(this,arguments):o;return p(Xy.translate(n[0],n[1]).scale(e.k).translate("function"==typeof i?-i.apply(this,arguments):-i,"function"==typeof r?-r.apply(this,arguments):-r),t,_)},o)},i.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){Et(new Yy(v,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},v.wheelDelta=function(t){return arguments.length?(r="function"==typeof t?t:Wy(+t),v):r},v.filter=function(t){return arguments.length?(s="function"==typeof t?t:Wy(!!t),v):s},v.touchable=function(t){return arguments.length?(e="function"==typeof t?t:Wy(!!t),v):e},v.extent=function(t){return arguments.length?(f="function"==typeof t?t:Wy([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):f},v.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],v):[o[0],o[1]]},v.translateExtent=function(t){return arguments.length?(_[0][0]=+t[0][0],_[1][0]=+t[1][0],_[0][1]=+t[0][1],_[1][1]=+t[1][1],v):[[_[0][0],_[0][1]],[_[1][0],_[1][1]]]},v.constrain=function(t){return arguments.length?(p=t,v):p},v.duration=function(t){return arguments.length?(u=+t,v):u},v.interpolate=function(t){return arguments.length?(l=t,v):l},v.on=function(){var t=n.on.apply(n,arguments);return t===n?v:t},v.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,v):Math.sqrt(m)},v},H.zoomIdentity=Xy,H.zoomTransform=Jy,Object.defineProperty(H,"__esModule",{value:!0})}(e)},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n},function(e,t,n){!function(){"use strict";function u(t){return(t="number"==typeof t?{precision:t}:t||{}).precision=t.precision||5,t.factor=t.factor||Math.pow(10,t.precision),t.dimension=t.dimension||2,t}var n={encode:function(t,e){e=u(e);for(var n=[],i=0,r=t.length;i<r;++i){var o=t[i];if(2===e.dimension)n.push(o.lat||o[0]),n.push(o.lng||o[1]);else for(var a=0;a<e.dimension;++a)n.push(o[a])}return this.encodeDeltas(n,e)},decode:function(t,e){e=u(e);for(var n=this.decodeDeltas(t,e),i=[],r=0,o=n.length;r+(e.dimension-1)<o;){for(var a=[],s=0;s<e.dimension;++s)a.push(n[r++]);i.push(a)}return i},encodeDeltas:function(t,e){e=u(e);for(var n=[],i=0,r=t.length;i<r;)for(var o=0;o<e.dimension;++o,++i){var a=t[i],s=a-(n[o]||0);n[o]=a,t[i]=s}return this.encodeFloats(t,e)},decodeDeltas:function(t,e){e=u(e);for(var n=[],i=this.decodeFloats(t,e),r=0,o=i.length;r<o;)for(var a=0;a<e.dimension;++a,++r)i[r]=Math.round((n[a]=i[r]+(n[a]||0))*e.factor)/e.factor;return i},encodeFloats:function(t,e){e=u(e);for(var n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*e.factor);return this.encodeSignedIntegers(t)},decodeFloats:function(t,e){e=u(e);for(var n=this.decodeSignedIntegers(t),i=0,r=n.length;i<r;++i)n[i]/=e.factor;return n},encodeSignedIntegers:function(t){for(var e=0,n=t.length;e<n;++e){var i=t[e];t[e]=i<0?~(i<<1):i<<1}return this.encodeUnsignedIntegers(t)},decodeSignedIntegers:function(t){for(var e=this.decodeUnsignedIntegers(t),n=0,i=e.length;n<i;++n){var r=e[n];e[n]=1&r?~(r>>1):r>>1}return e},encodeUnsignedIntegers:function(t){for(var e="",n=0,i=t.length;n<i;++n)e+=this.encodeUnsignedInteger(t[n]);return e},decodeUnsignedIntegers:function(t){for(var e=[],n=0,i=0,r=0,o=t.length;r<o;++r){var a=t.charCodeAt(r)-63;n|=(31&a)<<i,a<32?(e.push(n),i=n=0):i+=5}return e},encodeSignedInteger:function(t){return t=t<0?~(t<<1):t<<1,this.encodeUnsignedInteger(t)},encodeUnsignedInteger:function(t){for(var e,n="";32<=t;)e=63+(32|31&t),n+=String.fromCharCode(e),t>>=5;return e=t+63,n+=String.fromCharCode(e)}};if("object"==typeof e.exports&&(e.exports=n),"object"==typeof L){L.Polyline.prototype.fromEncoded||(L.Polyline.fromEncoded=function(t,e){return L.polyline(n.decode(t),e)}),L.Polygon.prototype.fromEncoded||(L.Polygon.fromEncoded=function(t,e){return L.polygon(n.decode(t),e)});var t={encodePath:function(){return n.encode(this.getLatLngs())}};L.Polyline.prototype.encodePath||L.Polyline.include(t),L.Polygon.prototype.encodePath||L.Polygon.include(t),L.PolylineUtil=n}}()},function(t,e,n){n(5),t.exports=n(6)},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var f=n(0),i=n(2),r=n.n(i),c=n(1),o=f.Control.extend({includes:f.Evented?f.Evented.prototype:f.Mixin.Events,options:{autohide:!0,autohideMarker:!0,collapsed:!1,controlButton:{iconCssClass:"elevation-toggle-icon",title:"Elevation"},detached:!0,distanceFactor:1,downloadLink:!0,elevationDiv:"#elevation-div",followMarker:!0,forceAxisBounds:!1,gpxOptions:{async:!0,marker_options:{startIconUrl:null,endIconUrl:null,shadowUrl:null,wptIcons:{"":f.divIcon({className:"elevation-waypoint-marker",html:'<i class="elevation-waypoint-icon"></i>',iconSize:[30,30],iconAnchor:[8,30]})}},polyline_options:{className:"",color:"#566B13",opacity:.75,weight:5,lineCap:"round"}},height:200,heightFactor:1,hoverNumber:{decimalsX:2,decimalsY:0,formatter:void 0},imperial:!1,interpolation:"curveLinear",lazyLoadJS:!0,marker:"elevation-line",markerIcon:f.divIcon({className:"elevation-position-marker",html:'<i class="elevation-position-icon"></i>',iconSize:[32,32],iconAnchor:[16,16]}),position:"topright",reverseCoords:!1,theme:"lightblue-theme",margins:{top:10,right:20,bottom:30,left:50},responsive:!0,summary:"inline",width:600,xLabel:"km",xTicks:void 0,yAxisMax:void 0,yAxisMin:void 0,yLabel:"m",yTicks:void 0,zFollow:13},__mileFactor:.621371,__footFactor:3.28084,addData:function(t,e){this._addData(t),this._container&&this._applyData(),null==e&&t.on&&(e=t),e&&(e._path&&f.DomUtil.addClass(e._path,"elevation-polyline "+this.options.theme),e.on("mousemove",this._mousemoveLayerHandler,this).on("mouseout",this._mouseoutHandler,this)),this.track_info=this.track_info||{},this.track_info.distance=this._distance,this.track_info.elevation_max=this._maxElevation,this.track_info.elevation_min=this._minElevation,this._layers=this._layers||{};var n={data:t,layer:this._layers[f.Util.stamp(e)]=e,track_info:this.track_info};this.fire&&this.fire("eledata_added",n,!0),this._map&&this._map.fire("eledata_added",n,!0)},addTo:function(t){this.options.detached?this._addToChartDiv(t):f.Control.prototype.addTo.call(this,t)},clear:function(){this._clearPath(),this._clearChart(),this._clearData(),this.fire&&this.fire("eledata_clear"),this._map&&this._map.fire("eledata_clear")},disableDragging:function(){this._draggingEnabled=!1,this._resetDrag()},enableDragging:function(){this._draggingEnabled=!0},fitBounds:function(){this._map&&this._map.fitBounds(this._fullExtent)},getZFollow:function(){return this._zFollow},hide:function(){this._container.style.display="none"},initialize:function(t){this.options.autohide=void 0!==t.autohide?t.autohide:!f.Browser.mobile,void 0!==t.detachedView&&(this.options.detached=t.detachedView),void 0!==t.responsiveView&&(this.options.responsive=t.responsiveView),void 0!==t.showTrackInfo&&(this.options.summary=t.showTrackInfo),void 0!==t.summaryType&&(this.options.summary=t.summaryType),void 0!==t.autohidePositionMarker&&(this.options.autohideMarker=t.autohidePositionMarker),void 0!==t.followPositionMarker&&(this.options.followMarker=t.followMarker),void 0!==t.useLeafletMarker&&(this.options.marker=t.useLeafletMarker?"position-marker":"elevation-line"),void 0!==t.leafletMarkerIcon&&(this.options.markerIcon=t.leafletMarkerIcon),this.options=this._deepExtend(this.options,t),this._draggingEnabled=!f.Browser.mobile,t.imperial?(this._distanceFactor=this.__mileFactor,this._heightFactor=this.__footFactor,this._xLabel="mi",this._yLabel="ft"):(this._distanceFactor=this.options.distanceFactor,this._heightFactor=this.options.heightFactor,this._xLabel=this.options.xLabel,this._yLabel=this.options.yLabel),this._zFollow=this.options.zFollow},load:function(t){this.loadData(t)},loadChart:function(t){this.addTo(t)},loadData:function(t){this._isXMLDoc(t)?this.loadGPX(t):this._isJSONDoc(t)?this.loadGeoJSON(t):this.loadFile(t)},loadFile:function(t){this._downloadURL=t;try{var e=new XMLHttpRequest;e.responseType="text",e.open("GET",t),e.onload=function(){if(200!==e.status)throw"Error "+e.status+" while fetching remote file: "+t;this.loadData(e.response)}.bind(this),e.send()}catch(t){console.warn(t)}},loadGeoJSON:function(n){"string"==typeof n&&(n=JSON.parse(n)),this.layer=this.geojson=f.geoJson(n,{style:function(t){return{color:"#566B13",className:"elevation-polyline "+this.options.theme}}.bind(this),onEachFeature:function(t,e){this.addData(t,e),this.track_info=this.track_info||{},this.track_info.type="geojson",this.track_info.name=n.name,this.track_info.distance=this._distance,this.track_info.elevation_max=this._maxElevation,this.track_info.elevation_min=this._minElevation}.bind(this)}),this._map?(this._map.once("layeradd",function(t){this._map.fitBounds(this.layer.getBounds());var e={data:n,layer:this.layer,name:this.track_info.name,track_info:this.track_info};this.fire&&this.fire("eledata_loaded",e,!0),this._map&&this._map.fire("eledata_loaded",e,!0)},this),this.layer.addTo(this._map)):console.warn("Undefined elevation map object")},loadGPX:function(t){var e="function"!=typeof f.GPX&&this.options.lazyLoadJS&&!f.Control.Elevation._gpxLazyLoader;f.Control.Elevation._gpxLazyLoader=this._lazyLoadJS("https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.4.0/gpx.js",!e),f.Control.Elevation._gpxLazyLoader.then(function(n){this.options.gpxOptions.polyline_options.className+="elevation-polyline "+this.options.theme,this.layer=this.gpx=new f.GPX(n,this.options.gpxOptions),this.layer.on("loaded",function(t){this._map&&this._map.fitBounds(t.target.getBounds())},this),this.layer.on("addpoint",function(t){t.point._popup&&(t.point._popup.options.className="elevation-popup"),t.point._popup&&t.point._popup._content&&t.point.bindTooltip(t.point._popup._content,{direction:"top",sticky:!0,opacity:1,className:"elevation-tooltip"}).openTooltip()}),this.layer.once("addline",function(t){this.addData(t.line),this.track_info=this.track_info||{},this.track_info.type="gpx",this.track_info.name=this.layer.get_name(),this.track_info.distance=this._distance,this.track_info.elevation_max=this._maxElevation,this.track_info.elevation_min=this._minElevation;var e={data:n,layer:this.layer,name:this.track_info.name,track_info:this.track_info};this.fire&&this.fire("eledata_loaded",e,!0),this._map&&this._map.fire("eledata_loaded",e,!0)},this),this._map?this.layer.addTo(this._map):console.warn("Undefined elevation map object")}.bind(this,t))},onAdd:function(t){this._map=t;var e=this.options,n=this._container=f.DomUtil.create("div","elevation-control elevation");this.options.detached||f.DomUtil.addClass(n,"leaflet-control"),this.options.theme&&f.DomUtil.addClass(n,e.theme);var i="object"!==r()(c)&&this.options.lazyLoadJS&&!f.Control.Elevation._d3LazyLoader;return f.Control.Elevation._d3LazyLoader=this._lazyLoadJS("https://unpkg.com/d3@4.13.0/build/d3.min.js",!i),f.Control.Elevation._d3LazyLoader.then(function(t,e){this._initToggle(e),this._initChart(e),this._applyData(),this._map.on("zoom viewreset zoomanim",this._hidePositionMarker,this),this._map.on("resize",this._resetView,this),this._map.on("resize",this._resizeChart,this),this._map.on("mousedown",this._resetDrag,this),this._map.on("eledata_loaded",this._updateSummary,this),f.DomEvent.on(this._map._container,"mousewheel",this._resetDrag,this),f.DomEvent.on(this._map._container,"touchstart",this._resetDrag,this)}.bind(this,t,n)),n},onRemove:function(){this._container=null},setZFollow:function(t){this._zFollow=t},show:function(){this._container.style.display="block"},_addData:function(t){var e,n=t&&t.geometry&&t.geometry;if(n)switch(n.type){case"LineString":this._addGeoJSONData(n.coordinates);break;case"MultiLineString":for(e=0;e<n.coordinates.length;e++)this._addGeoJSONData(n.coordinates[e]);break;default:console.warn("Unsopperted GeoJSON feature geometry type:"+n.type)}if(t&&"FeatureCollection"===t.type)for(e=0;e<t.features.length;e++)this._addData(t.features[e]);t&&t._latlngs&&this._addGPXdata(t._latlngs)},_addGeoJSONData:function(t){if(t)for(var e=0;e<t.length;e++)this._addPoint(t[e][1],t[e][0],t[e][2])},_addGPXdata:function(t){if(t)for(var e=0;e<t.length;e++)this._addPoint(t[e].lat,t[e].lng,t[e].meta.ele)},_addPoint:function(t,e,n){if(this.options.reverseCoords){var i=t;t=e,e=i}var r=this._data||[],o=this._maxElevation||-1/0,a=this._minElevation||1/0,s=this._distance||0,u=new f.LatLng(t,e),c=r.length?r[r.length-1].latlng:u,h=u.distanceTo(c)*this._distanceFactor;s+=Math.round(h/1e3*1e5)/1e5,void 0!==n&&(o=o<(n*=this._heightFactor)?n:o,a=n<a?n:a,r.push({dist:s,x:t,y:e,z:n,latlng:u})),this._data=r,this._distance=s,this._maxElevation=o,this._minElevation=a},_addToChartDiv:function(t){this._appendElevationDiv(t._container).appendChild(this.onAdd(t))},_appendChart:function(t){var e=t.append("g").attr("transform","translate("+this.options.margins.left+","+this.options.margins.top+")");this._appendGrid(e),this._appendAreaPath(e),this._appendAxis(e),this._appendFocusRect(e),this._appendMouseFocusG(e)},_appendElevationDiv:function(t){var e=document.querySelector(this.options.elevationDiv);return e||(e=f.DomUtil.create("div","leaflet-control elevation elevation-div"),this.options.elevationDiv="#elevation-div_"+Math.random().toString(36).substr(2,9),e.id=this.options.elevationDiv.substr(1),t.parentNode.insertBefore(e,t.nextSibling)),this.options.detached&&(f.DomUtil.addClass(e,"elevation-detached"),f.DomUtil.removeClass(e,"leaflet-control")),this.eleDiv=e,this.eleDiv},_appendXaxis:function(t){t.append("g").attr("class","x axis").attr("transform","translate(0,"+this._height()+")").call(c.axisBottom().scale(this._x).ticks(this.options.xTicks)).append("text").attr("x",this._width()+6).attr("y",30).text(this._xLabel)},_appendXGrid:function(t){t.append("g").attr("class","x grid").attr("transform","translate(0,"+this._height()+")").call(c.axisBottom().scale(this._x).ticks(this.options.xTicks).tickSize(-this._height()).tickFormat(""))},_appendYaxis:function(t){t.append("g").attr("class","y axis").call(c.axisLeft().scale(this._y).ticks(this.options.yTicks)).append("text").attr("x",-30).attr("y",3).text(this._yLabel)},_appendYGrid:function(t){t.append("g").attr("class","y grid").call(c.axisLeft().scale(this._y).ticks(this.options.yTicks).tickSize(-this._width()).tickFormat(""))},_appendAreaPath:function(t){this._areapath=t.append("path").attr("class","area")},_appendAxis:function(t){this._axis=t.append("g").attr("class","axis"),this._appendXaxis(this._axis),this._appendYaxis(this._axis)},_appendFocusRect:function(t){var e=this._focusRect=t.append("rect").attr("width",this._width()).attr("height",this._height()).style("fill","none").style("stroke","none").style("pointer-events","all");f.Browser.mobile&&(e.on("touchmove.drag",this._dragHandler.bind(this)).on("touchstart.drag",this._dragStartHandler.bind(this)).on("touchstart.focus",this._mousemoveHandler.bind(this)).on("touchmove.focus",this._mousemoveHandler.bind(this)),f.DomEvent.on(this._container,"touchend",this._dragEndHandler,this)),e.on("mousemove.drag",this._dragHandler.bind(this)).on("mousedown.drag",this._dragStartHandler.bind(this)).on("mousemove.focus",this._mousemoveHandler.bind(this)).on("mouseout.focus",this._mouseoutHandler.bind(this)),f.DomEvent.on(this._container,"mouseup",this._dragEndHandler,this)},_appendGrid:function(t){this._grid=t.append("g").attr("class","grid"),this._appendXGrid(this._grid),this._appendYGrid(this._grid)},_appendMouseFocusG:function(t){var e=this._focusG=t.append("g").attr("class","mouse-focus-group");this._mousefocus=e.append("svg:line").attr("class","mouse-focus-line").attr("x2","0").attr("y2","0").attr("x1","0").attr("y1","0"),this._focuslabelrect=e.append("rect").attr("class","mouse-focus-label").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",3).attr("ry",3),this._focuslabeltext=e.append("svg:text").attr("class","mouse-focus-label-text"),this._focuslabelY=this._focuslabeltext.append("svg:tspan").attr("class","mouse-focus-label-y").attr("dy","-1em"),this._focuslabelX=this._focuslabeltext.append("svg:tspan").attr("class","mouse-focus-label-x").attr("dy","2em")},_appendPositionMarker:function(t){var e=this.options.theme,n=t.select("g");this._mouseHeightFocus=n.append("svg:line").attr("class",e+" height-focus line").attr("x2",0).attr("y2",0).attr("x1",0).attr("y1",0),this._pointG=n.append("g"),this._pointG.append("svg:circle").attr("class",e+" height-focus circle-lower").attr("r",6).attr("cx",0).attr("cy",0),this._mouseHeightFocusLabel=n.append("svg:text").attr("class",e+" height-focus-label").style("pointer-events","none")},_applyData:function(){if(this._data){var t=c.extent(this._data,function(t){return t.dist}),e=c.extent(this._data,function(t){return t.z}),n=this.options;void 0!==n.yAxisMin&&(n.yAxisMin<e[0]||n.forceAxisBounds)&&(e[0]=n.yAxisMin),void 0!==n.yAxisMax&&(n.yAxisMax>e[1]||n.forceAxisBounds)&&(e[1]=n.yAxisMax),this._x.domain(t),this._y.domain(e),this._areapath.datum(this._data).attr("d",this._area),this._updateAxis(),this._fullExtent=this._calculateFullExtent(this._data)}},_calculateFullExtent:function(t){if(!t||t.length<1)throw new Error("no data in parameters");var e=new f.latLngBounds(t[0].latlng,t[0].latlng);return t.forEach(function(t){e.extend(t.latlng)}),e},_clearChart:function(){this._resetDrag(),this._areapath&&(this._areapath.attr("d","M0 0"),this._x.domain([0,1]),this._y.domain([0,1]),this._updateAxis())},_clearData:function(){this._data=null,this._distance=null,this._maxElevation=null,this._minElevation=null,this.track_info=null,this._layers=null},_clearPath:function(){for(var t in this._hidePositionMarker(),this._layers)f.DomUtil.removeClass(this._layers[t]._path,"elevation-polyline"),f.DomUtil.removeClass(this._layers[t]._path,this.options.theme)},_collapse:function(){this._container&&(f.DomUtil.removeClass(this._container,"elevation-expanded"),f.DomUtil.addClass(this._container,"elevation-collapsed"))},_deepExtend:function(t){t=t||{};for(var e=1,n=arguments.length;e<n;++e){var i=arguments[e];if(i)for(var r in i)i.hasOwnProperty(r)&&("[object Object]"!==Object.prototype.toString.call(i[r])?t[r]=i[r]:t[r]=this._deepExtend(t[r],i[r]))}return t},_dragHandler:function(){c.event.preventDefault(),c.event.stopPropagation(),this._gotDragged=!0,this._drawDragRectangle()},_dragEndHandler:function(){if(!this._dragStartCoords||!this._dragCurrentCoords||!this._gotDragged)return this._dragStartCoords=null,this._gotDragged=!1,void(this._draggingEnabled&&this._resetDrag());var t=this._findItemForX(this._dragStartCoords[0]),e=this._findItemForX(this._dragCurrentCoords[0]);if(t!=e){this._hidePositionMarker(),this._fitSection(t,e),this._dragStartCoords=null,this._gotDragged=!1;var n={data:{dragstart:this._data[t],dragend:this._data[e]}};this.fire&&this.fire("elechart_dragged",n,!0),this._map&&this._map.fire("elechart_dragged",n,!0)}},_dragStartHandler:function(){c.event.preventDefault(),c.event.stopPropagation(),this._gotDragged=!1,this._dragStartCoords=c.mouse(this._focusRect.node())},_drawDragRectangle:function(){if(this._dragStartCoords&&this._draggingEnabled){var t=this._dragCurrentCoords=c.mouse(this._focusRect.node()),e=Math.min(this._dragStartCoords[0],t[0]),n=Math.max(this._dragStartCoords[0],t[0]);if(this._dragRectangle||this._dragRectangleG)this._dragRectangle.attr("width",n-e).attr("x",e);else{var i=c.select(this._container).select("svg").select("g");this._dragRectangleG=i.insert("g",".mouse-focus-group"),this._dragRectangle=this._dragRectangleG.append("rect").attr("width",n-e).attr("height",this._height()).attr("x",e).attr("class","mouse-drag").style("pointer-events","none")}}},_expand:function(){this._container&&(f.DomUtil.removeClass(this._container,"elevation-collapsed"),f.DomUtil.addClass(this._container,"elevation-expanded"))},_findItemForLatLng:function(n){var i=null,r=1/0;return this._data.forEach(function(t){var e=n.distanceTo(t.latlng);e<r&&(r=e,i=t)}),i},_findItemForX:function(t){var e=c.bisector(function(t){return t.dist}).left,n=this._x.invert(t);return e(this._data,n)},_fitSection:function(t,e){var n=Math.min(t,e),i=Math.max(t,e),r=this._calculateFullExtent(this._data.slice(n,i));this._map&&this._map.fitBounds(r)},_formatter:function(t,e,n){var i,r=(i=0===e?Math.round(t)+"":f.Util.formatNum(t,e)+"").split(".");if(r[1]){for(var o=e-r[1].length;0<o;o--)r[1]+="0";i=r.join(n||".")}return i},_height:function(){var t=this.options;return t.height-t.margins.top-t.margins.bottom},_hidePositionMarker:function(){this.options.autohideMarker&&(this._selectedItem=null,this._marker&&(this._map&&this._map.removeLayer(this._marker),this._marker=null),this._mouseHeightFocus&&(this._mouseHeightFocus.style("visibility","hidden"),this._mouseHeightFocusLabel.style("visibility","hidden")),this._pointG&&this._pointG.style("visibility","hidden"),this._focusG&&this._focusG.style("visibility","hidden"))},_initChart:function(){var t=this.options;if(t.xTicks=t.xTicks||Math.round(this._width()/75),t.yTicks=t.yTicks||Math.round(this._height()/30),t.hoverNumber.formatter=t.hoverNumber.formatter||this._formatter,t.responsive)if(t.detached){var e=this.eleDiv.offsetWidth,n=this.eleDiv.offsetHeight;t.width=0<e?e:t.width,t.height=0<n-20?n-20:t.height}else{t._maxWidth=t._maxWidth>t.width?t._maxWidth:t.width;var i=this._map._container.clientWidth;t.width=t._maxWidth>i?i-30:t.width}var r=this._x=c.scaleLinear().range([0,this._width()]),o=this._y=c.scaleLinear().range([this._height(),0]),a="function"==typeof t.interpolation?t.interpolation:c[t.interpolation],s=(this._area=c.area().curve(a).x(function(t){return t.xDiagCoord=r(t.dist)}).y0(this._height()).y1(function(t){return o(t.z)}),this._line=c.line().x(function(t){return c.mouse(u.select("g"))[0]}).y(function(t){return this._height()}),c.select(this._container)),u=s.append("svg").attr("class","background").attr("width",t.width).attr("height",t.height);this.summaryDiv=s.append("div").attr("class","elevation-summary "+this.options.summary+"-summary").node();this._appendChart(u),this._updateSummary()},_initToggle:function(t){if(t.setAttribute("aria-haspopup",!0),this.options.detached||f.DomEvent.disableClickPropagation(t),f.Browser.mobile&&f.DomEvent.on(t,"click",f.DomEvent.stopPropagation),f.DomEvent.on(t,"mousewheel",this._mousewheelHandler,this),!this.options.detached){var e="elevation-toggle "+this.options.controlButton.iconCssClass+(this.options.autohide?"":" close-button"),n=this._button=f.DomUtil.create("a",e,t);n.href="#",n.title=this.options.controlButton.title,this.options.collapsed&&(this._collapse(),this.options.autohide?f.DomEvent.on(t,"mouseover",this._expand,this).on(t,"mouseout",this._collapse,this):f.DomEvent.on(n,"click",f.DomEvent.stop).on(n,"click",this._toggle,this),f.DomEvent.on(n,"focus",this._toggle,this),this._map.on("click",this._collapse,this))}},_isJSONDoc:function(e,n){if(n=void 0===n||n,"string"==typeof e&&n)return 0==(e=e.trim()).indexOf("{")||0==e.indexOf("[");try{JSON.parse(e.toString())}catch(t){return!("object"!==r()(e)||!n)||(console.warn(t),!1)}return!0},_isXMLDoc:function(t,e){if(e=void 0===e||e,"string"==typeof t&&e)return 0==(t=t.trim()).indexOf("<");var n=(t?t.ownerDocument||t:0).documentElement;return!!n&&"HTML"!==n.nodeName},_isDomVisible:function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_lazyLoadJS:function(i,r){return void 0===r&&(r=!1),new Promise(function(t,e){r&&t();var n=document.createElement("script");n.addEventListener("load",t,{once:!0}),n.src=i,document.head.appendChild(n)})},_mousemoveHandler:function(){if(this._data&&0!==this._data.length){var t=c.mouse(this._focusRect.node())[0],e=this._data[this._findItemForX(t)];if(this._hidePositionMarker(),this._showDiagramIndicator(e,t),this._showPositionMarker(e),this.options.followMarker){var n=this._map.getZoom();n=n<this._zFollow?this._zFollow:n,this._map.setView(e.latlng,n)}var i={data:e};this.fire&&this.fire("elechart_change",i,!0),this._map&&this._map.fire("elechart_change",i,!0)}},_mousemoveLayerHandler:function(t){if(this._data&&0!==this._data.length){var e=t.latlng,n=this._findItemForLatLng(e);if(n){var i=n.xDiagCoord;this._hidePositionMarker(),this._showDiagramIndicator(n,i),this._showPositionMarker(n)}}},_mouseoutHandler:function(){this.options.detached||this._hidePositionMarker()},_mousewheelHandler:function(t){if(!this._map.gestureHandling||!this._map.gestureHandling._enabled){var e=this._selectedItem?this._selectedItem.latlng:this._map.getCenter(),n=0<t.deltaY?this._map.getZoom()-1:this._map.getZoom()+1;this._resetDrag(),this._map.flyTo(e,n)}},_resetDrag:function(){this._dragRectangleG&&(this._dragRectangleG.remove(),this._dragRectangleG=null,this._dragRectangle=null,this._hidePositionMarker())},_resetView:function(){this._resetDrag(),this._hidePositionMarker(),this._map&&this._map.fitBounds(this._fullExtent)},_resizeChart:function(){if(this.options.responsive)if(this.options.detached){var t=this.eleDiv.offsetWidth;if(t<=0)return;this.options.width=t,this.eleDiv.innerHTML="";var e=this.onAdd(this._map);this.eleDiv.appendChild(e)}else this._map.removeControl(this._container),this.addTo(this._map)},_showDiagramIndicator:function(t,e){var n=this.options;this._focusG.style("visibility","visible"),this._mousefocus.attr("x1",e).attr("y1",0).attr("x2",e).attr("y2",this._height()).classed("hidden",!1);var i=t.z,r=t.dist,o=(t.latlng,n.hoverNumber.formatter(i,n.hoverNumber.decimalsY)),a=n.hoverNumber.formatter(r,n.hoverNumber.decimalsX);this._focuslabeltext.attr("y",this._y(t.z)).style("font-weight","700"),this._focuslabelX.text(a+" "+this._xLabel).attr("x",e+10),this._focuslabelY.text(o+" "+this._yLabel).attr("x",e+10);var s=this._focuslabeltext.node();if(this._isDomVisible(s)){var u=s.getBBox();this._focuslabelrect.attr("x",u.x-2).attr("y",u.y-2).attr("width",u.width+4).attr("height",u.height+4),e>=this._width()/2&&(this._focuslabelrect.attr("x",this._focuslabelrect.attr("x")-this._focuslabelrect.attr("width")-4-10),this._focuslabelX.attr("x",this._focuslabelX.attr("x")-this._focuslabelrect.attr("width")-4-10),this._focuslabelY.attr("x",this._focuslabelY.attr("x")-this._focuslabelrect.attr("width")-4-10))}},_toggle:function(){f.DomUtil.hasClass(this._container,"elevation-expanded")?this._collapse():this._expand()},_showPositionMarker:function(t){this._selectedItem=t,this._map&&!this._map.getPane("elevationPane")&&(this._map.createPane("elevationPane"),this._map.getPane("elevationPane").style.zIndex=625,this._map.getPane("elevationPane").style.pointerEvents="none"),"elevation-line"==this.options.marker?this._updatePositionMarker(t):"position-marker"==this.options.marker&&this._updateLeafletMarker(t)},_updateAxis:function(){this._grid.selectAll("g").remove(),this._axis.selectAll("g").remove(),this._appendXGrid(this._grid),this._appendYGrid(this._grid),this._appendXaxis(this._axis),this._appendYaxis(this._axis)},_updateHeightIndicator:function(t){var e=this.options,n=e.hoverNumber.formatter(t.z,e.hoverNumber.decimalsY),i=(e.hoverNumber.formatter(t.dist,e.hoverNumber.decimalsX),this._height()/this._maxElevation*t.z),r=t.y-i;this._mouseHeightFocus.attr("x1",t.x).attr("x2",t.x).attr("y1",t.y).attr("y2",r).style("visibility","visible"),this._mouseHeightFocusLabel.attr("x",t.x).attr("y",r).text(n+" "+this._yLabel).style("visibility","visible")},_updateLeafletMarker:function(t){var e=t.latlng;this._marker?this._marker.setLatLng(e):(this._marker=new f.Marker(e,{icon:this.options.MarkerIcon,zIndexOffset:1e6}),this._marker.addTo(this._map,{pane:"elevationPane"}))},_updatePointG:function(t){this._pointG.attr("transform","translate("+t.x+","+t.y+")").style("visibility","visible")},_updatePositionMarker:function(t){var e=this._map.latLngToLayerPoint(t.latlng),n={dist:t.dist,x:e.x,y:e.y,z:t.z};if(!this._mouseHeightFocus){f.svg({pane:"elevationPane"}).addTo(this._map);var i=c.select(this._map.getContainer()).select(".leaflet-elevation-pane svg");this._appendPositionMarker(i)}this._updatePointG(n),this._updateHeightIndicator(n)},_updateSummary:function(){if(this.options.summary&&(this.track_info=this.track_info||{},this.track_info.distance=this._distance||0,this.track_info.elevation_max=this._maxElevation||0,this.track_info.elevation_min=this._minElevation||0,c.select(this.summaryDiv).html('<span class="totlen"><span class="summarylabel">Total Length: </span><span class="summaryvalue">'+this.track_info.distance.toFixed(2)+" "+this._xLabel+'</span></span><span class="maxele"><span class="summarylabel">Max Elevation: </span><span class="summaryvalue">'+this.track_info.elevation_max.toFixed(2)+" "+this._yLabel+'</span></span><span class="minele"><span class="summarylabel">Min Elevation: </span><span class="summaryvalue">'+this.track_info.elevation_min.toFixed(2)+" "+this._yLabel+"</span></span>")),this.options.downloadLink&&this._downloadURL){var t=document.createElement("span");t.className="download";var e=document.createElement("a");e.className="download-link",e.innerHTML="Download",e.href="#",e.download="",n=e,i=this._downloadURL,n.onclick=function(t){t.preventDefault();var e=document.createElement("a");e.href=i,e.target="_new",e.download="",e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},this.summaryDiv.appendChild(t).appendChild(e)}var n,i},_width:function(){var t=this.options;return t.width-t.margins.left-t.margins.right},loadDataCustom:function(t,e){this._map=e,this._clearData(),this._addData(t),this._applyData(t)},initCustom:function(t){var e=this.options;this._map=t,this.eleDiv=document.querySelector(this.options.elevationDiv);var n=this._container=f.DomUtil.create("div","elevation");f.DomUtil.addClass(n,"leaflet-control "+e.theme),this.eleDiv.appendChild(n),this._initChart(n)}}),a=(n(3),function(t,a,s,u){return new(s=s||Promise)(function(n,e){function i(t){try{o(u.next(t))}catch(t){e(t)}}function r(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,r)}o((u=u.apply(t,a||[])).next())})}),s=function(n,i){var r,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};f.control.elevation=function(t){return new o(t)};var u,h,l="https://api.mapbox.com/styles/v1/mapbox/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiamJlcm51cyIsImEiOiJjanlqMWppcHMwNTd1M25ueGZpeG5jMDY2In0.4PHyCpVuKgSULBgy-n0jmA",d=[47.02167640440166,8.653083890676498],p=f.divIcon({className:"start_icon"}),_=f.divIcon({className:"finish_icon"}),m="#0026af",v="#008aff",g="selected",y="Start",b="Finish",x=f.tileLayer(l,{id:"streets-v11",tileSize:512,zoomOffset:-1}),w=f.tileLayer(l,{id:"outdoors-v9",tileSize:512,zoomOffset:-1}),M=f.tileLayer(l,{id:"satellite-streets-v11",tileSize:512,zoomOffset:-1}),T={Outdoors:w,Streets:x,Satellite:M},P=document.getElementsByClassName("list_item"),L=document.getElementById("infos"),k=document.getElementById("list"),E=document.getElementById("toggle_list_trigger"),S=document.getElementById("search_input"),C=[],z={},A=!1,N=[];function I(t,e){t.setStyle({opacity:e}),t.startMarker.setOpacity(e),t.finishMarker.setOpacity(e)}function D(t){var e=f.Polyline.fromEncoded(t.encoded).getLatLngs(),n=f.polyline(e,{color:m,weight:4,opacity:.7,lineJoin:"round"}).addTo(z).bindPopup(t.name,{autoPan:!1}).on("click",function(){console.log("col",t.name)}),i=f.marker([t.start_latlng[0],t.start_latlng[1]],{icon:p,title:y}).addTo(z),r=f.marker([t.end_latlng[0],t.end_latlng[1]],{icon:_,title:b}).addTo(z);n.name=t.name,n.startMarker=i,n.finishMarker=r,N.push(n)}function B(){Array.from(P).forEach(function(t){t.parentElement.classList.remove(g)})}function O(t,e){var n=t.getAttribute("data-name");N.find(function(t){return t.name===n}).setStyle({color:e,opacity:1})}function R(){O(this,v)}function Z(){O(this,m)}function j(t,e){var n,i,r=this.getAttribute("data-lat"),o=this.getAttribute("data-long"),a=this.getAttribute("data-name");u=N.find(function(t){return t.name===a}),B(),this.parentElement.classList.add(g),A=!1,n=r,i=o,z.setView(new f.LatLng(n,i),12,{animate:!0}),u.openPopup();var s=u.name.toLowerCase().replace(/ /g,"_").replace(//g,"u").replace(/\./g,"");fetch("data/coords/"+s+".json").then(function(t){return t.json()}).then(function(t){var e={name:"demo.geojson",type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:t},properties:null}]};h.loadDataCustom(e,z)})}a(void 0,void 0,void 0,function(){var i,r,o;return s(this,function(t){switch(t.label){case 0:return[4,fetch("data/cols.json")];case 1:return[4,t.sent().json()];case 2:for(C=(C=t.sent()).map(function(t){var e=(t.start_latlng[0]+t.end_latlng[0])/2,n=(t.start_latlng[1]+t.end_latlng[1])/2;return t.mid_latlng=[e,n],t}),z=f.map("map",{attributionControl:!1,layers:[x]}).setView(d,9),f.control.layers(T).addTo(z),f.control.attribution().addTo(z).addAttribution('<a href="https://github.com/Raruto/leaflet-elevation">Leaflet Elevation</a> |  <a href="https://www.mapbox.com/about/maps/">Mapbox</a>  <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>'),z.zoomControl.setPosition("bottomright"),(h=f.control.elevation({elevationDiv:"#elevation-div",useLeafletMarker:!1,followMarker:!1,reverseCoords:!0,theme:"lime-theme"})).initCustom(z),i=0,r=C;i<r.length;i++)o=r[i],n=void 0,n="<li>",n+='<a href="#'+(e=o).name.replace(/ /g,"_").toLowerCase()+'" ',n+='class="list_item" ',n+='data-name="'+e.name+'" ',n+='data-lat="'+e.mid_latlng[0]+'" ',n+='data-long="'+e.mid_latlng[1]+'">',n+=e.name,n+="</a>",n+="</li>",k.innerHTML+=n,D(o);return z.on("moveend click",function(t){if(A){console.log("drag zoom");for(var e=0,n=N;e<n.length;e++)I(o=n[e],1);A=!1,u=void 0,B()}if(void 0!==u){for(var i=0,r=N;i<r.length;i++){var o;I(o=r[i],o!==u?.4:1)}A=!0}}),Array.from(P).forEach(function(t){t.addEventListener("click",j),t.addEventListener("mouseenter",R),t.addEventListener("mouseleave",Z)}),E.addEventListener("click",function(){L.classList.toggle("hidden")}),S.addEventListener("keyup",function(t){var e=this.value.toLowerCase(),n=C.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e)});Array.from(P).forEach(function(e){var t=n.find(function(t){return t.name===e.getAttribute("data-name")})?"remove":"add";e.parentElement.classList[t]("hidden")})}),[2]}var e,n})})}]);